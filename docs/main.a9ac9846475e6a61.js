(self.webpackChunkregistro=self.webpackChunkregistro||[]).push([[179],{838:(Ie,b,M)=>{"use strict";function D(n){return"function"==typeof n}function S(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const C=S(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function E(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class A{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(D(r))try{r()}catch(o){e=o instanceof C?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{P(o)}catch(s){e=e??[],s instanceof C?e=[...e,...s.errors]:e.push(s)}}if(e)throw new C(e)}}add(e){var t;if(e&&e!==this)if(this.closed)P(e);else{if(e instanceof A){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&E(t,e)}remove(e){const{_finalizers:t}=this;t&&E(t,e),e instanceof A&&e._removeParent(this)}}A.EMPTY=(()=>{const n=new A;return n.closed=!0,n})();const T=A.EMPTY;function O(n){return n instanceof A||n&&"closed"in n&&D(n.remove)&&D(n.add)&&D(n.unsubscribe)}function P(n){D(n)?n():n.unsubscribe()}const $={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ue={setTimeout(n,e,...t){const{delegate:r}=ue;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ue;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Pe(n){ue.setTimeout(()=>{const{onUnhandledError:e}=$;if(!e)throw n;e(n)})}function q(){}const oe=Ct("C",void 0,void 0);function Ct(n,e,t){return{kind:n,value:e,error:t}}let ye=null;function be(n){if($.useDeprecatedSynchronousErrorHandling){const e=!ye;if(e&&(ye={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ye;if(ye=null,t)throw r}}else n()}class ve extends A{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,O(e)&&e.add(this)):this.destination=he}static create(e,t,r){return new de(e,t,r)}next(e){this.isStopped?Se(function Ge(n){return Ct("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Se(function we(n){return Ct("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Se(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ot=Function.prototype.bind;function Kt(n,e){return Ot.call(n,e)}class te{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){re(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){re(r)}else re(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){re(t)}}}class de extends ve{constructor(e,t,r){let i;if(super(),D(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&$.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kt(e.next,o),error:e.error&&Kt(e.error,o),complete:e.complete&&Kt(e.complete,o)}):i=e}this.destination=new te(i)}}function re(n){$.useDeprecatedSynchronousErrorHandling?function xe(n){$.useDeprecatedSynchronousErrorHandling&&ye&&(ye.errorThrown=!0,ye.error=n)}(n):Pe(n)}function Se(n,e){const{onStoppedNotification:t}=$;t&&ue.setTimeout(()=>t(n,e))}const he={closed:!0,next:q,error:function Z(n){throw n},complete:q},ee="function"==typeof Symbol&&Symbol.observable||"@@observable";function _e(n){return n}function hr(n){return 0===n.length?_e:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let it=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Xl(n){return n&&n instanceof ve||function vu(n){return n&&D(n.next)&&D(n.error)&&D(n.complete)}(n)&&O(n)}(t)?t:new de(t,r,i);return be(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=gu(r))((i,o)=>{const s=new de({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[ee](){return this}pipe(...t){return hr(t)(this)}toPromise(t){return new(t=gu(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function gu(n){var e;return null!==(e=n??$.Promise)&&void 0!==e?e:Promise}const Ts=S(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Tn=(()=>{class n extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Ms(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ts}next(t){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?T:(this.currentObservers=null,o.push(t),new A(()=>{this.currentObservers=null,E(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new it;return t.source=this,t}}return n.create=(e,t)=>new Ms(e,t),n})();class Ms extends Tn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:T}}function mo(n){return D(n?.lift)}function Nt(n){return e=>{if(mo(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(n,e,t,r,i){return new mu(n,e,t,r,i)}class mu extends ve{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ce(n,e){return Nt((t,r)=>{let i=0;t.subscribe(mt(r,o=>{r.next(n.call(e,o,i++))}))})}function Ui(n){return this instanceof Ui?(this.v=n,this):new Ui(n)}function Zx(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){o.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{!function u(d){d.value instanceof Ui?Promise.resolve(d.value.v).then(c,l):f(o[0][2],d)}(r[d](h))}catch(p){f(o[0][3],p)}}function c(d){a("next",d)}function l(d){a("throw",d)}function f(d,h){d(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Kx(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function S0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}const I0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function b0(n){return D(n?.then)}function T0(n){return D(n[ee])}function M0(n){return Symbol.asyncIterator&&D(n?.[Symbol.asyncIterator])}function R0(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const O0=function Jx(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function N0(n){return D(n?.[O0])}function P0(n){return Zx(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ui(t.read());if(i)return yield Ui(void 0);yield yield Ui(r)}}finally{t.releaseLock()}})}function F0(n){return D(n?.getReader)}function pr(n){if(n instanceof it)return n;if(null!=n){if(T0(n))return function eE(n){return new it(e=>{const t=n[ee]();if(D(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(I0(n))return function tE(n){return new it(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(b0(n))return function nE(n){return new it(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Pe)})}(n);if(M0(n))return L0(n);if(N0(n))return function rE(n){return new it(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(F0(n))return function iE(n){return L0(P0(n))}(n)}throw R0(n)}function L0(n){return new it(e=>{(function oE(n,e){var t,r,i,o;return function qx(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Kx(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function qr(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function en(n,e,t=1/0){return D(e)?en((r,i)=>ce((o,s)=>e(r,o,i,s))(pr(n(r,i))),t):("number"==typeof e&&(t=e),Nt((r,i)=>function sE(n,e,t,r,i,o,s,a){const u=[];let c=0,l=0,f=!1;const d=()=>{f&&!u.length&&!c&&e.complete()},h=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let v=!1;pr(t(g,l++)).subscribe(mt(e,m=>{i?.(m),o?h(m):e.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;u.length&&c<r;){const m=u.shift();s?qr(e,s,()=>p(m)):p(m)}d()}catch(m){e.error(m)}}))};return n.subscribe(mt(e,h,()=>{f=!0,d()})),()=>{a?.()}}(r,i,n,t)))}function _o(n=1/0){return en(_e,n)}const br=new it(n=>n.complete());function ql(n){return n[n.length-1]}function B0(n){return D(ql(n))?n.pop():void 0}function Rs(n){return function uE(n){return n&&D(n.schedule)}(ql(n))?n.pop():void 0}function k0(n,e=0){return Nt((t,r)=>{t.subscribe(mt(r,i=>qr(r,n,()=>r.next(i),e),()=>qr(r,n,()=>r.complete(),e),i=>qr(r,n,()=>r.error(i),e)))})}function V0(n,e=0){return Nt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function U0(n,e){if(!n)throw new Error("Iterable cannot be null");return new it(t=>{qr(t,e,()=>{const r=n[Symbol.asyncIterator]();qr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Pt(n,e){return e?function gE(n,e){if(null!=n){if(T0(n))return function lE(n,e){return pr(n).pipe(V0(e),k0(e))}(n,e);if(I0(n))return function dE(n,e){return new it(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(b0(n))return function fE(n,e){return pr(n).pipe(V0(e),k0(e))}(n,e);if(M0(n))return U0(n,e);if(N0(n))return function hE(n,e){return new it(t=>{let r;return qr(t,e,()=>{r=n[O0](),qr(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>D(r?.return)&&r.return()})}(n,e);if(F0(n))return function pE(n,e){return U0(P0(n),e)}(n,e)}throw R0(n)}(n,e):pr(n)}function Yl(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new de({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function ot(n){for(let e in n)if(n[e]===ot)return e;throw Error("Could not find renamed property on target object.")}function Zl(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function st(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(st).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Kl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const yE=ot({__forward_ref__:ot});function ut(n){return n.__forward_ref__=ut,n.toString=function(){return st(this())},n}function le(n){return Ql(n)?n():n}function Ql(n){return"function"==typeof n&&n.hasOwnProperty(yE)&&n.__forward_ref__===ut}function Jl(n){return n&&!!n.\u0275providers}const H0="https://g.co/ng/security#xss";class U extends Error{constructor(e,t){super(function yu(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Ee(n){return"string"==typeof n?n:null==n?"":String(n)}function _u(n,e){throw new U(-201,!1)}function Qn(n,e){null==n&&function Ze(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ie(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yn(n){return{providers:n.providers||[],imports:n.imports||[]}}function wu(n){return j0(n,Cu)||j0(n,$0)}function j0(n,e){return n.hasOwnProperty(e)?n[e]:null}function G0(n){return n&&(n.hasOwnProperty(ef)||n.hasOwnProperty(IE))?n[ef]:null}const Cu=ot({\u0275prov:ot}),ef=ot({\u0275inj:ot}),$0=ot({ngInjectableDef:ot}),IE=ot({ngInjectorDef:ot});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let tf;function Jn(n){const e=tf;return tf=n,e}function z0(n,e,t){const r=wu(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&fe.Optional?null:void 0!==e?e:void _u(st(n))}const ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Os={},nf="__NG_DI_FLAG__",xu="ngTempTokenPath",ME=/\n/gm,W0="__source";let Ns;function wo(n){const e=Ns;return Ns=n,e}function OE(n,e=fe.Default){if(void 0===Ns)throw new U(-203,!1);return null===Ns?z0(n,void 0,e):Ns.get(n,e&fe.Optional?null:void 0,e)}function Y(n,e=fe.Default){return(function bE(){return tf}()||OE)(le(n),e)}function Le(n,e=fe.Default){return Y(n,Eu(e))}function Eu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rf(n){const e=[];for(let t=0;t<n.length;t++){const r=le(n[t]);if(Array.isArray(r)){if(0===r.length)throw new U(900,!1);let i,o=fe.Default;for(let s=0;s<r.length;s++){const a=r[s],u=NE(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function Ps(n,e){return n[nf]=e,n.prototype[nf]=e,n}function NE(n){return n[nf]}function yi(n){return{toString:n}.toString()}var gr=(()=>((gr=gr||{})[gr.OnPush=0]="OnPush",gr[gr.Default=1]="Default",gr))(),Tr=(()=>{return(n=Tr||(Tr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Tr;var n})();const Yr={},Xe=[],Du=ot({\u0275cmp:ot}),sf=ot({\u0275dir:ot}),af=ot({\u0275pipe:ot}),q0=ot({\u0275mod:ot}),Zr=ot({\u0275fac:ot}),Fs=ot({__NG_ELEMENT_ID__:ot});let LE=0;function Mn(n){return yi(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===gr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Xe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Tr.Emulated,id:"c"+LE++,styles:n.styles||Xe,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,s=n.features;return i.inputs=K0(n.inputs,r),i.outputs=K0(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Y0).filter(Z0):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(_n).filter(Z0):null,i})}function Y0(n){return Ke(n)||ln(n)}function Z0(n){return null!==n}function Rn(n){return yi(()=>({type:n.type,bootstrap:n.bootstrap||Xe,declarations:n.declarations||Xe,imports:n.imports||Xe,exports:n.exports||Xe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function K0(n,e){if(null==n)return Yr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const me=Mn;function On(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ke(n){return n[Du]||null}function ln(n){return n[sf]||null}function _n(n){return n[af]||null}function Gn(n,e){const t=n[q0]||null;if(!t&&!0===e)throw new Error(`Type ${st(n)} does not have '\u0275mod' property.`);return t}function $n(n){return Array.isArray(n)&&"object"==typeof n[1]}function mr(n){return Array.isArray(n)&&!0===n[1]}function lf(n){return 0!=(4&n.flags)}function Vs(n){return n.componentOffset>-1}function Tu(n){return 1==(1&n.flags)}function yr(n){return null!==n.template}function VE(n){return 0!=(256&n[2])}function ji(n,e){return n.hasOwnProperty(Zr)?n[Zr]:null}class jE{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function zn(){return rg}function rg(n){return n.type.prototype.ngOnChanges&&(n.setInput=$E),GE}function GE(){const n=og(this),e=n?.current;if(e){const t=n.previous;if(t===Yr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function $E(n,e,t,r){const i=this.declaredInputs[t],o=og(n)||function zE(n,e){return n[ig]=e}(n,{previous:Yr,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new jE(u&&u.currentValue,e,a===Yr),n[r]=e}zn.ngInherit=!0;const ig="__ngSimpleChanges__";function og(n){return n[ig]||null}function tn(n){for(;Array.isArray(n);)n=n[0];return n}function Mu(n,e){return tn(e[n])}function Wn(n,e){return tn(e[n.index])}function ug(n,e){return n.data[e]}function Xn(n,e){const t=e[n];return $n(t)?t:t[0]}function Ru(n){return 64==(64&n[2])}function _i(n,e){return null==e?null:n[e]}function cg(n){n[18]=0}function df(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const De={lFrame:Cg(null),bindingsEnabled:!0};function fg(){return De.bindingsEnabled}function B(){return De.lFrame.lView}function He(){return De.lFrame.tView}function nn(){let n=pg();for(;null!==n&&64===n.type;)n=n.parent;return n}function pg(){return De.lFrame.currentTNode}function Rr(n,e){const t=De.lFrame;t.currentTNode=n,t.isParent=e}function hf(){return De.lFrame.isParent}function Io(){return De.lFrame.bindingIndex++}function iD(n,e){const t=De.lFrame;t.bindingIndex=t.bindingRootIndex=n,gf(e)}function gf(n){De.lFrame.currentDirectiveIndex=n}function yg(){return De.lFrame.currentQueryIndex}function mf(n){De.lFrame.currentQueryIndex=n}function sD(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function _g(n,e,t){if(t&fe.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&fe.Host||(i=sD(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=De.lFrame=wg();return r.currentTNode=e,r.lView=n,!0}function yf(n){const e=wg(),t=n[1];De.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function wg(){const n=De.lFrame,e=null===n?null:n.child;return null===e?Cg(n):e}function Cg(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function xg(){const n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Eg=xg;function _f(){const n=xg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xn(){return De.lFrame.selectedIndex}function Gi(n){De.lFrame.selectedIndex=n}function yt(){const n=De.lFrame;return ug(n.tView,n.selectedIndex)}function Ou(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function Nu(n,e,t){Dg(n,e,3,t)}function Pu(n,e,t,r){(3&n[2])===t&&Dg(n,e,t,r)}function wf(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Dg(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<o||-1==o)&&(gD(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function gD(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Hs{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function xf(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Sg(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Ag(n){return 3===n||4===n||6===n}function Sg(n){return 64===n.charCodeAt(0)}function js(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Ig(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Ig(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function bg(n){return-1!==n}function Fu(n){return 32767&n}function Lu(n,e){let t=function _D(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Ef=!0;function Bu(n){const e=Ef;return Ef=n,e}let wD=0;const Or={};function ku(n,e){const t=Rg(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Df(r.data,n),Df(e,null),Df(r.blueprint,null));const i=Af(n,e),o=n.injectorIndex;if(bg(i)){const s=Fu(i),a=Lu(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Df(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Rg(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Af(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=kg(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Sf(n,e,t){!function CD(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fs)&&(r=t[Fs]),null==r&&(r=t[Fs]=wD++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Og(n,e,t){if(t&fe.Optional||void 0!==n)return n;_u()}function Ng(n,e,t,r){if(t&fe.Optional&&void 0===r&&(r=null),!(t&(fe.Self|fe.Host))){const i=n[9],o=Jn(void 0);try{return i?i.get(e,r,t&fe.Optional):z0(e,r,t&fe.Optional)}finally{Jn(o)}}return Og(r,0,t)}function Pg(n,e,t,r=fe.Default,i){if(null!==n){if(1024&e[2]){const s=function SD(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Fg(o,s,t,r|fe.Self,Or);if(a!==Or)return a;let u=o.parent;if(!u){const c=s[21];if(c){const l=c.get(t,Or,r);if(l!==Or)return l}u=kg(s),s=s[15]}o=u}return i}(n,e,t,r,Or);if(s!==Or)return s}const o=Fg(n,e,t,r,Or);if(o!==Or)return o}return Ng(e,t,r,i)}function Fg(n,e,t,r,i){const o=function DD(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Fs)?n[Fs]:void 0;return"number"==typeof e?e>=0?255&e:AD:e}(t);if("function"==typeof o){if(!_g(e,n,r))return r&fe.Host?Og(i,0,r):Ng(e,t,r,i);try{const s=o(r);if(null!=s||r&fe.Optional)return s;_u()}finally{Eg()}}else if("number"==typeof o){let s=null,a=Rg(n,e),u=-1,c=r&fe.Host?e[16][6]:null;for((-1===a||r&fe.SkipSelf)&&(u=-1===a?Af(n,e):e[a+8],-1!==u&&Bg(r,!1)?(s=e[1],a=Fu(u),e=Lu(u,e)):a=-1);-1!==a;){const l=e[1];if(Lg(o,a,l.data)){const f=ED(a,e,t,s,r,c);if(f!==Or)return f}u=e[a+8],-1!==u&&Bg(r,e[1].data[a+8]===c)&&Lg(o,a,e)?(s=l,a=Fu(u),e=Lu(u,e)):a=-1}}return i}function ED(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],l=Vu(a,s,t,null==r?Vs(a)&&Ef:r!=s&&0!=(3&a.type),i&fe.Host&&o===a);return null!==l?$i(e,s,l,a):Or}function Vu(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,l=o>>20,d=i?a+l:n.directiveEnd;for(let h=r?a:a+l;h<d;h++){const p=s[h];if(h<u&&t===p||h>=u&&p.type===t)return h}if(i){const h=s[u];if(h&&yr(h)&&h.type===t)return u}return null}function $i(n,e,t,r){let i=n[t];const o=e.data;if(function vD(n){return n instanceof Hs}(i)){const s=i;s.resolving&&function _E(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ee(n)}(o[t]));const a=Bu(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Jn(s.injectImpl):null;_g(n,r,fe.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function pD(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=rg(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==u&&Jn(u),Bu(a),s.resolving=!1,Eg()}}return i}function Lg(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Bg(n,e){return!(n&fe.Self||n&fe.Host&&e)}class To{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Pg(this._tNode,this._lView,e,Eu(r),t)}}function AD(){return new To(nn(),B())}function rn(n){return yi(()=>{const e=n.prototype.constructor,t=e[Zr]||If(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Zr]||If(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function If(n){return Ql(n)?()=>{const e=If(le(n));return e&&e()}:ji(n)}function kg(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const Ro="__parameters__";function No(n,e,t){return yi(()=>{const r=function bf(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const f=u.hasOwnProperty(Ro)?u[Ro]:Object.defineProperty(u,Ro,{value:[]})[Ro];for(;f.length<=l;)f.push(null);return(f[l]=f[l]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class K{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zi(n,e){n.forEach(t=>Array.isArray(t)?zi(t,e):e(t))}function Ug(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Hu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function qn(n,e,t){let r=Po(n,e);return r>=0?n[1|r]=t:(r=~r,function MD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Mf(n,e){const t=Po(n,e);if(t>=0)return n[1|t]}function Po(n,e){return function Hg(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Ws=Ps(No("Optional"),8),Xs=Ps(No("SkipSelf"),4);var Nn=(()=>((Nn=Nn||{})[Nn.Important=1]="Important",Nn[Nn.DashCase=2]="DashCase",Nn))();const Lf=new Map;let QD=0;const kf="__ngContext__";function hn(n,e){$n(e)?(n[kf]=e[20],function eA(n){Lf.set(n[20],n)}(e)):n[kf]=e}function Uf(n,e){return undefined(n,e)}function Ks(n){const e=n[3];return mr(e)?e[3]:e}function Hf(n){return a1(n[13])}function jf(n){return a1(n[4])}function a1(n){for(;null!==n&&!mr(n);)n=n[4];return n}function Lo(n,e,t,r,i){if(null!=r){let o,s=!1;mr(r)?o=r:$n(r)&&(s=!0,r=r[0]);const a=tn(r);0===n&&null!==t?null==i?h1(e,t,a):Wi(e,t,a,i||null,!0):1===n&&null!==t?Wi(e,t,a,i||null,!0):2===n?function Yf(n,e,t){const r=zu(n,e);r&&function wA(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function EA(n,e,t,r,i){const o=t[7];o!==tn(t)&&Lo(e,n,r,o,i);for(let a=10;a<t.length;a++){const u=t[a];Qs(u[1],u,n,e,r,o)}}(e,n,o,t,i)}}function $f(n,e,t){return n.createElement(e,t)}function c1(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,df(i,-1)),t.splice(r,1)}function zf(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&c1(i,r),e>0&&(n[t-1][4]=r[4]);const o=Hu(n,10+e);!function dA(n,e){Qs(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function l1(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Qs(n,e,t,3,null,null),function gA(n){let e=n[13];if(!e)return Wf(n[1],n);for(;e;){let t=null;if($n(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)$n(e)&&Wf(e[1],e),e=e[3];null===e&&(e=n),$n(e)&&Wf(e[1],e),t=e&&e[4]}e=t}}(e)}}function Wf(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function _A(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Hs)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function yA(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&mr(e[3])){t!==e[3]&&c1(t,e);const r=e[19];null!==r&&r.detachView(n)}!function tA(n){Lf.delete(n[20])}(e)}}function f1(n,e,t){return function d1(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Tr.None||o===Tr.Emulated)return null}return Wn(r,t)}}(n,e.parent,t)}function Wi(n,e,t,r,i){n.insertBefore(e,t,r,i)}function h1(n,e,t){n.appendChild(e,t)}function p1(n,e,t,r,i){null!==r?Wi(n,e,t,r,i):h1(n,e,t)}function zu(n,e){return n.parentNode(e)}let Qf,m1=function v1(n,e,t){return 40&n.type?Wn(n,t):null};function Wu(n,e,t,r){const i=f1(n,r,e),o=e[11],a=function g1(n,e,t){return m1(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)p1(o,i,t[u],a,!1);else p1(o,i,t,a,!1)}function Xu(n,e){if(null!==e){const t=e.type;if(3&t)return Wn(e,n);if(4&t)return qf(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Xu(n,r);{const i=n[e.index];return mr(i)?qf(-1,i):tn(i)}}if(32&t)return Uf(e,n)()||tn(n[e.index]);{const r=_1(n,e);return null!==r?Array.isArray(r)?r[0]:Xu(Ks(n[16]),r):Xu(n,e.next)}}return null}function _1(n,e){return null!==e?n[16][6].projection[e.projection]:null}function qf(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Xu(r,i)}return e[7]}function Zf(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&hn(tn(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Zf(n,e,t.child,r,i,o,!1),Lo(e,n,i,a,o);else if(32&u){const c=Uf(t,r);let l;for(;l=c();)Lo(e,n,i,l,o);Lo(e,n,i,a,o)}else 16&u?w1(n,e,r,t,i,o):Lo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Qs(n,e,t,r,i,o){Zf(t,r,n.firstChild,e,i,o,!1)}function w1(n,e,t,r,i,o){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Lo(e,n,i,u[c],o);else Zf(n,e,u,s[3],i,o,!0)}function C1(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function x1(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&xf(n,e,r),null!==i&&C1(n,e,i),null!==o&&function AA(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}class I1{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${H0})`}}function wi(n){return n instanceof I1?n.changingThisBreaksApplicationSecurity:n}const VA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ft=(()=>((Ft=Ft||{})[Ft.NONE=0]="NONE",Ft[Ft.HTML=1]="HTML",Ft[Ft.STYLE=2]="STYLE",Ft[Ft.SCRIPT=3]="SCRIPT",Ft[Ft.URL=4]="URL",Ft[Ft.RESOURCE_URL=5]="RESOURCE_URL",Ft))();function Bo(n){const e=function ta(){const n=B();return n&&n[12]}();return e?e.sanitize(Ft.URL,n)||"":function Js(n,e){const t=function FA(n){return n instanceof I1&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${H0})`)}return t===e}(n,"URL")?wi(n):function ed(n){return(n=String(n)).match(VA)?n:"unsafe:"+n}(Ee(n))}const Ku=new K("ENVIRONMENT_INITIALIZER"),L1=new K("INJECTOR",-1),B1=new K("INJECTOR_DEF_TYPES");class k1{get(e,t=Os){if(t===Os){const r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return t}}function JA(...n){return{\u0275providers:V1(0,n),\u0275fromNgModule:!0}}function V1(n,...e){const t=[],r=new Set;let i;return zi(e,o=>{const s=o;id(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&U1(i,t),t}function U1(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];od(i,o=>{e.push(o)})}}function id(n,e,t,r){if(!(n=le(n)))return!1;let i=null,o=G0(n);const s=!o&&Ke(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=G0(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)id(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{zi(o.imports,l=>{id(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&U1(c,e)}if(!a){const c=ji(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Xe},{provide:B1,useValue:i,multi:!0},{provide:Ku,useValue:()=>Y(i),multi:!0})}const u=o.providers;null==u||a||od(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function od(n,e){for(let t of n)Jl(t)&&(t=t.\u0275providers),Array.isArray(t)?od(t,e):e(t)}const eS=ot({provide:String,useValue:ot});function sd(n){return null!==n&&"object"==typeof n&&eS in n}function qi(n){return"function"==typeof n}const ad=new K("Set Injector scope."),Qu={},nS={};let ud;function Ju(){return void 0===ud&&(ud=new k1),ud}class Nr{}class G1 extends Nr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ld(e,s=>this.processProvider(s)),this.records.set(L1,ko(void 0,this)),i.has("environment")&&this.records.set(Nr,ko(void 0,this));const o=this.records.get(ad);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(B1.multi,Xe,fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=wo(this),r=Jn(void 0);try{return e()}finally{wo(t),Jn(r)}}get(e,t=Os,r=fe.Default){this.assertNotDestroyed(),r=Eu(r);const i=wo(this),o=Jn(void 0);try{if(!(r&fe.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function aS(n){return"function"==typeof n||"object"==typeof n&&n instanceof K}(e)&&wu(e);a=u&&this.injectableDefInScope(u)?ko(cd(e),Qu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&fe.Self?Ju():this.parent).get(e,t=r&fe.Optional&&t===Os?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[xu]=s[xu]||[]).unshift(st(e)),i)throw s;return function PE(n,e,t,r){const i=n[xu];throw e[W0]&&i.unshift(e[W0]),n.message=function FE(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):st(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(ME,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[xu]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Jn(o),wo(i)}}resolveInjectorInitializers(){const e=wo(this),t=Jn(void 0);try{const r=this.get(Ku.multi,Xe,fe.Self);for(const i of r)i()}finally{wo(e),Jn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let t=qi(e=le(e))?e:le(e&&e.provide);const r=function iS(n){return sd(n)?ko(void 0,n.useValue):ko($1(n),Qu)}(e);if(qi(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ko(void 0,Qu,!0),i.factory=()=>rf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Qu&&(t.value=nS,t.value=t.factory()),"object"==typeof t.value&&t.value&&function sS(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=le(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function cd(n){const e=wu(n),t=null!==e?e.factory:ji(n);if(null!==t)return t;if(n instanceof K)throw new U(204,!1);if(n instanceof Function)return function rS(n){const e=n.length;if(e>0)throw function zs(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new U(204,!1);const t=function AE(n){const e=n&&(n[Cu]||n[$0]);if(e){const t=function SE(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new U(204,!1)}function $1(n,e,t){let r;if(qi(n)){const i=le(n);return ji(i)||cd(i)}if(sd(n))r=()=>le(n.useValue);else if(function j1(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...rf(n.deps||[]));else if(function H1(n){return!(!n||!n.useExisting)}(n))r=()=>Y(le(n.useExisting));else{const i=le(n&&(n.useClass||n.provide));if(!function oS(n){return!!n.deps}(n))return ji(i)||cd(i);r=()=>new i(...rf(n.deps))}return r}function ko(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ld(n,e){for(const t of n)Array.isArray(t)?ld(t,e):t&&Jl(t)?ld(t.\u0275providers,e):e(t)}class uS{}class z1{}class lS{resolveComponentFactory(e){throw function cS(n){const e=Error(`No component factory found for ${st(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let na=(()=>{class n{}return n.NULL=new lS,n})();function fS(){return Vo(nn(),B())}function Vo(n,e){return new Yn(Wn(n,e))}let Yn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=fS,n})();function dS(n){return n instanceof Yn?n.nativeElement:n}class X1{}let ti=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function hS(){const n=B(),t=Xn(nn().index,n);return($n(t)?t:n)[11]}(),n})(),pS=(()=>{class n{}return n.\u0275prov=ie({token:n,providedIn:"root",factory:()=>null}),n})();class ra{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gS=new ra("15.1.0"),fd={};function hd(n){return n.ngOriginalError}class Uo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hd(e);for(;t&&hd(t);)t=hd(t);return t||null}}function ni(n){return n instanceof Function?n():n}function Y1(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const Z1="ng-template";function SS(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==Y1(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function K1(n){return 4===n.type&&n.value!==Z1}function IS(n,e,t){return e===(4!==n.type||t?n.value:Z1)}function bS(n,e,t){let r=4;const i=n.attrs||[],o=function RS(n){for(let e=0;e<n.length;e++)if(Ag(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!IS(n,u,t)||""===u&&1===e.length){if(_r(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!SS(n.attrs,c,t)){if(_r(r))return!1;s=!0}continue}const f=TS(8&r?"class":u,i,K1(n),t);if(-1===f){if(_r(r))return!1;s=!0;continue}if(""!==c){let d;d=f>o?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==Y1(h,c,0)||2&r&&c!==d){if(_r(r))return!1;s=!0}}}}else{if(!s&&!_r(r)&&!_r(u))return!1;if(s&&_r(u))continue;s=!1,r=u|1&r}}return _r(r)||s}function _r(n){return 0==(1&n)}function TS(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function OS(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Q1(n,e,t=!1){for(let r=0;r<e.length;r++)if(bS(n,e[r],t))return!0;return!1}function J1(n,e){return n?":not("+e.trim()+")":e}function PS(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!_r(s)&&(e+=J1(o,i),i=""),r=s,o=o||!_r(r);t++}return""!==i&&(e+=J1(o,i)),e}const Ae={};function Ce(n){ev(He(),B(),xn()+n,!1)}function ev(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&Nu(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Pu(e,o,0,t)}Gi(t)}function iv(n,e=null,t=null,r){const i=ov(n,e,t,r);return i.resolveInjectorInitializers(),i}function ov(n,e=null,t=null,r,i=new Set){const o=[t||Xe,JA(n)];return r=r||("object"==typeof n?void 0:st(n)),new G1(o,e||Ju(),r||null,i)}let wr=(()=>{class n{static create(t,r){if(Array.isArray(t))return iv({name:""},r,t,"");{const i=t.name??"";return iv({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Os,n.NULL=new k1,n.\u0275prov=ie({token:n,providedIn:"any",factory:()=>Y(L1)}),n.__NG_ELEMENT_ID__=-1,n})();function F(n,e=fe.Default){const t=B();return null===t?Y(n,e):Pg(nn(),t,le(n),e)}function hv(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];mf(t[r]),s.contentQueries(2,e[o],o)}}}function tc(n,e,t,r,i,o,s,a,u,c,l){const f=e.blueprint.slice();return f[0]=i,f[2]=76|r,(null!==l||n&&1024&n[2])&&(f[2]|=1024),cg(f),f[3]=f[15]=n,f[8]=t,f[10]=s||n&&n[10],f[11]=a||n&&n[11],f[12]=u||n&&n[12]||null,f[9]=c||n&&n[9]||null,f[6]=o,f[20]=function JD(){return QD++}(),f[21]=l,f[16]=2==e.type?n[16]:f,f}function Go(n,e,t,r,i){let o=n.data[e];if(null===o)o=function yd(n,e,t,r,i){const o=pg(),s=hf(),u=n.data[e]=function sI(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(n,e,t,r,i),function rD(){return De.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Us(){const n=De.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Rr(o,!0),o}function ia(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function _d(n,e,t){yf(e);try{const r=n.viewQuery;null!==r&&Td(1,r,t);const i=n.template;null!==i&&pv(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&hv(n,e),n.staticViewQueries&&Td(2,n.viewQuery,t);const o=n.components;null!==o&&function rI(n,e){for(let t=0;t<e.length;t++)AI(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,_f()}}function nc(n,e,t,r){const i=e[2];if(128!=(128&i)){yf(e);try{cg(e),function vg(n){return De.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&pv(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Nu(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Pu(e,c,0,null),wf(e,0)}if(function EI(n){for(let e=Hf(n);null!==e;e=jf(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r];512&i[2]||df(i[3],1),i[2]|=512}}}(e),function xI(n){for(let e=Hf(n);null!==e;e=jf(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Ru(r)&&nc(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&hv(n,e),s){const c=n.contentCheckHooks;null!==c&&Nu(e,c)}else{const c=n.contentHooks;null!==c&&Pu(e,c,1),wf(e,1)}!function tI(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Gi(~i);else{const o=i,s=t[++r],a=t[++r];iD(s,o),a(2,e[o])}}}finally{Gi(-1)}}(n,e);const a=n.components;null!==a&&function nI(n,e){for(let t=0;t<e.length;t++)DI(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Td(2,u,r),s){const c=n.viewCheckHooks;null!==c&&Nu(e,c)}else{const c=n.viewHooks;null!==c&&Pu(e,c,2),wf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,df(e[3],-1))}finally{_f()}}}function pv(n,e,t,r,i){const o=xn(),s=2&r;try{Gi(-1),s&&e.length>22&&ev(n,e,22,!1),t(r,i)}finally{Gi(o)}}function wd(n,e,t){if(lf(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function Cd(n,e,t){fg()&&(function dI(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Vs(t)&&function _I(n,e,t){const r=Wn(e,n),i=gv(t),o=n[10],s=rc(n,tc(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ku(t,e),hn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=$i(e,n,a,t);hn(c,e),null!==s&&wI(0,a-i,c,u,0,s),yr(u)&&(Xn(t.index,e)[8]=$i(e,n,a,t))}}(n,e,t,Wn(t,e)),64==(64&t.flags)&&Cv(n,e,t))}function xd(n,e,t=Wn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function gv(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ed(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Ed(n,e,t,r,i,o,s,a,u,c){const l=22+r,f=l+i,d=function iI(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ae);return t}(l,f),h="function"==typeof c?c():c;return d[1]={type:n,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:h,incompleteFirstPass:!1}}function vv(n,e,t,r){const i=Ev(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Dv(n).push(r,i.length-1))}function mv(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?yv(t,e,i,o):r.hasOwnProperty(i)&&yv(t,e,r[i],o)}return t}function yv(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function _v(n,e){const t=Xn(e,n);16&t[2]||(t[2]|=32)}function Dd(n,e,t,r){let i=!1;if(fg()){const o=null===r?null:{"":-1},s=function pI(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Q1(e,s.selectors,!1))if(r||(r=[]),yr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Ad(n,e,a.length)}else r.unshift(s),Ad(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(i=!0,wv(n,e,t,a,o,u)),o&&function gI(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new U(-301,!1);r.push(e[i],o)}}}(t,r,o)}return t.mergedAttrs=js(t.mergedAttrs,t.attrs),i}function wv(n,e,t,r,i,o){for(let c=0;c<r.length;c++)Sf(ku(t,e),n,r[c].type);!function mI(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=ia(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=js(t.mergedAttrs,l.hostAttrs),yI(n,t,e,u,l),vI(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const f=l.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function aI(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const f=o[l],d=t?t.get(f):null,p=d?d.outputs:null;u=mv(f.inputs,l,u,d?d.inputs:null),c=mv(f.outputs,l,c,p);const g=null===u||null===s||K1(e)?null:CI(u,l,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,o)}function Cv(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function oD(){return De.lFrame.currentDirectiveIndex}();try{Gi(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];gf(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&hI(u,c)}}finally{Gi(-1),gf(s)}}function hI(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Ad(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function vI(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;yr(e)&&(t[""]=n)}}function yI(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=ji(i.type)),s=new Hs(o,yr(i),F);n.blueprint[r]=s,t[r]=s,function lI(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function fI(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,ia(n,t,i.hostVars,Ae),i)}function Pr(n,e,t,r,i,o){const s=Wn(n,e);!function Sd(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Ee(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function wI(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],l=s[u++],f=s[u++];null!==a?r.setInput(t,f,c,l):t[l]=f}}}function CI(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function xv(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function DI(n,e){const t=Xn(e,n);if(Ru(t)){const r=t[1];48&t[2]?nc(r,t,r.template,t[8]):t[5]>0&&Id(t)}}function Id(n){for(let r=Hf(n);null!==r;r=jf(r))for(let i=10;i<r.length;i++){const o=r[i];if(Ru(o))if(512&o[2]){const s=o[1];nc(s,o,s.template,o[8])}else o[5]>0&&Id(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Xn(t[r],n);Ru(i)&&i[5]>0&&Id(i)}}function AI(n,e){const t=Xn(e,n),r=t[1];(function SI(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),_d(r,t,t[8])}function rc(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function bd(n){for(;n;){n[2]|=32;const e=Ks(n);if(VE(n)&&!e)return n;n=e}return null}function ic(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{nc(n,e,n.template,t)}catch(s){throw r&&Sv(e,s),s}finally{i.end&&i.end()}}function Td(n,e,t){mf(0),e(n,t)}function Ev(n){return n[7]||(n[7]=[])}function Dv(n){return n.cleanup||(n.cleanup=[])}function Sv(n,e){const t=n[9],r=t?t.get(Uo,null):null;r&&r.handleError(e)}function Md(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],u=e[s],c=n.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function oc(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Kl(i,a):2==o&&(r=Kl(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function sc(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(tn(o)),mr(o))for(let a=10;a<o.length;a++){const u=o[a],c=u[1].firstChild;null!==c&&sc(u[1],u,c,r)}const s=t.type;if(8&s)sc(n,e,t.child,r);else if(32&s){const a=Uf(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=_1(e,t);if(Array.isArray(a))r.push(...a);else{const u=Ks(e[16]);sc(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class oa{get rootNodes(){const e=this._lView,t=e[1];return sc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(mr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(zf(e,r),Hu(t,r))}this._attachedToViewContainer=!1}l1(this._lView[1],this._lView)}onDestroy(e){vv(this._lView[1],this._lView,null,e)}markForCheck(){bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ic(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pA(n,e){Qs(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e}}class II extends oa{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ic(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Iv extends na{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ke(e);return new sa(t,this.ngModule)}}function bv(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class TI{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Eu(r);const i=this.injector.get(e,fd,r);return i!==fd||t===fd?i:this.parentInjector.get(e,t,r)}}class sa extends z1{get inputs(){return bv(this.componentDef.inputs)}get outputs(){return bv(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function FS(n){return n.map(PS).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Nr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new TI(e,o):e,a=s.get(X1,null);if(null===a)throw new U(407,!1);const u=s.get(pS,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=r?function oI(n,e,t){return n.selectRootElement(e,t===Tr.ShadowDom)}(c,r,this.componentDef.encapsulation):$f(c,l,function bI(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),d=this.componentDef.onPush?288:272,h=Ed(0,null,null,1,0,null,null,null,null,null),p=tc(null,h,null,d,null,null,a,c,u,s,null);let g,v;yf(p);try{const m=this.componentDef;let _,w=null;m.findHostDirectiveDefs?(_=[],w=new Map,m.findHostDirectiveDefs(m,_,w),_.push(m)):_=[m];const x=function RI(n,e){const t=n[1];return n[22]=e,Go(t,22,2,"#host",null)}(p,f),R=function OI(n,e,t,r,i,o,s,a){const u=i[1];!function NI(n,e,t,r){for(const i of n)e.mergedAttrs=js(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(oc(e,e.mergedAttrs,!0),null!==t&&x1(r,t,e))}(r,n,e,s);const c=o.createRenderer(e,t),l=tc(i,gv(t),null,t.onPush?32:16,i[n.index],n,o,c,a||null,null,null);return u.firstCreatePass&&Ad(u,n,r.length-1),rc(i,l),i[n.index]=l}(x,f,m,_,p,a,c);v=ug(h,22),f&&function FI(n,e,t,r){if(r)xf(n,t,["ng-version",gS.full]);else{const{attrs:i,classes:o}=function LS(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!_r(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&xf(n,t,i),o&&o.length>0&&C1(n,t,o.join(" "))}}(c,m,f,r),void 0!==t&&function LI(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(v,this.ngContentSelectors,t),g=function PI(n,e,t,r,i,o){const s=nn(),a=i[1],u=Wn(s,i);wv(a,i,s,t,null,r);for(let l=0;l<t.length;l++)hn($i(i,a,s.directiveStart+l,s),i);Cv(a,i,s),u&&hn(u,i);const c=$i(i,a,s.directiveStart+s.componentOffset,s);if(n[8]=i[8]=c,null!==o)for(const l of o)l(c,e);return wd(a,s,n),c}(R,m,_,w,p,[BI]),_d(h,p,null)}finally{_f()}return new MI(this.componentType,g,Vo(v,p),p,v)}}class MI extends uS{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new II(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;Md(o[1],o,i,e,t),_v(o,this._tNode.index)}}get injector(){return new To(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function BI(){const n=nn();Ou(B()[1],n)}function tt(n){let e=function Tv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(yr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Rd(n.inputs),s.declaredInputs=Rd(n.declaredInputs),s.outputs=Rd(n.outputs);const a=i.hostBindings;a&&HI(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&VI(n,u),c&&UI(n,c),Zl(n.inputs,i.inputs),Zl(n.declaredInputs,i.declaredInputs),Zl(n.outputs,i.outputs),yr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===tt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function kI(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=js(i.hostAttrs,t=js(t,i.hostAttrs))}}(r)}function Rd(n){return n===Yr?{}:n===Xe?[]:n}function VI(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function UI(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function HI(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let ac=null;function Yi(){if(!ac){const n=ct.Symbol;if(n&&n.iterator)ac=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ac=r)}}}return ac}function aa(n){return!!Od(n)&&(Array.isArray(n)||!(n instanceof Map)&&Yi()in n)}function Od(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Lr(n,e,t,r){const i=B();return pn(i,Io(),e)&&(He(),Pr(yt(),i,n,e,t,r)),Lr}function It(n,e,t,r,i,o,s,a){const u=B(),c=He(),l=n+22,f=c.firstCreatePass?function KI(n,e,t,r,i,o,s,a,u){const c=e.consts,l=Go(e,n,4,s||null,_i(c,a));Dd(e,t,l,_i(c,u)),Ou(e,l);const f=l.tViews=Ed(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,o,s):c.data[l];Rr(f,!1);const d=u[11].createComment("");Wu(c,u,d,f),hn(d,u),rc(u,u[l]=xv(d,u,d,f)),Tu(f)&&Cd(c,u,f),null!=s&&xd(u,f,a)}function je(n,e,t){const r=B();return pn(r,Io(),e)&&function Zn(n,e,t,r,i,o,s,a){const u=Wn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Md(n,t,l,r,i),Vs(e)&&_v(t,e.index)):3&e.type&&(r=function uI(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(He(),yt(),r,n,e,r[11],t,!1),je}function Nd(n,e,t,r,i){const s=i?"class":"style";Md(n,t,e.inputs[s],s,r)}function k(n,e,t,r){const i=B(),o=He(),s=22+n,a=i[11],u=i[s]=$f(a,e,function hD(){return De.lFrame.currentNamespace}()),c=o.firstCreatePass?function eb(n,e,t,r,i,o,s){const a=e.consts,c=Go(e,n,2,i,_i(a,o));return Dd(e,t,c,_i(a,s)),null!==c.attrs&&oc(c,c.attrs,!1),null!==c.mergedAttrs&&oc(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];return Rr(c,!0),x1(a,u,c),32!=(32&c.flags)&&Wu(o,i,u,c),0===function KE(){return De.lFrame.elementDepthCount}()&&hn(u,i),function QE(){De.lFrame.elementDepthCount++}(),Tu(c)&&(Cd(o,i,c),wd(o,c,i)),null!==r&&xd(i,c),k}function V(){let n=nn();hf()?function pf(){De.lFrame.isParent=!1}():(n=n.parent,Rr(n,!1));const e=n;!function JE(){De.lFrame.elementDepthCount--}();const t=He();return t.firstCreatePass&&(Ou(t,n),lf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function mD(n){return 0!=(8&n.flags)}(e)&&Nd(t,e,B(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function yD(n){return 0!=(16&n.flags)}(e)&&Nd(t,e,B(),e.stylesWithoutHost,!1),V}function Lt(n,e,t,r){return k(n,e,t,r),V(),Lt}function ca(n){return!!n&&"function"==typeof n.then}const Ld=function $v(n){return!!n&&"function"==typeof n.subscribe};function Bt(n,e,t,r){const i=B(),o=He(),s=nn();return function Wv(n,e,t,r,i,o,s){const a=Tu(r),c=n.firstCreatePass&&Dv(n),l=e[8],f=Ev(e);let d=!0;if(3&r.type||s){const g=Wn(r,e),v=s?s(g):g,m=f.length,_=s?x=>s(tn(x[r.index])):r.index;let w=null;if(!s&&a&&(w=function nb(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,d=!1;else{o=qv(r,e,l,o,!1);const x=t.listen(v,i,o);f.push(o,x),c&&c.push(i,_,m,m+1)}}else o=qv(r,e,l,o,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const R=e[p[v]][p[v+1]].subscribe(o),L=f.length;f.push(o,R),c&&c.push(i,r.index,L,-(L+1))}}}(o,i,i[11],s,n,e,r),Bt}function Xv(n,e,t,r){try{return!1!==t(r)}catch(i){return Sv(n,i),!1}}function qv(n,e,t,r,i){return function o(s){if(s===Function)return r;bd(n.componentOffset>-1?Xn(n.index,e):e);let u=Xv(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Xv(e,0,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function ii(n=1){return function aD(n){return(De.lFrame.contextLView=function uD(n,e){for(;n>0;)e=e[15],n--;return e}(n,De.lFrame.contextLView))[8]}(n)}function cc(n,e){return n<<17|e<<2}function Ci(n){return n>>17&32767}function kd(n){return 2|n}function Ki(n){return(131068&n)>>2}function Vd(n,e){return-131069&n|e<<2}function Ud(n){return 1|n}function im(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Ci(o):Ki(o),u=!1;for(;0!==a&&(!1===u||s);){const l=n[a+1];fb(n[a],e)&&(u=!0,n[a+1]=r?Ud(l):kd(l)),a=r?Ci(l):Ki(l)}u&&(n[t+1]=r?kd(o):Ud(o))}function fb(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Po(n,e)>=0}function Hd(n,e,t){return Cr(n,e,t,!1),Hd}function lc(n,e){return Cr(n,e,null,!0),lc}function Cr(n,e,t,r){const i=B(),o=He(),s=function Jr(n){const e=De.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function dm(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[xn()],s=function fm(n,e){return e>=n.expandoStartIndex}(n,t);(function vm(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function wb(n,e,t,r){const i=function vf(n){const e=De.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=la(t=jd(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=jd(i,n,e,t,r),null===o){let u=function Cb(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ki(r))return n[Ci(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=jd(null,n,e,u[1],r),u=la(u,e.attrs,r),function xb(n,e,t,r){n[Ci(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function Eb(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=la(r,n[o].hostAttrs,t);return la(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function cb(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ci(s),u=Ki(s);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||Po(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const d=Ci(n[a+1]);n[r+1]=cc(d,a),0!==d&&(n[d+1]=Vd(n[d+1],r)),n[a+1]=function ab(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=cc(a,0),0!==a&&(n[a+1]=Vd(n[a+1],r)),a=r;else n[r+1]=cc(u,0),0===a?a=r:n[u+1]=Vd(n[u+1],r),u=r;c&&(n[r+1]=kd(n[r+1])),im(n,l,r,!0),im(n,l,r,!1),function lb(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Po(o,e)>=0&&(t[r+1]=Ud(t[r+1]))}(e,l,n,r,o),s=cc(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==Ae&&pn(i,s,e)&&function pm(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function ub(n){return 1==(1&n)}(c)?gm(u,e,t,i,Ki(c),s):void 0;fc(l)||(fc(o)||function sb(n){return 2==(2&n)}(c)&&(o=gm(u,null,t,i,a,s)),function DA(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Nn.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Nn.Important),n.setStyle(t,r,i,o))}}(r,s,Mu(xn(),t),i,o))}(o,o.data[xn()],i,i[11],n,i[s+1]=function Sb(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=st(wi(n)))),n}(e,t),r,s)}function jd(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=la(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function la(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),qn(n,s,!!t||e[++o]))}return void 0===n?null:n}function gm(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,f=null===l;let d=t[i+1];d===Ae&&(d=f?Xe:void 0);let h=f?Mf(d,r):l===r?d:void 0;if(c&&!fc(h)&&(h=Mf(u,r)),fc(h)&&(a=h,s))return a;const p=n[i+1];i=s?Ci(p):Ki(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Mf(u,r))}return a}function fc(n){return void 0!==n}function G(n,e=""){const t=B(),r=He(),i=n+22,o=r.firstCreatePass?Go(r,i,1,e,null):r.data[i],s=t[i]=function Gf(n,e){return n.createText(e)}(t[11],e);Wu(r,t,s,o),Rr(o,!1)}function on(n){return fa("",n,""),on}function fa(n,e,t){const r=B(),i=function zo(n,e,t,r){return pn(n,Io(),t)?e+Ee(t)+r:Ae}(r,n,e,t);return i!==Ae&&function ri(n,e,t){const r=Mu(e,n);!function u1(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,xn(),i),fa}const ts="en-US";let km=ts;function zd(n,e,t,r,i){if(n=le(n),Array.isArray(n))for(let o=0;o<n.length;o++)zd(n[o],e,t,r,i);else{const o=He(),s=B();let a=qi(n)?n:le(n.provide),u=$1(n);const c=nn(),l=1048575&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>20;if(qi(n)||!n.multi){const h=new Hs(u,i,F),p=Xd(a,e,i?l:l+d,f);-1===p?(Sf(ku(c,s),o,a),Wd(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(h),s.push(h)):(t[p]=h,s[p]=h)}else{const h=Xd(a,e,l+d,f),p=Xd(a,e,l,l+d),v=p>=0&&t[p];if(i&&!v||!i&&!(h>=0&&t[h])){Sf(ku(c,s),o,a);const m=function $3(n,e,t,r,i){const o=new Hs(n,t,F);return o.multi=[],o.index=e,o.componentProviders=0,cy(o,i,r&&!t),o}(i?G3:j3,t.length,i,r,u);!i&&v&&(t[p].providerFactory=m),Wd(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(m),s.push(m)}else Wd(o,n,h>-1?h:p,cy(t[i?p:h],u,!i&&r));!i&&r&&v&&t[p].componentProviders++}}}function Wd(n,e,t,r){const i=qi(e),o=function tS(n){return!!n.useClass}(e);if(i||o){const u=(o?le(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function cy(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Xd(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function j3(n,e,t,r){return qd(this.multi,[])}function G3(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=$i(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),qd(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],qd(i,o);return o}function qd(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function vt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function H3(n,e,t){const r=He();if(r.firstCreatePass){const i=yr(n);zd(t,r.data,r.blueprint,i,!0),zd(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ns{}class ly{}class fy extends ns{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Iv(this);const r=Gn(e);this._bootstrapComponents=ni(r.bootstrap),this._r3Injector=ov(e,t,[{provide:ns,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],st(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Yd extends ly{constructor(e){super(),this.moduleType=e}create(e){return new fy(this.moduleType,e)}}class W3 extends ns{constructor(e,t,r){super(),this.componentFactoryResolver=new Iv(this),this.instance=null;const i=new G1([...e,{provide:ns,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],t||Ju(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function vc(n,e,t=null){return new W3(n,e,t).injector}let X3=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=V1(0,t.type),i=r.length>0?vc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ie({token:n,providedIn:"environment",factory:()=>new n(Y(Nr))}),n})();function dy(n){n.getStandaloneInjector=e=>e.get(X3).getOrCreateStandaloneInjector(n)}function _y(n,e,t,r,i,o){const s=e+t;return pn(n,s,i)?function Fr(n,e,t){return n[e]=t}(n,s+1,o?r.call(o,i):r(i)):function ma(n,e){const t=n[e];return t===Ae?void 0:t}(n,s+1)}function mc(n,e){const t=He();let r;const i=n+22;t.firstCreatePass?(r=function dT(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=ji(r.type)),s=Jn(F);try{const a=Bu(!1),u=o();return Bu(a),function QI(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,B(),i,u),u}finally{Jn(s)}}function yc(n,e,t){const r=n+22,i=B(),o=function So(n,e){return n[e]}(i,r);return function ya(n,e){return n[1].data[e].pure}(i,r)?_y(i,function Cn(){const n=De.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,o.transform,t,o):o.transform(t)}function Kd(n){return e=>{setTimeout(n,void 0,e)}}const Ue=class mT extends Tn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Kd(o),i&&(i=Kd(i)),s&&(s=Kd(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof A&&e.add(a),a}};function yT(){return this._results[Yi()]()}class Qd{get changes(){return this._changes||(this._changes=new Ue)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Yi(),r=Qd.prototype;r[t]||(r[t]=yT)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function tr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function bD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let oi=(()=>{class n{}return n.__NG_ELEMENT_ID__=CT,n})();const _T=oi,wT=class extends _T{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=tc(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),_d(r,i,e),new oa(i)}};function CT(){return _c(nn(),B())}function _c(n,e){return 4&n.type?new wT(e,n,Vo(n,e)):null}let rr=(()=>{class n{}return n.__NG_ELEMENT_ID__=xT,n})();function xT(){return Sy(nn(),B())}const ET=rr,Dy=class extends ET{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new To(this._hostTNode,this._hostLView)}get parentInjector(){const e=Af(this._hostTNode,this._hostLView);if(bg(e)){const t=Lu(e,this._hostLView),r=Fu(e);return new To(t[1].data[r+8],t)}return new To(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Ay(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function $s(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const f=t||{};a=f.index,r=f.injector,i=f.projectableNodes,o=f.environmentInjector||f.ngModuleRef}const u=s?e:new sa(Ke(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const d=(s?c:this.parentInjector).get(Nr,null);d&&(o=d)}const l=u.create(c,i,void 0,o);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[1];if(function ZE(n){return mr(n[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const f=r[3],d=new Dy(f,f[6],f[3]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function vA(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],Ug(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function mA(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=qf(o,s),u=r[11],c=zu(u,s[7]);return null!==c&&function hA(n,e,t,r,i,o){r[0]=i,r[6]=e,Qs(n,r,t,1,i,o)}(i,s[6],u,r,c,a),e.attachToViewContainerRef(),Ug(Jd(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Ay(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=zf(this._lContainer,t);r&&(Hu(Jd(this._lContainer),t),l1(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=zf(this._lContainer,t);return r&&null!=Hu(Jd(this._lContainer),t)?new oa(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Ay(n){return n[8]}function Jd(n){return n[8]||(n[8]=[])}function Sy(n,e){let t;const r=e[n.index];if(mr(r))t=r;else{let i;if(8&n.type)i=tn(r);else{const o=e[11];i=o.createComment("");const s=Wn(n,e);Wi(o,zu(o,s),i,function CA(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=xv(r,e,i,n),rc(e,t)}return new Dy(t,n,e)}class eh{constructor(e){this.queryList=e,this.matches=null}clone(){return new eh(this.queryList)}setDirty(){this.queryList.setDirty()}}class th{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new th(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ny(e,t).matches&&this.queries[t].setDirty()}}class Iy{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class nh{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new nh(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class rh{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new rh(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,DT(t,o)),this.matchTNodeWithReadOption(e,t,Vu(t,e,o,!1,!1))}else r===oi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Vu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Yn||i===rr||i===oi&&4&t.type)this.addMatch(t.index,-2);else{const o=Vu(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function DT(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function ST(n,e,t,r){return-1===t?function AT(n,e){return 11&n.type?Vo(n,e):4&n.type?_c(n,e):null}(e,n):-2===t?function IT(n,e,t){return t===Yn?Vo(e,n):t===oi?_c(e,n):t===rr?Sy(e,n):void 0}(n,e,r):$i(n,n[1],t,e)}function by(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:ST(e,o[c],s[u+1],t.metadata.read))}i.matches=a}return i.matches}function ih(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=by(n,e,i,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],l=e[-u];for(let f=10;f<l.length;f++){const d=l[f];d[17]===d[3]&&ih(d[1],d,c,r)}if(null!==l[9]){const f=l[9];for(let d=0;d<f.length;d++){const h=f[d];ih(h[1],h,c,r)}}}}}return r}function oh(n){const e=B(),t=He(),r=yg();mf(r+1);const i=Ny(t,r);if(n.dirty&&function YE(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?ih(t,e,r,[]):by(t,e,i,r);n.reset(o,dS),n.notifyOnChanges()}return!0}return!1}function Ty(n,e,t){const r=He();r.firstCreatePass&&(function Oy(n,e,t){null===n.queries&&(n.queries=new nh),n.queries.track(new rh(e,t))}(r,new Iy(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function Ry(n,e,t){const r=new Qd(4==(4&t));vv(n,e,r,r.destroy),null===e[19]&&(e[19]=new th),e[19].queries.push(new eh(r))}(r,B(),e)}function Ny(n,e){return n.queries.getByIndex(e)}function Cc(...n){}const xc=new K("Application Initializer");let Ec=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Cc,this.reject=Cc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(ca(o))t.push(o);else if(Ld(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Y(xc,8))},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wa=new K("AppId",{providedIn:"root",factory:function Qy(){return`${fh()}${fh()}${fh()}`}});function fh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jy=new K("Platform Initializer"),dh=new K("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),e_=new K("appBootstrapListener");let ZT=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const si=new K("LocaleId",{providedIn:"root",factory:()=>Le(si,fe.Optional|fe.SkipSelf)||function KT(){return typeof $localize<"u"&&$localize.locale||ts}()});class JT{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let t_=(()=>{class n{compileModuleSync(t){return new Yd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=ni(Gn(t).declarations).reduce((s,a)=>{const u=Ke(a);return u&&s.push(new sa(u)),s},[]);return new JT(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nM=(()=>Promise.resolve(0))();function hh(n){typeof Zone>"u"?nM.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class kt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function rM(){let n=ct.requestAnimationFrame,e=ct.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function sM(n){const e=()=>{!function oM(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ct,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,gh(n),n.isCheckStableRunning=!0,ph(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),gh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return i_(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),o_(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return i_(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),o_(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,gh(n),ph(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kt.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(kt.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,iM,Cc,Cc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const iM={};function ph(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function i_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function o_(n){n._nesting--,ph(n)}class aM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const s_=new K(""),Dc=new K("");let yh,vh=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yh||(function uM(n){yh=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kt.assertNotInAngularZone(),hh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hh(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Y(kt),Y(mh),Y(Dc))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})(),mh=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return yh?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),xi=null;const a_=new K("AllowMultipleToken"),_h=new K("PlatformDestroyListeners");class u_{constructor(e,t){this.name=e,this.token=t}}function l_(n,e,t=[]){const r=`Platform: ${e}`,i=new K(r);return(o=[])=>{let s=wh();if(!s||s.injector.get(a_,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function fM(n){if(xi&&!xi.get(a_,!1))throw new U(400,!1);xi=n;const e=n.get(d_);(function c_(n){const e=n.get(Jy,null);e&&e.forEach(t=>t())})(n)}(function f_(n=[],e){return wr.create({name:e,providers:[{provide:ad,useValue:"platform"},{provide:_h,useValue:new Set([()=>xi=null])},...n]})}(a,r))}return function hM(n){const e=wh();if(!e)throw new U(401,!1);return e}()}}function wh(){return xi?.get(d_)??null}let d_=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function p_(n,e){let t;return t="noop"===n?new aM:("zone.js"===n?void 0:n)||new kt(e),t}(r?.ngZone,function h_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:kt,useValue:i}];return i.run(()=>{const s=wr.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(Uo,null);if(!u)throw new U(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Sc(this._modules,a),c.unsubscribe()})}),function g_(n,e,t){try{const r=t();return ca(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Ec);return c.runInitializers(),c.donePromise.then(()=>(function Vm(n){Qn(n,"Expected localeId to be defined"),"string"==typeof n&&(km=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(si,ts)||ts),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=v_({},r);return function cM(n,e,t){const r=new Yd(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ac);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new U(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(_h,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Y(wr))},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function v_(n,e){return Array.isArray(e)?e.reduce(v_,n):{...n,...e}}let Ac=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new it(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new it(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{kt.assertNotInAngularZone(),hh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{kt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function vE(...n){const e=Rs(n),t=function cE(n,e){return"number"==typeof ql(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?pr(r[0]):_o(t)(Pt(r,e)):br}(o,s.pipe(function mE(n={}){const{connector:e=(()=>new Tn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,l=!1,f=!1;const d=()=>{a?.unsubscribe(),a=void 0},h=()=>{d(),s=u=void 0,l=f=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Nt((g,v)=>{c++,!f&&!l&&d();const m=u=u??e();v.add(()=>{c--,0===c&&!f&&!l&&(a=Yl(p,i))}),m.subscribe(v),!s&&c>0&&(s=new de({next:_=>m.next(_),error:_=>{f=!0,d(),a=Yl(h,t,_),m.error(_)},complete:()=>{l=!0,d(),a=Yl(h,r),m.complete()}}),pr(g).subscribe(s))})(o)}}()))}bootstrap(t,r){const i=t instanceof z1;if(!this._injector.get(Ec).done)throw!i&&function Co(n){const e=Ke(n)||ln(n)||_n(n);return null!==e&&e.standalone}(t),new U(405,false);let s;s=i?t:this._injector.get(na).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function lM(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ns),c=s.create(wr.NULL,[],r||s.selector,a),l=c.location.nativeElement,f=c.injector.get(s_,null);return f?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Sc(this.components,c),f?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Sc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(e_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Y(kt),Y(Nr),Y(Uo))},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ic=(()=>{class n{}return n.__NG_ELEMENT_ID__=vM,n})();function vM(n){return function mM(n,e,t){if(Vs(n)&&!t){const r=Xn(n.index,e);return new oa(r,r)}return 47&n.type?new oa(e[16],e):null}(nn(),B(),16==(16&n))}class C_{constructor(){}supports(e){return aa(e)}create(e){return new EM(e)}}const xM=(n,e)=>e;class EM{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xM}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<E_(r,i,o)?t:r,a=E_(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let d=0;d<c;d++){const h=d<o.length?o[d]:o[d]=0,p=h+d;l<=p&&p<c&&(o[d]=h+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!aa(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function qI(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Yi()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new DM(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new x_),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new x_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class DM{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AM{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class x_{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new AM,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E_(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class D_{constructor(){}supports(e){return e instanceof Map||Od(e)}create(){return new SM}}class SM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Od(e)))throw new U(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new IM(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class IM{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function A_(){return new Mc([new C_])}let Mc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||A_()),deps:[[n,new Xs,new Ws]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new U(901,!1)}}return n.\u0275prov=ie({token:n,providedIn:"root",factory:A_}),n})();function S_(){return new Ca([new D_])}let Ca=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||S_()),deps:[[n,new Xs,new Ws]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new U(901,!1)}}return n.\u0275prov=ie({token:n,providedIn:"root",factory:S_}),n})();const MM=l_(null,"core",[]);let RM=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Y(Ac))},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({}),n})();let Ah=null;function Vr(){return Ah}class PM{}const An=new K("DocumentToken");let Sh=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:function(){return function FM(){return Y(I_)}()},providedIn:"platform"}),n})();const LM=new K("Location Initialized");let I_=(()=>{class n extends Sh{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vr().getBaseHref(this._doc)}onPopState(t){const r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){b_()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){b_()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Y(An))},n.\u0275prov=ie({token:n,factory:function(){return function BM(){return new I_(Y(An))}()},providedIn:"platform"}),n})();function b_(){return!!window.history.pushState}function Ih(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function T_(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ui(n){return n&&"?"!==n[0]?"?"+n:n}let eo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:function(){return Le(R_)},providedIn:"root"}),n})();const M_=new K("appBaseHref");let R_=(()=>{class n extends eo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Le(An).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ih(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+ui(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+ui(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Y(Sh),Y(M_,8))},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kM=(()=>{class n extends eo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ih(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ui(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ui(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Y(Sh),Y(M_,8))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})(),bh=(()=>{class n{constructor(t){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function HM(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(T_(O_(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ui(r))}normalize(t){return n.stripTrailingSlash(function UM(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,O_(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ui(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ui,n.joinWithSlash=Ih,n.stripTrailingSlash=T_,n.\u0275fac=function(t){return new(t||n)(Y(eo))},n.\u0275prov=ie({token:n,factory:function(){return function VM(){return new bh(Y(eo))}()},providedIn:"root"}),n})();function O_(n){return n.replace(/\/index.html$/,"")}function H_(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class SR{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new SR(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),$_(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$_(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(F(rr),F(oi),F(Mc))},n.\u0275dir=me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $_(n,e){n.context.$implicit=e.item}let li=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){z_("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){z_("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(F(rr),F(oi))},n.\u0275dir=me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class bR{constructor(){this.$implicit=null,this.ngIf=null}}function z_(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${st(e)}'.`)}let X_=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw function Ar(n,e){return new U(2100,!1)}();return t.toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=On({name:"lowercase",type:n,pure:!0,standalone:!0}),n})(),q_=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=Y_}transform(t,r=Y_){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(function XR(n,e){return{key:n,value:e}}(s.key,s.currentValue))})),(i||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(F(Ca,16))},n.\u0275pipe=On({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function Y_(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),o=String(r);return i==o?0:i<o?-1:1}let jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({}),n})();let eO=(()=>{class n{}return n.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new tO(Y(An),window)}),n})();class tO{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function nO(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=K_(this.window.history)||K_(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function K_(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Q_{}class TO extends PM{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zh extends TO{static makeCurrent(){!function NM(n){Ah||(Ah=n)}(new zh)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function MO(){return Aa=Aa||document.querySelector("base"),Aa?Aa.getAttribute("href"):null}();return null==t?null:function RO(n){jc=jc||document.createElement("a"),jc.setAttribute("href",n);const e=jc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return H_(document.cookie,e)}}let jc,Aa=null;const iw=new K("TRANSITION_ID"),NO=[{provide:xc,useFactory:function OO(n,e,t){return()=>{t.get(Ec).donePromise.then(()=>{const r=Vr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[iw,An,wr],multi:!0}];let FO=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();const Gc=new K("EventManagerPlugins");let $c=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Y(Gc),Y(kt))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();class ow{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Vr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let sw=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})(),Sa=(()=>{class n extends sw{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(aw),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(aw))}}return n.\u0275fac=function(t){return new(t||n)(Y(An))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();function aw(n){Vr().remove(n)}const Wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xh=/%COMP%/g;function qh(n,e){return e.flat(100).map(t=>t.replace(Xh,n))}function lw(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Yh=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Zh(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Tr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new HO(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case Tr.ShadowDom:return new jO(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=qh(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Y($c),Y(Sa),Y(wa))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();class Zh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Wh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(dw(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(dw(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Wh[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Wh[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Nn.DashCase|Nn.Important)?e.style.setProperty(t,r,i&Nn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Nn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,lw(r)):this.eventManager.addEventListener(e,t,lw(r))}}function dw(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class HO extends Zh{constructor(e,t,r,i){super(e),this.component=r;const o=qh(i+"-"+r.id,r.styles);t.addStyles(o),this.contentAttr=function kO(n){return"_ngcontent-%COMP%".replace(Xh,n)}(i+"-"+r.id),this.hostAttr=function VO(n){return"_nghost-%COMP%".replace(Xh,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class jO extends Zh{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=qh(i.id,i.styles);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let GO=(()=>{class n extends ow{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Y(An))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();const hw=["alt","control","meta","shift"],$O={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let WO=(()=>{class n extends ow{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),hw.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=$O[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hw.forEach(s=>{s!==i&&(0,zO[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Y(An))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();const gw=[{provide:dh,useValue:"browser"},{provide:Jy,useValue:function XO(){zh.makeCurrent()},multi:!0},{provide:An,useFactory:function YO(){return function TA(n){Qf=n}(document),document},deps:[]}],ZO=l_(MM,"browser",gw),vw=new K(""),mw=[{provide:Dc,useClass:class PO{addToWindow(e){ct.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},ct.getAllAngularTestabilities=()=>e.getAllTestabilities(),ct.getAllAngularRootElements=()=>e.getAllRootElements(),ct.frameworkStabilizers||(ct.frameworkStabilizers=[]),ct.frameworkStabilizers.push(r=>{const i=ct.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Vr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s_,useClass:vh,deps:[kt,mh,Dc]},{provide:vh,useClass:vh,deps:[kt,mh,Dc]}],yw=[{provide:ad,useValue:"root"},{provide:Uo,useFactory:function qO(){return new Uo},deps:[]},{provide:Gc,useClass:GO,multi:!0,deps:[An,kt,dh]},{provide:Gc,useClass:WO,multi:!0,deps:[An]},{provide:Yh,useClass:Yh,deps:[$c,Sa,wa]},{provide:X1,useExisting:Yh},{provide:sw,useExisting:Sa},{provide:Sa,useClass:Sa,deps:[An]},{provide:$c,useClass:$c,deps:[Gc,kt]},{provide:Q_,useClass:FO,deps:[]},[]];let KO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:wa,useValue:t.appId},{provide:iw,useExisting:wa},NO]}}}return n.\u0275fac=function(t){return new(t||n)(Y(vw,12))},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({providers:[...yw,...mw],imports:[jh,RM]}),n})(),_w=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Y(An))},n.\u0275prov=ie({token:n,factory:function(t){let r=null;return r=t?new t:function JO(){return new _w(Y(An))}(),r},providedIn:"root"}),n})();function se(...n){return Pt(n,Rs(n))}typeof window<"u"&&window;class sr extends Tn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const zc=S(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:a8}=Array,{getPrototypeOf:u8,prototype:c8,keys:l8}=Object;function xw(n){if(1===n.length){const e=n[0];if(a8(e))return{args:e,keys:null};if(function f8(n){return n&&"object"==typeof n&&u8(n)===c8}(e)){const t=l8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:d8}=Array;function Ew(n){return ce(e=>function h8(n,e){return d8(e)?n(...e):n(e)}(n,e))}function Dw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Aw(...n){const e=Rs(n),t=B0(n),{args:r,keys:i}=xw(n);if(0===r.length)return Pt([],e);const o=new it(function p8(n,e,t=_e){return r=>{Sw(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)Sw(e,()=>{const c=Pt(n[u],e);let l=!1;c.subscribe(mt(r,f=>{o[u]=f,l||(l=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>Dw(i,s):_e));return t?o.pipe(Ew(t)):o}function Sw(n,e,t){n?qr(t,n,e):e()}function Jh(...n){return function g8(){return _o(1)}()(Pt(n,Rs(n)))}function Iw(n){return new it(e=>{pr(n()).subscribe(e)})}function Ia(n,e){const t=D(n)?n:()=>n,r=i=>i.error(t());return new it(e?i=>e.schedule(r,0,i):r)}function ep(){return Nt((n,e)=>{let t=null;n._refCount++;const r=mt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class bw extends it{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,mo(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new A;const t=this.getSubject();e.add(this.source.subscribe(mt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=A.EMPTY)}return e}refCount(){return ep()(this)}}function Ur(n,e){return Nt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(mt(r,u=>{i?.unsubscribe();let c=0;const l=o++;pr(n(u,l)).subscribe(i=mt(r,f=>r.next(e?e(u,f,l,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ba(n){return n<=0?()=>br:Nt((e,t)=>{let r=0;e.subscribe(mt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fi(n,e){return Nt((t,r)=>{let i=0;t.subscribe(mt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Wc(n){return Nt((e,t)=>{let r=!1;e.subscribe(mt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Tw(n=m8){return Nt((e,t)=>{let r=!1;e.subscribe(mt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function m8(){return new zc}function Di(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,o)=>n(i,o,r)):_e,ba(1),t?Wc(e):Tw(()=>new zc))}function Ai(n,e){return D(e)?en(n,e,1):en(n,1)}function gn(n,e,t){const r=D(n)||e||t?{next:n,error:e,complete:t}:n;return r?Nt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(mt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):_e}function Si(n){return Nt((e,t)=>{let o,r=null,i=!1;r=e.subscribe(mt(t,void 0,void 0,s=>{o=pr(n(s,Si(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function y8(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(mt(s,l=>{const f=c++;u=a?n(u,l,f):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Mw(n,e){return Nt(y8(n,e,arguments.length>=2,!0))}function tp(n){return n<=0?()=>br:Nt((e,t)=>{let r=[];e.subscribe(mt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rw(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,o)=>n(i,o,r)):_e,tp(1),t?Wc(e):Tw(()=>new zc))}function np(n){return Nt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Fe="primary",Ta=Symbol("RouteTitle");class C8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ss(n){return new C8(n)}function x8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Ow(n[i],e[i]))return!1;return!0}function Ow(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function Nw(n){return Array.prototype.concat.apply([],n)}function Pw(n){return n.length>0?n[n.length-1]:null}function sn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ii(n){return Ld(n)?n:ca(n)?Pt(Promise.resolve(n)):se(n)}const Xc=!1,D8={exact:function Bw(n,e,t){if(!no(n.segments,e.segments)||!qc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Bw(n.children[r],e.children[r],t))return!1;return!0},subset:kw},Fw={exact:function A8(n,e){return Hr(n,e)},subset:function S8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ow(n[t],e[t]))},ignored:()=>!0};function Lw(n,e,t){return D8[t.paths](n.root,e.root,t.matrixParams)&&Fw[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kw(n,e,t){return Vw(n,e,e.segments,t)}function Vw(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!no(i,t)||e.hasChildren()||!qc(i,t,r))}if(n.segments.length===t.length){if(!no(n.segments,t)||!qc(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!kw(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(no(n.segments,i)&&qc(n.segments,i,r)&&n.children[Fe])&&Vw(n.children[Fe],e,o,r)}}function qc(n,e,t){return e.every((r,i)=>Fw[t](n[i].parameters,r.parameters))}class to{constructor(e=new Be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ss(this.queryParams)),this._queryParamMap}toString(){return T8.serialize(this)}}class Be{constructor(e,t){this.segments=e,this.children=t,this.parent=null,sn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yc(this)}}class Ma{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ss(this.parameters)),this._parameterMap}toString(){return jw(this)}}function no(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ra=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:function(){return new rp},providedIn:"root"}),n})();class rp{parse(e){const t=new k8(e);return new to(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Oa(e.root,!0)}`,r=function O8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Zc(t)}=${Zc(i)}`).join("&"):`${Zc(t)}=${Zc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function M8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const T8=new rp;function Yc(n){return n.segments.map(e=>jw(e)).join("/")}function Oa(n,e){if(!n.hasChildren())return Yc(n);if(e){const t=n.children[Fe]?Oa(n.children[Fe],!1):"",r=[];return sn(n.children,(i,o)=>{o!==Fe&&r.push(`${o}:${Oa(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function b8(n,e){let t=[];return sn(n.children,(r,i)=>{i===Fe&&(t=t.concat(e(r,i)))}),sn(n.children,(r,i)=>{i!==Fe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Fe?[Oa(n.children[Fe],!1)]:[`${i}:${Oa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Fe]?`${Yc(n)}/${t[0]}`:`${Yc(n)}/(${t.join("//")})`}}function Uw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zc(n){return Uw(n).replace(/%3B/gi,";")}function ip(n){return Uw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kc(n){return decodeURIComponent(n)}function Hw(n){return Kc(n.replace(/\+/g,"%20"))}function jw(n){return`${ip(n.path)}${function R8(n){return Object.keys(n).map(e=>`;${ip(e)}=${ip(n[e])}`).join("")}(n.parameters)}`}const N8=/^[^\/()?;=#]+/;function Qc(n){const e=n.match(N8);return e?e[0]:""}const P8=/^[^=?&#]+/,L8=/^[^&#]+/;class k8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Be([],{}):new Be([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Fe]=new Be(e,t)),r}parseSegment(){const e=Qc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,Xc);return this.capture(e),new Ma(Kc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Qc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Qc(this.remaining);i&&(r=i,this.capture(r))}e[Kc(t)]=Kc(r)}parseQueryParam(e){const t=function F8(n){const e=n.match(P8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function B8(n){const e=n.match(L8);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=Hw(t),o=Hw(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new U(4010,Xc);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Fe);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Fe]:new Be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,Xc)}}function op(n){return n.segments.length>0?new Be([],{[Fe]:n}):n}function Jc(n){const e={};for(const r of Object.keys(n.children)){const o=Jc(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function V8(n){if(1===n.numberOfChildren&&n.children[Fe]){const e=n.children[Fe];return new Be(n.segments.concat(e.segments),e.children)}return n}(new Be(n.segments,e))}function ro(n){return n instanceof to}function j8(n,e,t,r,i){if(0===t.length)return as(e.root,e.root,e.root,r,i);const o=function zw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $w(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return sn(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new $w(t,e,r)}(t);return o.toRoot()?as(e.root,e.root,new Be([],{}),r,i):function s(u){const c=function $8(n,e,t,r){if(n.isAbsolute)return new us(e.root,!0,0);if(-1===r)return new us(t,t===e.root,0);return function Ww(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new us(r,!1,i-o)}(t,r+(Na(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,u),l=c.processChildren?Fa(c.segmentGroup,c.index,o.commands):ap(c.segmentGroup,c.index,o.commands);return as(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Na(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pa(n){return"object"==typeof n&&null!=n&&n.outlets}function as(n,e,t,r,i){let s,o={};r&&sn(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=n===e?t:Gw(n,e,t);const a=op(Jc(s));return new to(a,o,i)}function Gw(n,e,t){const r={};return sn(n.children,(i,o)=>{r[o]=i===e?t:Gw(i,e,t)}),new Be(n.segments,r)}class $w{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Na(r[0]))throw new U(4003,!1);const i=r.find(Pa);if(i&&i!==Pw(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class us{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ap(n,e,t){if(n||(n=new Be([],{})),0===n.segments.length&&n.hasChildren())return Fa(n,e,t);const r=function W8(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Pa(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!qw(u,c,s))return o;r+=2}else{if(!qw(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Be(n.segments.slice(0,r.pathIndex),{});return o.children[Fe]=new Be(n.segments.slice(r.pathIndex),n.children),Fa(o,0,i)}return r.match&&0===i.length?new Be(n.segments,{}):r.match&&!n.hasChildren()?up(n,e,t):r.match?Fa(n,0,i):up(n,e,t)}function Fa(n,e,t){if(0===t.length)return new Be(n.segments,{});{const r=function z8(n){return Pa(n[0])?n[0].outlets:{[Fe]:n}}(t),i={};return sn(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=ap(n.children[s],e,o))}),sn(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Be(n.segments,i)}}function up(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Pa(o)){const u=X8(o.outlets);return new Be(r,u)}if(0===i&&Na(t[0])){r.push(new Ma(n.segments[e].path,Xw(t[0]))),i++;continue}const s=Pa(o)?o.outlets[Fe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Na(a)?(r.push(new Ma(s,Xw(a))),i+=2):(r.push(new Ma(s,{})),i++)}return new Be(r,{})}function X8(n){const e={};return sn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=up(new Be([],{}),0,t))}),e}function Xw(n){const e={};return sn(n,(t,r)=>e[r]=`${t}`),e}function qw(n,e,t){return n==t.path&&Hr(e,t.parameters)}const La="imperative";class jr{constructor(e,t){this.id=e,this.url=t}}class cp extends jr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class io extends jr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class el extends jr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yw extends jr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Zw extends jr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class q8 extends jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y8 extends jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z8 extends jr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K8 extends jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q8 extends jr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eN{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tN{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nN{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rN{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iN{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let sN=(()=>{class n{createUrlTree(t,r,i,o,s,a){return j8(t||r.root,i,o,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})(),aN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:function(e){return sN.\u0275fac(e)},providedIn:"root"}),n})();class Qw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=lp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fp(e,this._root).map(t=>t.value)}}function lp(n,e){if(n===e.value)return e;for(const t of e.children){const r=lp(n,t);if(r)return r}return null}function fp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fp(n,t);if(r.length)return r.unshift(e),r}return[]}class di{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function cs(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Jw extends Qw{constructor(e,t){super(e),this.snapshot=t,dp(this,e)}toString(){return this.snapshot.toString()}}function e2(n,e){const t=function uN(n,e){const s=new tl([],{},{},"",{},Fe,e,null,n.root,-1,{});return new n2("",new di(s,[]))}(n,e),r=new sr([new Ma("",{})]),i=new sr({}),o=new sr({}),s=new sr({}),a=new sr(""),u=new ls(r,i,s,a,o,Fe,e,t.root);return u.snapshot=t.root,new Jw(new di(u,[]),t)}class ls{constructor(e,t,r,i,o,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(ce(c=>c[Ta]))??se(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(e=>ss(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(e=>ss(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function t2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function cN(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tl{get title(){return this.data?.[Ta]}constructor(e,t,r,i,o,s,a,u,c,l,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ss(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ss(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class n2 extends Qw{constructor(e,t){super(t),this.url=e,dp(this,t)}toString(){return r2(this._root)}}function dp(n,e){e.value._routerState=n,e.children.forEach(t=>dp(n,t))}function r2(n){const e=n.children.length>0?` { ${n.children.map(r2).join(", ")} } `:"";return`${n.value}${e}`}function hp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Hr(e.params,t.params)||n.params.next(t.params),function E8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Hr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function pp(n,e){const t=Hr(n.params,e.params)&&function I8(n,e){return no(n,e)&&n.every((t,r)=>Hr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||pp(n.parent,e.parent))}function Ba(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function fN(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ba(n,r,i);return Ba(n,r)})}(n,e,t);return new di(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ba(n,a)),s}}const r=function dN(n){return new ls(new sr(n.url),new sr(n.params),new sr(n.queryParams),new sr(n.fragment),new sr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Ba(n,o));return new di(r,i)}}const gp="ngNavigationCancelingError";function i2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=o2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function o2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[gp]=!0,r.cancellationCode=e,t&&(r.url=t),r}function s2(n){return a2(n)&&ro(n.url)}function a2(n){return n&&n[gp]}class hN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ka,this.attachRef=null}}let ka=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hN,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nl=!1;let vp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fe,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=Le(ka),this.location=Le(rr),this.changeDetector=Le(Ic),this.environmentInjector=Le(Nr)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,nl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,nl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,nl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,nl);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new pN(t,a,i.injector);if(r&&function gN(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=me({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zn]}),n})();class pN{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ls?this.route:e===ka?this.childContexts:this.parent.get(e,t)}}let mp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Mn({type:n,selectors:[["ng-component"]],standalone:!0,features:[dy],decls:1,vars:0,template:function(t,r){1&t&&Lt(0,"router-outlet")},dependencies:[vp],encapsulation:2}),n})();function u2(n,e){return n.providers&&!n._injector&&(n._injector=vc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _p(n){const e=n.children&&n.children.map(_p),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Fe&&(t.component=mp),t}function ar(n){return n.outlet||Fe}function c2(n,e){const t=n.filter(r=>ar(r)===e);return t.push(...n.filter(r=>ar(r)!==e)),t}function Va(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wN{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=cs(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),sn(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=cs(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=cs(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=cs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new iN(o.value.snapshot))}),e.children.length&&this.forwardEvent(new nN(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(hp(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hp(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Va(i.snapshot),u=a?.get(na)??null;s.attachRef=null,s.route=i,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class l2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rl{constructor(e,t){this.component=e,this.route=t}}function CN(n,e,t){const r=n._root;return Ua(r,e?e._root:null,t,[r.value])}function fs(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function DE(n){return null!==wu(n)}(n)?e.get(n):n:r}function Ua(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=cs(e);return n.children.forEach(s=>{(function EN(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function DN(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!no(n.url,e.url);case"pathParamsOrQueryParamsChange":return!no(n.url,e.url)||!Hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pp(n,e)||!Hr(n.queryParams,e.queryParams);default:return!pp(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new l2(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ua(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rl(a.outlet.component,s))}else s&&Ha(e,a,i),i.canActivateChecks.push(new l2(r)),Ua(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),sn(o,(s,a)=>Ha(s,t.getContext(a),i)),i}function Ha(n,e,t){const r=cs(n),i=n.value;sn(r,(o,s)=>{Ha(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new rl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ja(n){return"function"==typeof n}function wp(n){return n instanceof zc||"EmptyError"===n?.name}const il=Symbol("INITIAL_VALUE");function ds(){return Ur(n=>Aw(n.map(e=>e.pipe(ba(1),function v8(...n){const e=Rs(n);return Nt((t,r)=>{(e?Jh(n,t,e):Jh(n,t)).subscribe(r)})}(il)))).pipe(ce(e=>{for(const t of e)if(!0!==t){if(t===il)return il;if(!1===t||t instanceof to)return t}return!0}),fi(e=>e!==il),ba(1)))}function f2(n){return function Te(...n){return hr(n)}(gn(e=>{if(ro(e))throw i2(0,e)}),ce(e=>!0===e))}const Cp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d2(n,e,t,r,i){const o=xp(n,e,t);return o.matched?function HN(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?se(i.map(s=>{const a=fs(s,n);return Ii(function MN(n){return n&&ja(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ds(),f2()):se(!0)}(r=u2(e,r),e,t).pipe(ce(s=>!0===s?o:{...Cp})):se(o)}function xp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Cp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||x8)(t,n,e);if(!i)return{...Cp};const o={};sn(i.posParams,(a,u)=>{o[u]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ol(n,e,t,r){if(t.length>0&&function $N(n,e,t){return t.some(r=>sl(n,e,r)&&ar(r)!==Fe)}(n,t,r)){const o=new Be(e,function GN(n,e,t,r){const i={};i[Fe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&ar(o)!==Fe){const s=new Be([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[ar(o)]=s}return i}(n,e,r,new Be(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function zN(n,e,t){return t.some(r=>sl(n,e,r))}(n,t,r)){const o=new Be(n.segments,function jN(n,e,t,r,i){const o={};for(const s of r)if(sl(n,t,s)&&!i[ar(s)]){const a=new Be([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,o[ar(s)]=a}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new Be(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function sl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function h2(n,e,t,r){return!!(ar(n)===r||r!==Fe&&sl(e,t,n))&&("**"===n.path||xp(e,n,t).matched)}function p2(n,e,t){return 0===e.length&&!n.children[t]}const al=!1;class ul{constructor(e){this.segmentGroup=e||null}}class g2{constructor(e){this.urlTree=e}}function Ga(n){return Ia(new ul(n))}function v2(n){return Ia(new g2(n))}class YN{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=ol(this.urlTree.root,[],[],this.config).segmentGroup,t=new Be(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Fe).pipe(ce(o=>this.createUrlTree(Jc(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Si(o=>{if(o instanceof g2)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof ul?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Fe).pipe(ce(i=>this.createUrlTree(Jc(i),e.queryParams,e.fragment))).pipe(Si(i=>{throw i instanceof ul?this.noMatchError(i):i}))}noMatchError(e){return new U(4002,al)}createUrlTree(e,t,r){const i=op(e);return new to(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ce(o=>new Be([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Pt(i).pipe(Ai(o=>{const s=r.children[o],a=c2(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(ce(u=>({segment:u,outlet:o})))}),Mw((o,s)=>(o[s.outlet]=s.segment,o),{}),Rw())}expandSegment(e,t,r,i,o,s){return Pt(r).pipe(Ai(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Si(c=>{if(c instanceof ul)return se(null);throw c}))),Di(a=>!!a),Si((a,u)=>{if(wp(a))return p2(t,i,o)?se(new Be([],{})):Ga(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return h2(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):Ga(t):Ga(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?v2(o):this.lineralizeSegments(r,o).pipe(en(s=>{const a=new Be(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=xp(t,i,o);if(!a)return Ga(t);const f=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?v2(f):this.lineralizeSegments(i,f).pipe(en(d=>this.expandSegment(e,t,r,d.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=u2(r,e),r.loadChildren?(r._loadedRoutes?se({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ce(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Be(i,{})))):se(new Be(i,{}))):d2(t,r,i,e).pipe(Ur(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(en(l=>{const f=l.injector??e,d=l.routes,{segmentGroup:h,slicedSegments:p}=ol(t,a,u,d),g=new Be(h.segments,h.children);if(0===p.length&&g.hasChildren())return this.expandChildren(f,d,g).pipe(ce(w=>new Be(a,w)));if(0===d.length&&0===p.length)return se(new Be(a,{}));const v=ar(r)===o;return this.expandSegment(f,g,d,p,v?Fe:o,!0).pipe(ce(_=>new Be(a.concat(_.segments),_.children)))})):Ga(t)))}getChildConfig(e,t,r){return t.children?se({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?se({routes:t._loadedRoutes,injector:t._loadedInjector}):function UN(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?se(!0):se(i.map(s=>{const a=fs(s,n);return Ii(function SN(n){return n&&ja(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ds(),f2())}(e,t,r).pipe(en(i=>i?this.configLoader.loadChildren(e,t).pipe(gn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function XN(n){return Ia(o2(al,3))}())):se({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return se(r);if(i.numberOfChildren>1||!i.children[Fe])return Ia(new U(4e3,al));i=i.children[Fe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new to(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return sn(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return sn(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new Be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new U(4001,al);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class KN{}class e4{constructor(e,t,r,i,o,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=ol(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Fe).pipe(ce(t=>{if(null===t)return null;const r=new tl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new di(r,t),o=new n2(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=t2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Pt(Object.keys(r.children)).pipe(Ai(i=>{const o=r.children[i],s=c2(t,i);return this.processSegmentGroup(e,s,o,i)}),Mw((i,o)=>i&&o?(i.push(...o),i):null),function _8(n,e=!1){return Nt((t,r)=>{let i=0;t.subscribe(mt(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Wc(null),Rw(),ce(i=>{if(null===i)return null;const o=y2(i);return function t4(n){n.sort((e,t)=>e.value.outlet===Fe?-1:t.value.outlet===Fe?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return Pt(t).pipe(Ai(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),Di(s=>!!s),Si(s=>{if(wp(s))return p2(r,i,o)?se([]):se(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!h2(t,r,i,o))return se(null);let s;if("**"===t.path){const a=i.length>0?Pw(i).parameters:{},u=w2(r)+i.length;s=se({snapshot:new tl(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,C2(t),ar(t),t.component??t._loadedComponent??null,t,_2(r),u,x2(t)),consumedSegments:[],remainingSegments:[]})}else s=d2(r,t,i,e).pipe(ce(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const f=w2(r)+u.length;return{snapshot:new tl(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,C2(t),ar(t),t.component??t._loadedComponent??null,t,_2(r),f,x2(t)),consumedSegments:u,remainingSegments:c}}));return s.pipe(Ur(a=>{if(null===a)return se(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const f=t._loadedInjector??e,d=function n4(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:h,slicedSegments:p}=ol(r,c,l,d.filter(v=>void 0===v.redirectTo));if(0===p.length&&h.hasChildren())return this.processChildren(f,d,h).pipe(ce(v=>null===v?null:[new di(u,v)]));if(0===d.length&&0===p.length)return se([new di(u,[])]);const g=ar(t)===o;return this.processSegment(f,d,h,p,g?Fe:o).pipe(ce(v=>null===v?null:[new di(u,v)]))}))}}function r4(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function y2(n){const e=[],t=new Set;for(const r of n){if(!r4(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=y2(r.children);e.push(new di(r.value,i))}return e.filter(r=>!t.has(r))}function _2(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function w2(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function C2(n){return n.data||{}}function x2(n){return n.resolve||{}}function E2(n){return"string"==typeof n.title||null===n.title}function Ep(n){return Ur(e=>{const t=n(e);return t?Pt(t).pipe(ce(()=>e)):se(e)})}const hs=new K("ROUTES");let Dp=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return se(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ii(t.loadComponent()).pipe(ce(A2),gn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),np(()=>{this.componentLoaders.delete(t)})),i=new bw(r,()=>new Tn).pipe(ep());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=Nw(u.get(hs,[],fe.Self|fe.Optional)));return{routes:c.map(_p),injector:u}}),np(()=>{this.childrenLoaders.delete(r)})),s=new bw(o,()=>new Tn).pipe(ep());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Ii(t()).pipe(ce(A2),en(i=>i instanceof ly||Array.isArray(i)?se(i):Pt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(Y(wr),Y(t_))},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A2(n){return function d4(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ll=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Tn,this.configLoader=Le(Dp),this.environmentInjector=Le(Nr),this.urlSerializer=Le(Ra),this.rootContexts=Le(ka),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new eN(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new J8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:La,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(r=>0!==r.id),ce(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ur(r=>{let i=!1,o=!1;return se(r).pipe(gn(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ur(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new Yw(s.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),br}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return S2(s.source)&&(t.browserUrlTree=s.extractedUrl),se(s).pipe(Ur(l=>{const f=this.transitions?.getValue();return this.events.next(new cp(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),f!==this.transitions?.getValue()?br:Promise.resolve(l)}),function ZN(n,e,t,r){return Ur(i=>function qN(n,e,t,r,i){return new YN(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ce(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),gn(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function o4(n,e,t,r,i){return en(o=>function JN(n,e,t,r,i,o,s="emptyOnly"){return new e4(n,e,t,r,i,s,o).recognize().pipe(Ur(a=>null===a?function QN(n){return new it(e=>e.error(n))}(new KN):se(a)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(ce(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),gn(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const d=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(d,l)}t.browserUrlTree=l.urlAfterRedirects}const f=new q8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:f,source:d,restoredState:h,extras:p}=s,g=new cp(l,this.urlSerializer.serialize(f),d,h);this.events.next(g);const v=e2(f,this.rootComponentType).snapshot;return se(r={...s,targetSnapshot:v,urlAfterRedirects:f,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Yw(s.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),br}}),gn(s=>{const a=new Y8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ce(s=>r={...s,guards:CN(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function ON(n,e){return en(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?se({...t,guardsResult:!0}):function NN(n,e,t,r){return Pt(n).pipe(en(i=>function VN(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?se(o.map(a=>{const u=Va(e)??i,c=fs(a,u);return Ii(function TN(n){return n&&ja(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(Di())})).pipe(ds()):se(!0)}(i.component,i.route,t,e,r)),Di(i=>!0!==i,!0))}(s,r,i,n).pipe(en(a=>a&&function AN(n){return"boolean"==typeof n}(a)?function PN(n,e,t,r){return Pt(e).pipe(Ai(i=>Jh(function LN(n,e){return null!==n&&e&&e(new tN(n)),se(!0)}(i.route.parent,r),function FN(n,e){return null!==n&&e&&e(new rN(n)),se(!0)}(i.route,r),function kN(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function xN(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Iw(()=>se(s.guards.map(u=>{const c=Va(s.node)??t,l=fs(u,c);return Ii(function bN(n){return n&&ja(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(Di())})).pipe(ds())));return se(o).pipe(ds())}(n,i.path,t),function BN(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return se(!0);const i=r.map(o=>Iw(()=>{const s=Va(e)??t,a=fs(o,s);return Ii(function IN(n){return n&&ja(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Di())}));return se(i).pipe(ds())}(n,i.route,t))),Di(i=>!0!==i,!0))}(r,o,n,e):se(a)),ce(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),gn(s=>{if(r.guardsResult=s.guardsResult,ro(s.guardsResult))throw i2(0,s.guardsResult);const a=new Z8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),fi(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3,t),!1)),Ep(s=>{if(s.guards.canActivateChecks.length)return se(s).pipe(gn(a=>{const u=new K8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ur(a=>{let u=!1;return se(a).pipe(function s4(n,e){return en(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return se(t);let o=0;return Pt(i).pipe(Ai(s=>function a4(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!E2(i)&&(o[Ta]=i.title),function u4(n,e,t,r){const i=function c4(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return se({});const o={};return Pt(i).pipe(en(s=>function l4(n,e,t,r){const i=Va(e)??r,o=fs(n,i);return Ii(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Di(),gn(a=>{o[s]=a}))),tp(1),function w8(n){return ce(()=>n)}(o),Si(s=>wp(s)?br:Ia(s)))}(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=t2(n,t).resolve,i&&E2(i)&&(n.data[Ta]=i.title),null)))}(s.route,r,n,e)),gn(()=>o++),tp(1),en(s=>o===i.length?se(t):br))})}(t.paramsInheritanceStrategy,this.environmentInjector),gn({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2,t))}}))}),gn(a=>{const u=new Q8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Ep(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(gn(l=>{u.component=l}),ce(()=>{})));for(const l of u.children)c.push(...a(l));return c};return Aw(a(s.targetSnapshot.root)).pipe(Wc(),ba(1))}),Ep(()=>this.afterPreactivation()),ce(s=>{const a=function lN(n,e,t){const r=Ba(n,e._root,t?t._root:void 0);return new Jw(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),gn(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>ce(r=>(new wN(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),gn({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new io(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),np(()=>{i||o||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Si(s=>{if(o=!0,a2(s)){s2(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new el(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),s2(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||S2(r.source)};t.scheduleNavigation(u,La,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Zw(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return br}))}))}cancelNavigationTransition(t,r,i,o){const s=new el(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S2(n){return n!==La}let I2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Fe);return r}getResolvedTitleForRoute(t){return t.data[Ta]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:function(){return Le(h4)},providedIn:"root"}),n})(),h4=(()=>{class n extends I2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(Y(_w))},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:function(){return Le(v4)},providedIn:"root"}),n})();class g4{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let v4=(()=>{class n extends g4{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=rn(n)))(r||n)}}(),n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fl=new K("",{providedIn:"root",factory:()=>({})});let y4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:function(){return Le(_4)},providedIn:"root"}),n})(),_4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w4(n){throw n}function C4(n,e,t){return e.parse("/")}const x4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let an=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Le(ZT),this.isNgZoneEnabled=!1,this.options=Le(fl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||w4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||C4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Le(y4),this.routeReuseStrategy=Le(p4),this.urlCreationStrategy=Le(aN),this.titleStrategy=Le(I2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Nw(Le(hs,{optional:!0})??[]),this.navigationTransitions=Le(ll),this.urlSerializer=Le(Ra),this.location=Le(bh),this.isNgZoneEnabled=Le(kt)instanceof kt&&kt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new to,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=e2(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),La,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(_p),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ro(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,La,null,r)}navigate(t,r={skipLocationChange:!1}){return function D4(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new U(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...x4}:!1===r?{...E4}:r,ro(t))return Lw(this.currentUrlTree,t,i);const o=this.parseUrl(t);return Lw(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((f,d)=>{a=f,u=d}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class T2{}let I4=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof io),Ai(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=vc(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Pt(i).pipe(_o())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):se(null);const o=i.pipe(en(s=>null===s?se(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Pt([o,this.loader.loadComponent(r)]).pipe(_o()):o})}}return n.\u0275fac=function(t){return new(t||n)(Y(an),Y(t_),Y(Nr),Y(T2),Y(Dp))},n.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sp=new K("");let M2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof io&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function dv(){throw new Error("invalid")}()},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();function oo(n,e){return{\u0275kind:n,\u0275providers:e}}function O2(){const n=Le(wr);return e=>{const t=n.get(Ac);if(e!==t.components[0])return;const r=n.get(an),i=n.get(N2);1===n.get(bp)&&r.initialNavigation(),n.get(P2,null,fe.Optional)?.setUpPreloading(),n.get(Sp,null,fe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const N2=new K("",{factory:()=>new Tn}),bp=new K("",{providedIn:"root",factory:()=>1});const P2=new K("");function O4(n){return oo(0,[{provide:P2,useExisting:I4},{provide:T2,useExisting:n}])}const F2=new K("ROUTER_FORROOT_GUARD"),N4=[bh,{provide:Ra,useClass:rp},an,ka,{provide:ls,useFactory:function R2(n){return n.routerState.root},deps:[an]},Dp,[]];function P4(){return new u_("Router",an)}let L2=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[N4,[],{provide:hs,multi:!0,useValue:t},{provide:F2,useFactory:k4,deps:[[an,new Ws,new Xs]]},{provide:fl,useValue:r||{}},r?.useHash?{provide:eo,useClass:kM}:{provide:eo,useClass:R_},{provide:Sp,useFactory:()=>{const n=Le(eO),e=Le(kt),t=Le(fl),r=Le(ll),i=Le(Ra);return t.scrollOffset&&n.setOffset(t.scrollOffset),new M2(i,r,n,e,t)}},r?.preloadingStrategy?O4(r.preloadingStrategy).\u0275providers:[],{provide:u_,multi:!0,useFactory:P4},r?.initialNavigation?V4(r):[],[{provide:B2,useFactory:O2},{provide:e_,multi:!0,useExisting:B2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:hs,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Y(F2,8))},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({imports:[mp]}),n})();function k4(n){return"guarded"}function V4(n){return["disabled"===n.initialNavigation?oo(3,[{provide:xc,multi:!0,useFactory:()=>{const e=Le(an);return()=>{e.setUpLocationChangeListener()}}},{provide:bp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?oo(2,[{provide:bp,useValue:0},{provide:xc,multi:!0,deps:[wr],useFactory:e=>{const t=e.get(LM,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const o=e.get(an),s=e.get(N2);(function r(i){e.get(an).events.pipe(fi(s=>s instanceof io||s instanceof el||s instanceof Zw),ce(s=>s instanceof io||s instanceof el&&(0===s.code||1===s.code)&&null),fi(s=>null!==s),ba(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(ll).afterPreactivation=()=>(i(!0),s.closed?se(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const B2=new K("");let k2=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(F(ti),F(Yn))},n.\u0275dir=me({type:n}),n})(),so=(()=>{class n extends k2{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=rn(n)))(r||n)}}(),n.\u0275dir=me({type:n,features:[tt]}),n})();const Gr=new K("NgValueAccessor"),G4={provide:Gr,useExisting:ut(()=>ao),multi:!0},z4=new K("CompositionEventMode");let ao=(()=>{class n extends k2{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $4(){const n=Vr()?Vr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(F(ti),F(Yn),F(z4,8))},n.\u0275dir=me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Bt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[vt([G4]),tt]}),n})();function bi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function U2(n){return null!=n&&"number"==typeof n.length}const vn=new K("NgValidators"),Ti=new K("NgAsyncValidators"),X4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ur{static min(e){return function H2(n){return e=>{if(bi(e.value)||bi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function j2(n){return e=>{if(bi(e.value)||bi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function G2(n){return bi(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function $2(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function z2(n){return bi(n.value)||X4.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function W2(n){return e=>bi(e.value)||!U2(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return X2(e)}static pattern(e){return function q2(n){if(!n)return dl;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(bi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return eC(e)}static composeAsync(e){return tC(e)}}function X2(n){return e=>U2(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function dl(n){return null}function Y2(n){return null!=n}function Z2(n){return ca(n)?Pt(n):n}function K2(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Q2(n,e){return e.map(t=>t(n))}function J2(n){return n.map(e=>function q4(n){return!n.validate}(e)?e:t=>e.validate(t))}function eC(n){if(!n)return null;const e=n.filter(Y2);return 0==e.length?null:function(t){return K2(Q2(t,e))}}function Tp(n){return null!=n?eC(J2(n)):null}function tC(n){if(!n)return null;const e=n.filter(Y2);return 0==e.length?null:function(t){return function H4(...n){const e=B0(n),{args:t,keys:r}=xw(n),i=new it(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let f=!1;pr(t[l]).subscribe(mt(o,d=>{f||(f=!0,c--),a[l]=d},()=>u--,void 0,()=>{(!u||!f)&&(c||o.next(r?Dw(r,a):a),o.complete())}))}});return e?i.pipe(Ew(e)):i}(Q2(t,e).map(Z2)).pipe(ce(K2))}}function Mp(n){return null!=n?tC(J2(n)):null}function nC(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rC(n){return n._rawValidators}function iC(n){return n._rawAsyncValidators}function Rp(n){return n?Array.isArray(n)?n:[n]:[]}function hl(n,e){return Array.isArray(n)?n.includes(e):n===e}function oC(n,e){const t=Rp(e);return Rp(n).forEach(i=>{hl(t,i)||t.push(i)}),t}function sC(n,e){return Rp(e).filter(t=>!hl(n,t))}class aC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Tp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Mp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Sn extends aC{get formDirective(){return null}get path(){return null}}class Mi extends aC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uC{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let za=(()=>{class n extends uC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(F(Mi,2))},n.\u0275dir=me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&lc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[tt]}),n})(),pl=(()=>{class n extends uC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(F(Sn,10))},n.\u0275dir=me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&lc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[tt]}),n})();const Wa="VALID",vl="INVALID",gs="PENDING",Xa="DISABLED";function Fp(n){return(ml(n)?n.validators:n)||null}function Lp(n,e){return(ml(e)?e.asyncValidators:n)||null}function ml(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class dC{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wa}get invalid(){return this.status===vl}get pending(){return this.status==gs}get disabled(){return this.status===Xa}get enabled(){return this.status!==Xa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sC(e,this._rawAsyncValidators))}hasValidator(e){return hl(this._rawValidators,e)}hasAsyncValidator(e){return hl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wa,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wa||this.status===gs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xa:Wa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gs,this._hasOwnPendingAsyncValidator=!0;const t=Z2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?Xa:this.errors?vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gs)?gs:this._anyControlsHaveStatus(vl)?vl:Wa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ml(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function tP(n){return Array.isArray(n)?Tp(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function nP(n){return Array.isArray(n)?Mp(n):n||null}(this._rawAsyncValidators)}}class vs extends dC{constructor(e,t,r){super(Fp(t),Lp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function fC(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new U(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function lC(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ms=new K("CallSetDisabledState",{providedIn:"root",factory:()=>yl}),yl="always";function _l(n,e){return[...e.path,n]}function qa(n,e,t=yl){Bp(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function oP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hC(n,e)})}(n,e),function aP(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function sP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hC(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function iP(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function wl(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xl(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Cl(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Bp(n,e){const t=rC(n);null!==e.validator?n.setValidators(nC(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=iC(n);null!==e.asyncValidator?n.setAsyncValidators(nC(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Cl(e._rawValidators,i),Cl(e._rawAsyncValidators,i)}function xl(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=rC(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=iC(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return Cl(e._rawValidators,r),Cl(e._rawAsyncValidators,r),t}function hC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Up(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===ao?t=o:function lP(n){return Object.getPrototypeOf(n.constructor)===so}(o)?r=o:i=o}),i||r||t||null}function vC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function mC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const mn=class extends dC{constructor(e=null,t,r){super(Fp(t),Lp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ml(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=mC(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){mC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},gP={provide:Mi,useExisting:ut(()=>jp)},wC=(()=>Promise.resolve())();let jp=(()=>{class n extends Mi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new mn,this._registered=!1,this.update=new Ue,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Up(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Vp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qa(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function os(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);wC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?_l(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(F(Sn,9),F(vn,10),F(Ti,10),F(Gr,10),F(Ic,8),F(ms,8))},n.\u0275dir=me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vt([gP]),tt,zn]}),n})(),xC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({}),n})();const Gp=new K("NgModelWithFormControlWarning"),xP={provide:Sn,useExisting:ut(()=>ys)};let ys=(()=>{class n extends Sn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ue,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return qa(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){wl(t.control||null,t,!1),function fP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function gC(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(wl(r||null,t),(n=>n instanceof mn)(i)&&(qa(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function pC(n,e){Bp(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function uP(n,e){return xl(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bp(this.form,this),this._oldForm&&xl(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(F(vn,10),F(Ti,10),F(ms,8))},n.\u0275dir=me({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Bt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vt([xP]),tt,zn]}),n})();const AP={provide:Mi,useExisting:ut(()=>Za)};let Za=(()=>{class n extends Mi{set isDisabled(t){}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Ue,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Up(0,o)}ngOnChanges(t){this._added||this._setUpControl(),Vp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return _l(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(F(Sn,13),F(vn,10),F(Ti,10),F(Gr,10),F(Gp,8))},n.\u0275dir=me({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[vt([AP]),tt,zn]}),n})();let uo=(()=>{class n{constructor(){this._validator=dl}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):dl,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=me({type:n,features:[zn]}),n})();const kP={provide:vn,useExisting:ut(()=>Yp),multi:!0};let Yp=(()=>{class n extends uo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function TC(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>X2(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=rn(n)))(r||n)}}(),n.\u0275dir=me({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Lr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[vt([kP]),tt]}),n})(),BC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({imports:[xC]}),n})(),kC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ms,useValue:t.callSetDisabledState??yl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({imports:[BC]}),n})(),HP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gp,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ms,useValue:t.callSetDisabledState??yl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({imports:[BC]}),n})();const _s="https://registro.supersum4n.repl.co";class El{}class Zp{}class hi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof hi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new hi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof hi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class jP{encodeKey(e){return VC(e)}encodeValue(e){return VC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $P=/%(\d[a-f0-9])/gi,zP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VC(n){return encodeURIComponent(n).replace($P,(e,t)=>zP[t]??e)}function Dl(n){return`${n}`}class Ri{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jP,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function GP(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Dl):[Dl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ri({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Dl(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Dl(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class WP{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function UC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function HC(n){return typeof Blob<"u"&&n instanceof Blob}function jC(n){return typeof FormData<"u"&&n instanceof FormData}class Ka{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function XP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new hi),this.context||(this.context=new WP),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ri,this.urlWithParams=t}serializeBody(){return null===this.body?null:UC(this.body)||HC(this.body)||jC(this.body)||function qP(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ri?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jC(this.body)?null:HC(this.body)?this.body.type||null:UC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ri?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((f,d)=>f.set(d,e.setHeaders[d]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((f,d)=>f.set(d,e.setParams[d]),c)),new Ka(t,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var Ht=(()=>((Ht=Ht||{})[Ht.Sent=0]="Sent",Ht[Ht.UploadProgress=1]="UploadProgress",Ht[Ht.ResponseHeader=2]="ResponseHeader",Ht[Ht.DownloadProgress=3]="DownloadProgress",Ht[Ht.Response=4]="Response",Ht[Ht.User=5]="User",Ht))();class Kp{constructor(e,t=200,r="OK"){this.headers=e.headers||new hi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Qp extends Kp{constructor(e={}){super(e),this.type=Ht.ResponseHeader}clone(e={}){return new Qp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Al extends Kp{constructor(e={}){super(e),this.type=Ht.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Al({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class GC extends Kp{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Jp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let co=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ka)o=t;else{let u,c;u=i.headers instanceof hi?i.headers:new hi(i.headers),i.params&&(c=i.params instanceof Ri?i.params:new Ri({fromObject:i.params})),o=new Ka(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=se(o).pipe(Ai(u=>this.handler.handle(u)));if(t instanceof Ka||"events"===i.observe)return s;const a=s.pipe(fi(u=>u instanceof Al));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ce(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ce(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ce(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ce(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ri).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Jp(i,r))}post(t,r,i={}){return this.request("POST",t,Jp(i,r))}put(t,r,i={}){return this.request("PUT",t,Jp(i,r))}}return n.\u0275fac=function(t){return new(t||n)(Y(El))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();function $C(n,e){return e(n)}function YP(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const KP=new K("HTTP_INTERCEPTORS"),Qa=new K("HTTP_INTERCEPTOR_FNS");function QP(){let n=null;return(e,t)=>(null===n&&(n=(Le(KP,{optional:!0})??[]).reduceRight(YP,$C)),n(e,t))}let zC=(()=>{class n extends El{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Qa)));this.chain=r.reduceRight((i,o)=>function ZP(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),$C)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(Y(Zp),Y(Nr))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();const n6=/^\)\]\}',?\n/;let XC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new it(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((h,p)=>i.setRequestHeader(h,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const h=t.detectContentTypeHeader();null!==h&&i.setRequestHeader("Content-Type",h)}if(t.responseType){const h=t.responseType.toLowerCase();i.responseType="json"!==h?h:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const h=i.statusText||"OK",p=new hi(i.getAllResponseHeaders()),g=function r6(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new Qp({headers:p,status:i.status,statusText:h,url:g}),s},u=()=>{let{headers:h,status:p,statusText:g,url:v}=a(),m=null;204!==p&&(m=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=m?200:0);let _=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof m){const w=m;m=m.replace(n6,"");try{m=""!==m?JSON.parse(m):null}catch(x){m=w,_&&(_=!1,m={error:x,text:m})}}_?(r.next(new Al({body:m,headers:h,status:p,statusText:g,url:v||void 0})),r.complete()):r.error(new GC({error:m,headers:h,status:p,statusText:g,url:v||void 0}))},c=h=>{const{url:p}=a(),g=new GC({error:h,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const f=h=>{l||(r.next(a()),l=!0);let p={type:Ht.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},d=h=>{let p={type:Ht.UploadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",f),null!==o&&i.upload&&i.upload.addEventListener("progress",d)),i.send(o),r.next({type:Ht.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",f),null!==o&&i.upload&&i.upload.removeEventListener("progress",d)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(Y(Q_))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();const e0=new K("XSRF_ENABLED"),qC="XSRF-TOKEN",YC=new K("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>qC}),ZC="X-XSRF-TOKEN",KC=new K("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>ZC});class QC{}let i6=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=H_(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(Y(An),Y(dh),Y(YC))},n.\u0275prov=ie({token:n,factory:n.\u0275fac}),n})();function o6(n,e){const t=n.url.toLowerCase();if(!Le(e0)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Le(QC).getToken(),i=Le(KC);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Tt=(()=>((Tt=Tt||{})[Tt.Interceptors=0]="Interceptors",Tt[Tt.LegacyInterceptors=1]="LegacyInterceptors",Tt[Tt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Tt[Tt.NoXsrfProtection=3]="NoXsrfProtection",Tt[Tt.JsonpSupport=4]="JsonpSupport",Tt[Tt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Tt))();function ws(n,e){return{\u0275kind:n,\u0275providers:e}}function s6(...n){const e=[co,XC,zC,{provide:El,useExisting:zC},{provide:Zp,useExisting:XC},{provide:Qa,useValue:o6,multi:!0},{provide:e0,useValue:!0},{provide:QC,useClass:i6}];for(const t of n)e.push(...t.\u0275providers);return function QA(n){return{\u0275providers:n}}(e)}const JC=new K("LEGACY_INTERCEPTOR_FN");function u6({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:YC,useValue:n}),void 0!==e&&t.push({provide:KC,useValue:e}),ws(Tt.CustomXsrfConfiguration,t)}let c6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({providers:[s6(ws(Tt.LegacyInterceptors,[{provide:JC,useFactory:QP},{provide:Qa,useExisting:JC,multi:!0}]),u6({cookieName:qC,headerName:ZC}))]}),n})();function l6(n,e){if(1&n){const t=function Gv(){return B()}();k(0,"button",26),Bt("click",function(){const o=function dg(n){return De.lFrame.contextLView=n,n[8]}(t).index;return function hg(n){return De.lFrame.contextLView=null,n}(ii().stall.splice(o,1))}),G(1),V()}if(2&n){const t=e.$implicit;Ce(1),on(t)}}function f6(n,e){1&n&&(k(0,"div"),G(1,"Add Event"),V())}function d6(n,e){1&n&&Lt(0,"div",27)}class Ja{constructor(e){this.httpClient=e,this.stall=[],this.spinner=!1,this.formData=new vs({name:new mn("",ur.required),desc:new mn("",ur.required),club_name:new mn("",ur.required),stall:new mn(this.stall),reg:new mn([]),username:new mn("",ur.required),password:new mn("",ur.required)})}add_account(e){5==this.stall.length?alert("Only 5 Admin accounts allowed"):""==e.value.trim()?alert("Admin account cannot be empty"):this.stall.push(e.value.trim()),e.value=""}add_event(){this.formData.valid?(this.spinner=!0,this.httpClient.post(_s+"/add-event",this.formData.getRawValue()).subscribe({next:e=>{this.spinner=!1,this.formData.reset(),alert("Event added successfully")},error:e=>{this.spinner=!1,alert(e.error)}})):alert("Fill the form")}}Ja.\u0275fac=function(e){return new(e||Ja)(F(co))},Ja.\u0275cmp=Mn({type:Ja,selectors:[["app-add-event"]],decls:40,vars:5,consts:[[1,"container","h-100"],[1,"d-flex","flex-column","h-100","py-5",3,"formGroup"],[1,"fs-1","mb-3"],[1,"fs-4"],["type","text","maxlength","20","formControlName","name",1,"fs-5","mb-3"],["type","text","maxlength","80","formControlName","desc",1,"fs-5","mb-3",2,"min-height","100px"],["type","text","maxlength","20","formControlName","club_name",1,"fs-5","mb-3"],[1,"mb-1"],["class","btn btn-light m-1",3,"click",4,"ngFor","ngForOf"],["type","text",1,"fs-5",2,"text-transform","lowercase",3,"keyup.Space"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","btn-light","my-3","fw-bold","mx-auto","border-0","mb-auto"],[1,"text-center","mt-auto"],["href","https://supersu-man.github.io/",1,"fw-bold","text-center"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content",2,"background","rgb(32, 32, 32)"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light"],[1,"modal-body",3,"formGroup"],["type","text","maxlength","20","placeholder","Username","formControlName","username",1,"fs-5","mb-3",2,"text-transform","lowercase"],["type","text","maxlength","20","placeholder","Password","formControlName","password",1,"fs-5","mb-3"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"btn","btn-light","m-1",3,"click"],[1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(k(0,"div",0)(1,"div",1)(2,"label",2),G(3,"Add a new event"),V(),k(4,"div",3),G(5,"Event Name: "),V(),Lt(6,"input",4),k(7,"div",3),G(8,"Event Description: "),V(),k(9,"textarea",5),G(10," "),V(),k(11,"div",3),G(12,"Club name: "),V(),Lt(13,"input",6),k(14,"label",3),G(15,"Stall accounts:"),V(),k(16,"div",7),It(17,l6,2,1,"button",8),V(),k(18,"input",9),Bt("keyup.Space",function(i){return t.add_account(i.target)}),V(),k(19,"button",10),G(20,"Add Event"),V(),k(21,"label",11),G(22,"App brought to you by"),V(),k(23,"a",12),G(24,"Sumanth Perambuduri"),V()()(),k(25,"div",13)(26,"div",14)(27,"div",15)(28,"div",16)(29,"h5",17),G(30,"Admin Authentication"),V(),k(31,"button",18),G(32,"X"),V()(),k(33,"div",19),Lt(34,"input",20)(35,"input",21),V(),k(36,"div",22)(37,"button",23),Bt("click",function(){return t.add_event()}),It(38,f6,2,0,"div",24),It(39,d6,1,0,"div",25),V()()()()()),2&e&&(Ce(1),je("formGroup",t.formData),Ce(16),je("ngForOf",t.stall),Ce(16),je("formGroup",t.formData),Ce(5),je("ngIf",!t.spinner),Ce(1),je("ngIf",t.spinner))},dependencies:[Uc,li,ao,za,pl,Yp,ys,Za]});class cr{constructor(){this.eventDataUpdated=new Ue}updateEvent(e){this.eventData=e,this.eventDataUpdated.next(e)}}function ex(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function pi(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){ex(o,r,i,s,a,"next",u)}function a(u){ex(o,r,i,s,a,"throw",u)}s(void 0)})}}cr.\u0275fac=function(e){return new(e||cr)},cr.\u0275prov=ie({token:cr,factory:cr.\u0275fac,providedIn:"root"});var h6=M(259);function p6(n,e){if(1&n&&Lt(0,"canvas",1),2&n){const t=ii();je("qrCode",t.value)("qrCodeErrorCorrectionLevel",t.errorCorrectionLevel)("qrCodeCenterImageSrc",t.centerImageSrc)("qrCodeCenterImageWidth",t.centerImageSize)("qrCodeCenterImageHeight",t.centerImageSize)("qrCodeMargin",t.margin)("width",t.size)("height",t.size)("darkColor",t.darkColor)("lightColor",t.lightColor)}}const tx=/^#(?:[0-9a-fA-F]{3,4}){1,2}$/;let g6=(()=>{class n{constructor(t){this.viewContainerRef=t,this.errorCorrectionLevel=n.DEFAULT_ERROR_CORRECTION_LEVEL,this.darkColor="#000000FF",this.lightColor="#FFFFFFFF",this.margin=16}ngOnChanges(){var t=this;return pi(function*(){if(!t.value)return;t.version&&t.version>40?(console.warn("[qrCode] max version is 40, clamping"),t.version=40):t.version&&t.version<1?(console.warn("[qrCode] min version is 1, clamping"),t.version=1):void 0!==t.version&&isNaN(t.version)&&(console.warn("[qrCode] version should be set to a number, defaulting to auto"),t.version=void 0);const r=t.viewContainerRef.element.nativeElement;if(!r)return;const i=r.getContext("2d");i&&i.clearRect(0,0,i.canvas.width,i.canvas.height);const o=t.errorCorrectionLevel??n.DEFAULT_ERROR_CORRECTION_LEVEL,s=tx.test(t.darkColor)?t.darkColor:void 0,a=tx.test(t.lightColor)?t.lightColor:void 0;yield h6.toCanvas(r,t.value,{version:t.version,errorCorrectionLevel:o,width:t.width,margin:t.margin,color:{dark:s,light:a}});const u=t.centerImageSrc,c=nx(t.centerImageWidth,n.DEFAULT_CENTER_IMAGE_SIZE),l=nx(t.centerImageHeight,n.DEFAULT_CENTER_IMAGE_SIZE);if(u&&i){t.centerImage||(t.centerImage=new Image(c,l));const f=t.centerImage;u!==t.centerImage.src&&(f.src=u),c!==t.centerImage.width&&(f.width=c),l!==t.centerImage.height&&(f.height=l);const d=()=>{i.drawImage(f,r.width/2-c/2,r.height/2-l/2,c,l)};f.onload=d,f.complete&&d()}})()}}return n.DEFAULT_ERROR_CORRECTION_LEVEL="M",n.DEFAULT_CENTER_IMAGE_SIZE=40,n.\u0275fac=function(t){return new(t||n)(F(rr))},n.\u0275dir=me({type:n,selectors:[["canvas","qrCode",""]],inputs:{value:["qrCode","value"],version:["qrCodeVersion","version"],errorCorrectionLevel:["qrCodeErrorCorrectionLevel","errorCorrectionLevel"],width:"width",height:"height",darkColor:"darkColor",lightColor:"lightColor",centerImageSrc:["qrCodeCenterImageSrc","centerImageSrc"],centerImageWidth:["qrCodeCenterImageWidth","centerImageWidth"],centerImageHeight:["qrCodeCenterImageHeight","centerImageHeight"],margin:["qrCodeMargin","margin"]},features:[zn]}),n})();function nx(n,e){return void 0===n||""===n?e:"string"==typeof n?parseInt(n,10):n}let v6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Mn({type:n,selectors:[["qr-code"]],inputs:{value:"value",size:"size",darkColor:"darkColor",lightColor:"lightColor",errorCorrectionLevel:"errorCorrectionLevel",centerImageSrc:"centerImageSrc",centerImageSize:"centerImageSize",margin:"margin"},decls:1,vars:1,consts:[[3,"qrCode","qrCodeErrorCorrectionLevel","qrCodeCenterImageSrc","qrCodeCenterImageWidth","qrCodeCenterImageHeight","qrCodeMargin","width","height","darkColor","lightColor",4,"ngIf"],[3,"qrCode","qrCodeErrorCorrectionLevel","qrCodeCenterImageSrc","qrCodeCenterImageWidth","qrCodeCenterImageHeight","qrCodeMargin","width","height","darkColor","lightColor"]],template:function(t,r){1&t&&It(0,p6,1,10,"canvas",0),2&t&&je("ngIf",r.value)},dependencies:[li,g6],encapsulation:2}),n})(),m6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({imports:[jh]}),n})();function y6(n,e){1&n&&(k(0,"div"),G(1,"Stall Account"),V())}function _6(n,e){if(1&n&&(k(0,"div",12)(1,"a",13)(2,"div",14),Lt(3,"img",15),V(),k(4,"div",16),G(5,"Scan QR"),V()(),k(6,"a",17)(7,"div",14),Lt(8,"img",18),V(),k(9,"div",16),G(10,"Register"),V()(),k(11,"a",17)(12,"div",14),Lt(13,"img",19),V(),k(14,"div",16),G(15,"Registrations"),V()()()),2&n){const t=ii();Ce(1),je("href",t.eventData.name+"/scan",Bo),Ce(5),je("href",t.eventData.name+"/register",Bo),Ce(5),je("href",t.eventData.name+"/registrations",Bo)}}class eu{constructor(e,t){this.router=e,this.commonService=t,this.loading=!0,this.time="",this.userdata=this.commonService.userData,this.eventData=this.commonService.eventData}ngOnInit(){setInterval(()=>{this.time=(new Date).toLocaleString("en-US",{timeZone:"Asia/Kolkata"})},1e3)}logout(){localStorage.removeItem("userdata"),this.router.navigate([this.eventData.name+"/login"])}}function w6(n,e){if(1&n&&(k(0,"a",7)(1,"div",8),G(2),V(),k(3,"div"),G(4),V(),k(5,"div"),G(6),V()()),2&n){const t=e.$implicit;je("href",t.key+"/login",Bo),Ce(2),on(t.key),Ce(2),on(t.value.desc),Ce(2),fa("by ",t.value.club_name,"")}}function C6(n,e){if(1&n&&(k(0,"div",3),It(1,w6,7,4,"a",4),mc(2,"keyvalue"),k(3,"label",5),G(4,"App brought to you by"),V(),k(5,"a",6),G(6,"Sumanth Perambuduri"),V()()),2&n){const t=ii();Ce(1),je("ngForOf",yc(2,1,t.events))}}function x6(n,e){1&n&&(k(0,"div",9),Lt(1,"div",10),V())}eu.\u0275fac=function(e){return new(e||eu)(F(an),F(cr))},eu.\u0275cmp=Mn({type:eu,selectors:[["app-dashboard"]],decls:18,vars:6,consts:[[1,"container","h-100"],[1,"d-flex","flex-column","h-100","py-5"],[1,"d-flex"],[1,"fs-2"],["src","assets/imgs/logout1.png","height","30","width","30",1,"ms-auto","my-auto",2,"cursor","pointer",3,"click"],[4,"ngIf"],[1,"card","d-flex","flex-column","mt-3","p-3","mx-auto"],[1,"me-auto","mb-0","fs-3","text-black"],["size","220","errorCorrectionLevel","M",1,"m-auto",3,"value"],["class","d-flex justify-content-evenly pt-3",4,"ngIf"],[1,"mt-auto","text-center"],["href","https://supersu-man.github.io/",1,"fw-bold","text-center"],[1,"d-flex","justify-content-evenly","pt-3"],[2,"width","80px",3,"href"],[1,"rounded-circle","bg-secondary","d-flex","m-auto",2,"height","60px","width","60px"],["src","assets/imgs/scan.png","height","50",1,"m-auto","pt-1"],[1,"text-center"],[3,"href"],["src","assets/imgs/register.png","height","48",1,"m-auto","pt-1","ps-2"],["src","assets/imgs/customer.png","height","45",1,"m-auto","pt-1"]],template:function(e,t){1&e&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),G(4),V(),k(5,"img",4),Bt("click",function(){return t.logout()}),V()(),It(6,y6,2,0,"div",5),k(7,"div"),G(8),V(),k(9,"div",6)(10,"div",7),G(11),V(),Lt(12,"qr-code",8),V(),It(13,_6,16,3,"div",9),k(14,"div",10),G(15,"App brought to you by"),V(),k(16,"a",11),G(17,"Sumanth Perambuduri"),V()()()),2&e&&(Ce(4),on(t.userdata.fullname),Ce(2),je("ngIf",t.eventData.stall.includes(t.userdata.username)),Ce(2),fa("",t.time," "),Ce(3),on(t.eventData.name),Ce(1),je("value",t.eventData.name+"|"+t.userdata.username),Ce(1),je("ngIf",t.eventData.stall.includes(t.userdata.username)))},dependencies:[li,v6],styles:[".card[_ngcontent-%COMP%]{aspect-ratio:1;max-width:300px;border-radius:30px}"]});class tu{constructor(e){this.httpClient=e,this.spinner=!0}ngOnInit(){this.httpClient.get(_s+"/events").subscribe({next:e=>{this.events=e,this.spinner=!1},error:e=>{this.spinner=!1,alert(e.error)}})}}tu.\u0275fac=function(e){return new(e||tu)(F(co))},tu.\u0275cmp=Mn({type:tu,selectors:[["app-events"]],decls:3,vars:2,consts:[[1,"container","h-100"],["class","d-flex flex-column h-100 py-5",4,"ngIf"],["class","h-100 d-flex",4,"ngIf"],[1,"d-flex","flex-column","h-100","py-5"],["class","card bg-secondary p-3 my-2",3,"href",4,"ngFor","ngForOf"],[1,"mt-auto","text-center"],["href","https://supersu-man.github.io/",1,"fw-bold","text-center"],[1,"card","bg-secondary","p-3","my-2",3,"href"],[1,"fs-5"],[1,"h-100","d-flex"],[1,"m-auto","spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(k(0,"div",0),It(1,C6,7,3,"div",1),It(2,x6,2,0,"div",2),V()),2&e&&(Ce(1),je("ngIf",!t.spinner),Ce(1),je("ngIf",t.spinner))},dependencies:[Uc,li,q_]});class $r{constructor(e,t,r){this.router=e,this.httpClient=t,this.commonService=r}canActivate(e,t){const r=JSON.parse(localStorage.getItem("userdata"))||void 0;this.commonService.userData=r,this.commonService.updateEvent(void 0);const i=e.paramMap.get("event");return decodeURI(t.url)==`/${i}/login`||r?(this.httpClient.post(_s+"/event",{event:i}).subscribe({next:o=>{decodeURI(t.url)!=`/${o.name}/login`&&(decodeURI(t.url)==`/${o.name}/dashboard`||o.stall.includes(r.username)?!o.reg.includes(r.username)&&!o.stall.includes(r.username)&&(alert("User not registered for the event, register at stall"),this.router.navigate([`${o.name}/login`])):(alert("Only stall accounts are permitted"),this.router.navigate([`${o.name}/dashboard`]))),this.commonService.updateEvent(o)},error:o=>{alert("Event doesnt exist"),this.router.navigate([""])}}),!0):(alert("User not signed in"),this.router.navigate([`${i}/login`]),!1)}}$r.\u0275fac=function(e){return new(e||$r)(Y(an),Y(co),Y(cr))},$r.\u0275prov=ie({token:$r,factory:$r.\u0275fac,providedIn:"root"});class nu{}function E6(n,e){1&n&&(k(0,"div"),G(1,"Sign In"),V())}function D6(n,e){1&n&&Lt(0,"div",14)}nu.\u0275fac=function(e){return new(e||nu)},nu.\u0275cmp=Mn({type:nu,selectors:[["app-home"]],decls:41,vars:0,consts:[[1,"container","h-100"],[1,"d-flex","flex-column","h-100","py-5"],[1,"fs-1","mb-3"],[1,"fs-4"],[1,"fs-5","mb-3"],["href","/add-event"],["href","/events"],[1,"text-center","mt-auto"],["href","https://supersu-man.github.io/",1,"fw-bold","text-center"]],template:function(e,t){1&e&&(k(0,"div",0)(1,"div",1)(2,"div",2),G(3,"Registro"),V(),k(4,"div",3),G(5,"What's Registro ?"),V(),k(6,"div",4),G(7," Registro is a Web App where the Gitam Clubs can register students for the events and Authenticate them by scanning their QRs during the event. "),V(),k(8,"div",3),G(9,"Why Registro ?"),V(),k(10,"ul",4),G(11," Registro makes a lot of things easier mainly because of the following features: "),k(12,"li"),G(13,"Get a free Web Page for the event."),V(),k(14,"li"),G(15,"Register students using their Student Portal Credentials."),V(),k(16,"li"),G(17,"Scan QRs of people to check-in during event."),V(),k(18,"li"),G(19,"View/Search all the registered people for the event."),V()(),k(20,"div",3),G(21,"Instructions"),V(),k(22,"ul",4)(23,"li"),G(24,"Request for an Admin account by mailing me from your club email."),V(),k(25,"li"),G(26,"Use your Admin account to add Events "),k(27,"a",5),G(28,"HERE."),V()(),k(29,"li"),G(30,"Use the Stall accounts you provided, to register students."),V(),k(31,"li"),G(32,"Collect payment from students."),V(),k(33,"li"),G(34,"Use Stall accounts to Scan QRs of Students to verify their registration on event day."),V()(),k(35,"a",6),G(36,"Checkout all the events here"),V(),k(37,"div",7),G(38,"App brought to you by"),V(),k(39,"a",8),G(40,"Sumanth Perambuduri"),V()()())}});class ru{constructor(e,t,r){this.httpClient=e,this.router=t,this.commonService=r,this.spinner=!1,this.eventData=this.commonService.eventData,this.formData=new vs({username:new mn("",ur.required),password:new mn("",ur.required),event:new mn(this.eventData?.name,ur.required)})}login(){this.formData.valid&&(this.spinner=!0,this.httpClient.post(_s+"/login",this.formData.getRawValue()).subscribe({next:e=>{localStorage.setItem("userdata",JSON.stringify(e)),this.router.navigate([this.eventData.name+"/dashboard"]),this.spinner=!1},error:e=>{alert(e.error),this.spinner=!1}}))}}function A6(n,e){1&n&&(k(0,"div"),G(1,"Register"),V())}function S6(n,e){1&n&&Lt(0,"div",14)}ru.\u0275fac=function(e){return new(e||ru)(F(co),F(an),F(cr))},ru.\u0275cmp=Mn({type:ru,selectors:[["app-login"]],decls:21,vars:5,consts:[[1,"container","h-100"],[1,"d-flex","flex-column","text-center","h-100","py-5",3,"formGroup"],[1,"display-4","mb-2"],[1,"fs-2"],[1,"my-1"],[1,"fs-2","mb-4"],["type","text","placeholder","Username","formControlName","username",1,"form-control","my-2","mx-auto",2,"text-transform","lowercase"],["type","password","placeholder","Password","formControlName","password",1,"form-control","my-2","mx-auto"],[1,"my-2"],[1,"btn","btn-light","my-3","fw-bold","mx-auto","border-0","mb-auto",3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"mt-auto"],["href","https://supersu-man.github.io/",1,"fw-bold"],[1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(k(0,"div",0)(1,"div",1)(2,"label",2),G(3,"Login"),V(),k(4,"label",3),G(5),V(),k(6,"label",4),G(7,"presents"),V(),k(8,"label",5),G(9),V(),Lt(10,"input",6)(11,"input",7),k(12,"small",8),G(13,"Note: Use GITAM student portal credentials."),V(),k(14,"button",9),Bt("click",function(){return t.login()}),It(15,E6,2,0,"div",10),It(16,D6,1,0,"div",11),V(),k(17,"label",12),G(18,"App brought to you by"),V(),k(19,"a",13),G(20,"Sumanth Perambuduri"),V()()()),2&e&&(Ce(1),je("formGroup",t.formData),Ce(4),on(t.eventData.club_name),Ce(4),on(t.eventData.name),Ce(6),je("ngIf",!t.spinner),Ce(1),je("ngIf",t.spinner))},dependencies:[li,ao,za,pl,ys,Za]});class iu{constructor(e,t,r){this.httpClient=e,this.router=t,this.commonService=r,this.spinner=!1,this.userdata=this.commonService.userData,this.eventData=this.commonService.eventData,this.formData=new vs({username:new mn("",ur.required),password:new mn("",ur.required),stall:new mn(this.userdata?.username,ur.required),event:new mn(this.eventData?.name,ur.required)})}register(){this.formData.valid&&(this.spinner=!0,this.httpClient.post(_s+"/register",this.formData.getRawValue()).subscribe({next:e=>{alert("Registration successful"),this.spinner=!1,this.router.navigate([this.eventData.name+"/dashboard"])},error:e=>{alert(e.error),this.spinner=!1}}))}}function I6(n,e){if(1&n&&(k(0,"div",12)(1,"label"),G(2),V()()),2&n){const t=ii().$implicit;Ce(2),on(t)}}function b6(n,e){if(1&n&&(k(0,"div",10),It(1,I6,3,1,"div",11),mc(2,"lowercase"),V()),2&n){const t=e.$implicit,r=ii();Ce(1),je("ngIf",t.includes(yc(2,1,r.searchKey)))}}function T6(n,e){if(1&n&&(k(0,"div",12)(1,"label"),G(2),V()()),2&n){const t=ii().$implicit;Ce(2),on(t)}}function M6(n,e){if(1&n&&(k(0,"div",10),It(1,T6,3,1,"div",11),mc(2,"lowercase"),V()),2&n){const t=e.$implicit,r=ii();Ce(1),je("ngIf",t.includes(yc(2,1,r.searchKey)))}}function R6(n,e){1&n&&Lt(0,"div",13)}iu.\u0275fac=function(e){return new(e||iu)(F(co),F(an),F(cr))},iu.\u0275cmp=Mn({type:iu,selectors:[["app-register"]],decls:21,vars:5,consts:[[1,"container","h-100"],[1,"d-flex","flex-column","text-center","h-100","py-5",3,"formGroup"],[1,"display-4","mb-2"],[1,"fs-2"],[1,"my-1"],[1,"fs-2","mb-4"],["type","text","placeholder","Username","formControlName","username",1,"form-control","my-2","mx-auto",2,"text-transform","lowercase"],["type","password","placeholder","Password","formControlName","password",1,"form-control","my-2","mx-auto"],[1,"my-2"],[1,"btn","btn-light","my-3","fw-bold","mx-auto","border-0",3,"click"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"mt-auto"],["href","https://supersu-man.github.io/",1,"fw-bold"],[1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(k(0,"div",0)(1,"div",1)(2,"label",2),G(3,"Registration"),V(),k(4,"label",3),G(5),V(),k(6,"label",4),G(7,"presents"),V(),k(8,"label",5),G(9),V(),Lt(10,"input",6)(11,"input",7),k(12,"small",8),G(13,"Note: Use GITAM student portal credentials."),V(),k(14,"button",9),Bt("click",function(){return t.register()}),It(15,A6,2,0,"div",10),It(16,S6,1,0,"div",11),V(),k(17,"label",12),G(18,"App brought to you by"),V(),k(19,"a",13),G(20,"Sumanth Perambuduri"),V()()()),2&e&&(Ce(1),je("formGroup",t.formData),Ce(4),on(t.eventData.club_name),Ce(4),on(t.eventData.name),Ce(6),je("ngIf",!t.spinner),Ce(1),je("ngIf",t.spinner))},dependencies:[li,ao,za,pl,ys,Za]});class ou{constructor(e,t){this.httpClient=e,this.commonService=t,this.searchKey="",this.eventData=this.commonService.eventData}ngOnInit(){this.httpClient.post(`${_s}/registrations`,{event:this.eventData.name}).subscribe({next:e=>{this.reg=e.reg,this.stall=e.stall},error:e=>{alert(e.error)}})}}ou.\u0275fac=function(e){return new(e||ou)(F(co),F(cr))},ou.\u0275cmp=Mn({type:ou,selectors:[["app-registrations"]],decls:17,vars:6,consts:[[1,"container","h-100"],[1,"d-flex","flex-column","h-100","py-5"],[1,"text-center","fs-2"],[1,"text-center","my-1"],[1,"text-center","fs-2","mb-4"],["type","text","placeholder","Search",1,"form-control","bg-accent","my-2",2,"height","40px",3,"ngModel","ngModelChange"],[1,"fs-2"],["class","d-flex flex-column",4,"ngFor","ngForOf"],[1,"d-flex"],["class","spinner-border spinner-border-sm m-auto",4,"ngIf"],[1,"d-flex","flex-column"],["class","d-flex flex-column card bg-accent my-2 p-3 text-black",4,"ngIf"],[1,"d-flex","flex-column","card","bg-accent","my-2","p-3","text-black"],[1,"spinner-border","spinner-border-sm","m-auto"]],template:function(e,t){1&e&&(k(0,"div",0)(1,"div",1)(2,"label",2),G(3),V(),k(4,"label",3),G(5,"presents"),V(),k(6,"label",4),G(7),V(),k(8,"input",5),Bt("ngModelChange",function(i){return t.searchKey=i}),V(),k(9,"label",6),G(10,"Stall Accounts"),V(),It(11,b6,3,3,"div",7),k(12,"label",6),G(13,"Registrations"),V(),It(14,M6,3,3,"div",7),k(15,"div",8),It(16,R6,1,0,"div",9),V()()()),2&e&&(Ce(3),on(t.eventData.club_name),Ce(4),on(t.eventData.name),Ce(1),je("ngModel",t.searchKey),Ce(3),je("ngForOf",t.stall),Ce(3),je("ngForOf",t.reg),Ce(2),je("ngIf",!t.reg))},dependencies:[Uc,li,ao,za,jp,X_]});var n,N6=(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])})(t,r)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),P6=function(n){function e(t,r){var i=this.constructor,o=n.call(this,t,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),function O6(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}(o,i.prototype),function rx(n,e){void 0===e&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}(o),o}return N6(e,n),e}(Error),L6=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),B6=function(n){function e(t){void 0===t&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return L6(e,n),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e}(P6);const Ln=B6;var k6=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),V6=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return k6(e,n),e.kind="ArgumentException",e}(Ln);const Mt=V6;var U6=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),H6=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return U6(e,n),e.kind="IllegalArgumentException",e}(Ln);const X=H6;var j6=function(){function n(e){if(this.binarizer=e,null===e)throw new X("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var o=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(o))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}();const ix=j6;var G6=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),$6=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return G6(e,n),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Ln);const jt=$6;var z6=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}();const W6=z6;var X6=function(){function n(){}return n.arraycopy=function(e,t,r,i,o){for(;o--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}();const ft=X6;var q6=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y6=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return q6(e,n),e.kind="IndexOutOfBoundsException",e}(Ln);const t0=Y6;var Z6=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),K6=function(n){function e(t,r){void 0===t&&(t=void 0),void 0===r&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return Z6(e,n),e.kind="ArrayIndexOutOfBoundsException",e}(t0);const ox=K6;var J6=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var o=t;o<r;o++)e[o]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new X("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new ox(t);if(r>e)throw new ox(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){return Array.from({length:e}).map(function(o){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){return Array.from({length:e}).map(function(o){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!(e&&t&&e.length&&t.length&&e.length===t.length))return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(null===e)return 0;var i=1;try{for(var o=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=o.next();!s.done;s=o.next())i=31*i+s.value}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,o=new Int32Array(i);return ft.arraycopy(e,t,o,0,i),o},n.binarySearch=function(e,t,r){void 0===r&&(r=n.numberComparator);for(var i=0,o=e.length-1;i<=o;){var s=o+i>>1,a=r(t,e[s]);if(a>0)i=s+1;else{if(!(a<0))return s;o=s-1}}return-i-1},n.numberComparator=function(e,t){return e-t},n}();const Bn=J6;var eF=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(0===e)return 32;var r=31;return 0!=(t=e<<16)&&(r-=16,e=t),0!=(t=e<<8)&&(r-=8,e=t),0!=(t=e<<4)&&(r-=4,e=t),0!=(t=e<<2)&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(0===e)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-(e>>>31)},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,63&(e+=e>>>8)+(e>>>16)},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}();const Ve=eF;var tF=function(){function n(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==t?n.makeArray(e):t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>32*this.bits.length){var t=n.makeArray(e);ft.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return 0!=(this.bits[Math.floor(e/32)]&1<<(31&e))},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),o=r[i];o&=~((1<<(31&e))-1);for(var s=r.length;0===o;){if(++i===s)return t;o=r[i]}var a=32*i+Ve.numberOfTrailingZeros(o);return a>t?t:a},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),o=~r[i];o&=~((1<<(31&e))-1);for(var s=r.length;0===o;){if(++i===s)return t;o=~r[i]}var a=32*i+Ve.numberOfTrailingZeros(o);return a>t?t:a},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new X;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),o=this.bits,s=r;s<=i;s++)o[s]|=(2<<(s<i?31:31&t))-(1<<(s>r?0:31&e))}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new X;if(t===e)return!0;t--;for(var i=Math.floor(e/32),o=Math.floor(t/32),s=this.bits,a=i;a<=o;a++){var l=(2<<(a<o?31:31&t))-(1<<(a>i?0:31&e))&4294967295;if((s[a]&l)!==(r?l:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new X("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit(1==(e>>r-1&1))},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new X("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var o=0;o<i;o++){for(var s=0,a=0;a<8;a++)this.get(e)&&(s|=1<<7-a),e++;t[r+o]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,o=0;o<r;o++){var s=i[o];e[t-o]=s=(s=(s=(s=(s=s>>1&1431655765|(1431655765&s)<<1)>>2&858993459|(858993459&s)<<2)>>4&252645135|(252645135&s)<<4)>>8&16711935|(16711935&s)<<8)>>16&65535|(65535&s)<<16}if(this.size!==32*r){var a=32*r-this.size,u=e[0]>>>a;for(o=1;o<r;o++){var c=e[o];e[o-1]=u|=c<<32-a,u=c>>>a}e[r-1]=u}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){return e instanceof n&&(this.size===e.size&&Bn.equals(this.bits,e.bits))},n.prototype.hashCode=function(){return 31*this.size+Bn.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)7&t||(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n}();const Qt=tF;var Sl=(()=>(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ASSUME_GS1=7]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(Sl||(Sl={})),Sl))();const Qe=Sl;var nF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),rF=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return nF(e,n),e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Ln);const j=rF;var iF=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Je=(()=>(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"}(Je||(Je={})),Je))(),oF=function(){function n(e,t,r){for(var i,o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];this.valueIdentifier=e,this.name=r,this.values="number"==typeof t?Int32Array.from([t]):t,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var u=this.values,c=0,l=u.length;c!==l;c++){var f=u[c];n.VALUES_TO_ECI.set(f,this)}try{for(var d=iF(s),h=d.next();!h.done;h=d.next()){var p=h.value;n.NAME_TO_ECI.set(p,this)}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new j("incorect value");var t=n.VALUES_TO_ECI.get(e);if(void 0===t)throw new j("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(void 0===t)throw new j("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(Je.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(Je.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(Je.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(Je.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(Je.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(Je.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(Je.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(Je.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(Je.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(Je.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(Je.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(Je.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(Je.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(Je.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(Je.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(Je.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(Je.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(Je.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(Je.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(Je.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(Je.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(Je.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(Je.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(Je.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(Je.Big5,28,"Big5"),n.GB18030=new n(Je.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(Je.EUC_KR,30,"EUC_KR","EUC-KR"),n}();const qt=oF;var sF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),aF=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return sF(e,n),e.kind="UnsupportedOperationException",e}(Ln);const Il=aF;var uF=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&"ISO-8859-1"===e},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):(new TextEncoder).encode(e)},n.isBrowser=function(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)},n.encodingName=function(e){return"string"==typeof e?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof qt?e:qt.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",o=0,s=e.length;o<s;o++){var a=e[o].toString(16);a.length<2&&(a="0"+a),i+="%"+a}return decodeURIComponent(i)}if(r.equals(qt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Il("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(qt.UTF8)||e.equals(qt.ISO8859_1)||e.equals(qt.ASCII)},n.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))).split(""),i=[],o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)},n}();const zr=uF;var cF=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){void 0===t&&(t=null);var r=t?t.getName():this.ISO88591;return zr.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(null!=t&&void 0!==t.get(Qe.CHARACTER_SET))return t.get(Qe.CHARACTER_SET).toString();for(var r=e.length,i=!0,o=!0,s=!0,a=0,u=0,c=0,l=0,f=0,d=0,h=0,p=0,g=0,v=0,m=0,_=e.length>3&&239===e[0]&&187===e[1]&&191===e[2],w=0;w<r&&(i||o||s);w++){var x=255&e[w];s&&(a>0?128&x?a--:s=!1:128&x&&(64&x?(a++,32&x?(a++,16&x?(a++,8&x?s=!1:l++):c++):u++):s=!1)),i&&(x>127&&x<160?i=!1:x>159&&(x<192||215===x||247===x)&&m++),o&&(f>0?x<64||127===x||x>252?o=!1:f--:128===x||160===x||x>239?o=!1:x>160&&x<224?(d++,p=0,++h>g&&(g=h)):x>127?(f++,h=0,++p>v&&(v=p)):(h=0,p=0))}return s&&a>0&&(s=!1),o&&f>0&&(o=!1),s&&(_||u+c+l>0)?n.UTF8:o&&(n.ASSUME_SHIFT_JIS||g>=3||v>=3)?n.SHIFT_JIS:i&&o?2===g&&2===d||10*m>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:o?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function o(a,u,c,l,f,d){if("%%"===a)return"%";if(void 0!==t[++i]){a=l?parseInt(l.substr(1)):void 0;var p,h=f?parseInt(f.substr(1)):void 0;switch(d){case"s":p=t[i];break;case"c":p=t[i][0];break;case"f":p=parseFloat(t[i]).toFixed(a);break;case"p":p=parseFloat(t[i]).toPrecision(a);break;case"e":p=parseFloat(t[i]).toExponential(a);break;case"x":p=parseInt(t[i]).toString(h||16);break;case"d":p=parseFloat(parseInt(t[i],h||10).toPrecision(a)).toFixed(0)}p="object"==typeof p?JSON.stringify(p):(+p).toString(h);for(var g=parseInt(c),v=c&&c[0]+""=="0"?"0":" ";p.length<g;)p=void 0!==u?p+v:v+p;return p}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,o)},n.getBytes=function(e,t){return zr.encode(e,t)},n.getCharCode=function(e,t){return void 0===t&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=qt.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=qt.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=qt.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}();const at=cF;var lF=function(){function n(e){void 0===e&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return this.value+="string"==typeof e?e.toString():this.encoding?at.castAsNonUtf8Char(e,this.encoding):String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)},n}();const rt=lF;var fF=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,null==t&&(t=e),this.height=t,e<1||t<1)throw new X("Both dimensions must be greater than 0");null==r&&(r=Math.floor((e+31)/32)),this.rowSize=r,null==i&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),o=0;o<t;o++)for(var s=e[o],a=0;a<r;a++)s[a]&&i.set(a,o);return i},n.parseFromString=function(e,t,r){if(null===e)throw new X("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,s=0,a=-1,u=0,c=0;c<e.length;)if("\n"===e.charAt(c)||"\r"===e.charAt(c)){if(o>s){if(-1===a)a=o-s;else if(o-s!==a)throw new X("row lengths do not match");s=o,u++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,i[o]=!0,o++;else{if(e.substring(c,c+r.length)!==r)throw new X("illegal character encountered: "+e.substring(c));c+=r.length,i[o]=!1,o++}if(o>s){if(-1===a)a=o-s;else if(o-s!==a)throw new X("row lengths do not match");u++}for(var l=new n(a,u),f=0;f<o;f++)i[f]&&l.set(Math.floor(f%a),Math.floor(f/a));return l},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return 0!=(this.bits[r]>>>(31&e)&1)},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new X("input matrix dimensions do not match");for(var t=new Qt(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,o=0,s=this.height;o<s;o++)for(var a=o*r,u=e.getRow(o,t).getBitArray(),c=0;c<r;c++)i[a+c]^=u[c]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new X("Left and top must be nonnegative");if(i<1||r<1)throw new X("Height and width must be at least 1");var o=e+r,s=t+i;if(s>this.height||o>this.width)throw new X("The region must fit inside the matrix");for(var a=this.rowSize,u=this.bits,c=t;c<s;c++)for(var l=c*a,f=e;f<o;f++)u[l+Math.floor(f/32)]|=1<<(31&f)&4294967295},n.prototype.getRow=function(e,t){null==t||t.getSize()<this.width?t=new Qt(this.width):t.clear();for(var r=this.rowSize,i=this.bits,o=e*r,s=0;s<r;s++)t.setBulk(32*s,i[o+s]);return t},n.prototype.setRow=function(e,t){ft.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new Qt(e),i=new Qt(e),o=0,s=Math.floor((t+1)/2);o<s;o++)r=this.getRow(o,r),i=this.getRow(t-1-o,i),r.reverse(),i.reverse(),this.setRow(o,i),this.setRow(t-1-o,r)},n.prototype.getEnclosingRectangle=function(){for(var t=this.height,r=this.rowSize,i=this.bits,o=this.width,s=t,a=-1,u=-1,c=0;c<t;c++)for(var l=0;l<r;l++){var f=i[c*r+l];if(0!==f){if(c<s&&(s=c),c>u&&(u=c),32*l<o){for(var d=0;!(f<<31-d&4294967295);)d++;32*l+d<o&&(o=32*l+d)}if(32*l+31>a){for(d=31;!(f>>>d);)d--;32*l+d>a&&(a=32*l+d)}}}return a<o||u<s?null:Int32Array.from([o,s,a-o+1,u-s+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&0===t[r];)r++;if(r===t.length)return null;for(var i=r/e,o=r%e*32,s=t[r],a=0;!(s<<31-a&4294967295);)a++;return Int32Array.from([o+=a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&0===t[r];)r--;if(r<0)return null;for(var i=Math.floor(r/e),o=32*Math.floor(r%e),s=t[r],a=31;!(s>>>a);)a--;return Int32Array.from([o+=a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){return e instanceof n&&(this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&Bn.equals(this.bits,e.bits))},n.prototype.hashCode=function(){var e=this.width;return 31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+Bn.hashCode(this.bits)},n.prototype.toString=function(e,t,r){return void 0===e&&(e="X "),void 0===t&&(t="  "),void 0===r&&(r="\n"),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new rt,o=0,s=this.height;o<s;o++){for(var a=0,u=this.width;a<u;a++)i.append(this.get(a,o)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}();const lr=fF;var dF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),hF=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return dF(e,n),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Ln);const N=hF;var pF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),gF=function(n){function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return pF(e,n),e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),o=i.getWidth();null==r||r.getSize()<o?r=new Qt(o):r.clear(),this.initArrays(o);for(var s=i.getRow(t,this.luminances),a=this.buckets,u=0;u<o;u++)a[(255&s[u])>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(a);if(o<3)for(u=0;u<o;u++)(255&s[u])<c&&r.set(u);else{var l=255&s[0],f=255&s[1];for(u=1;u<o-1;u++){var d=255&s[u+1];(4*f-l-d)/2<c&&r.set(u),l=f,f=d}}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),o=new lr(r,i);this.initArrays(r);for(var s=this.buckets,a=1;a<5;a++)for(var u=Math.floor(i*a/5),c=t.getRow(u,this.luminances),l=Math.floor(4*r/5),f=Math.floor(r/5);f<l;f++)s[(255&c[f])>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(s),p=t.getMatrix();for(a=0;a<i;a++){var g=a*r;for(f=0;f<r;f++)(255&p[g+f])<h&&o.set(f,a)}return o},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,o=0,s=0,a=0;a<r;a++)t[a]>s&&(o=a,s=t[a]),t[a]>i&&(i=t[a]);var u=0,c=0;for(a=0;a<r;a++){var l=a-o;(f=t[a]*l*l)>c&&(u=a,c=f)}if(o>u){var d=o;o=u,u=d}if(u-o<=r/16)throw new N;var h=u-1,p=-1;for(a=u-1;a>o;a--){var f,g=a-o;(f=g*g*(u-a)*(i-t[a]))>p&&(h=a,p=f)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_SHIFT=8-(e.LUMINANCE_BITS=5),e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(W6);const vF=gF;var mF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),yF=function(n){function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return mF(e,n),e.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=t.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;r&e.BLOCK_SIZE_MASK&&s++;var a=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&a++;var u=e.calculateBlackPoints(o,s,a,r,i),c=new lr(r,i);e.calculateThresholdForBlock(o,s,a,r,i,u,c),this.matrix=c}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,o,s,a,u){for(var c=s-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,f=0;f<i;f++){var d=f<<e.BLOCK_SIZE_POWER;d>c&&(d=c);for(var h=e.cap(f,2,i-3),p=0;p<r;p++){var g=p<<e.BLOCK_SIZE_POWER;g>l&&(g=l);for(var v=e.cap(p,2,r-3),m=0,_=-2;_<=2;_++){var w=a[h+_];m+=w[v-2]+w[v-1]+w[v]+w[v+1]+w[v+2]}e.thresholdBlock(t,g,d,m/25,o,u)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,o,s,a){for(var u=0,c=i*s+r;u<e.BLOCK_SIZE;u++,c+=s)for(var l=0;l<e.BLOCK_SIZE;l++)(255&t[c+l])<=o&&a.set(r+l,i+u)},e.calculateBlackPoints=function(t,r,i,o,s){for(var a=s-e.BLOCK_SIZE,u=o-e.BLOCK_SIZE,c=new Array(i),l=0;l<i;l++){c[l]=new Int32Array(r);var f=l<<e.BLOCK_SIZE_POWER;f>a&&(f=a);for(var d=0;d<r;d++){var h=d<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=0,g=255,v=0,m=0,_=f*o+h;m<e.BLOCK_SIZE;m++,_+=o){for(var w=0;w<e.BLOCK_SIZE;w++){var x=255&t[_+w];p+=x,x<g&&(g=x),x>v&&(v=x)}if(v-g>e.MIN_DYNAMIC_RANGE)for(m++,_+=o;m<e.BLOCK_SIZE;m++,_+=o)for(w=0;w<e.BLOCK_SIZE;w++)p+=255&t[_+w]}var R=p>>2*e.BLOCK_SIZE_POWER;if(v-g<=e.MIN_DYNAMIC_RANGE&&(R=g/2,l>0&&d>0)){var L=(c[l-1][d]+2*c[l][d-1]+c[l-1][d-1])/4;g<L&&(R=L)}c[l][d]=R}}return c},e.BLOCK_SIZE_MASK=(e.BLOCK_SIZE=1<<(e.BLOCK_SIZE_POWER=3))-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e}(vF);const sx=yF;var _F=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new Il("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new Il("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new Il("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new rt,r=0;r<this.height;r++){for(var i=this.getRow(r,e),o=0;o<this.width;o++){var s=255&i[o];t.append(s<64?"#":s<128?"+":s<192?".":" ")}t.append("\n")}return t.toString()},n}();const su=_F;var wF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),CF=function(n){function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return wF(e,n),e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),o=this.getWidth(),s=0;s<o;s++)i[s]=255-(255&i[s]);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),o=0;o<r;o++)i[o]=255-(255&t[o]);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,o){return new e(this.delegate.crop(t,r,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(su);const bl=CF;var xF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),EF=function(n){function e(t){var r=n.call(this,t.width,t.height)||this;return r.canvas=t,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(t),r}return xF(e,n),e.makeBufferFromCanvasImageData=function(t){var r=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(r.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,r,i){for(var o=new Uint8ClampedArray(r*i),s=0,a=0,u=t.length;s<u;s+=4,a++){o[a]=0===t[s+3]?255:306*t[s]+601*t[s+1]+117*t[s+2]+512>>10}return o},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new X("Requested row is outside the image: "+t);var i=this.getWidth(),o=t*i;return null===r?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,o){return n.prototype.crop.call(this,t,r,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),o=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*s+Math.abs(Math.sin(o))*a),c=Math.ceil(Math.abs(Math.sin(o))*s+Math.abs(Math.cos(o))*a);return r.width=u,r.height=c,i.translate(u/2,c/2),i.rotate(o),i.drawImage(this.canvas,s/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new bl(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(su),DF=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),In=function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})},bn=function(n,e){var r,i,o,s,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return function u(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(!(o=(o=t.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){t=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(6===c[0]&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(l){c=[6,l],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},Cs=function(){function n(e,t,r){void 0===t&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return In(this,void 0,void 0,function(){var e,t,r,i,o,s,f,d;return bn(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),t=[];try{for(r=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=r.next();!i.done;i=r.next())"videoinput"===(s="video"===(o=i.value).kind?"videoinput":o.kind)&&t.push({deviceId:o.deviceId||o.id,label:o.label||"Video device "+(t.length+1),kind:s,groupId:o.groupId})}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return In(this,void 0,void 0,function(){return bn(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,t.sent().map(function(r){return new DF(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return In(this,void 0,void 0,function(){var t;return bn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(t=r.sent())?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return In(this,void 0,void 0,function(){return bn(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return In(this,void 0,void 0,function(){return bn(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.decodeOnceFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},t)];case 1:return[2,o.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return In(this,void 0,void 0,function(){var r;return bn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return In(this,void 0,void 0,function(){var r;return bn(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=o.sent(),[4,this.decodeOnce(r)];case 2:return[2,o.sent()]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return In(this,void 0,void 0,function(){return bn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return In(this,void 0,void 0,function(){return bn(this,function(s){switch(s.label){case 0:return[4,this.decodeFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return In(this,void 0,void 0,function(){var i;return bn(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,o.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return In(this,void 0,void 0,function(){var i;return bn(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,o.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return In(this,void 0,void 0,function(){var r;return bn(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return In(this,void 0,void 0,function(){return bn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Mt("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Mt("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Mt("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Mt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(void 0===e&&void 0===t)throw new Mt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new Mt("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);return this.imageElement=t,this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t)},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Mt("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new Mt("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Mt("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Mt("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return In(this,void 0,void 0,function(){return bn(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return In(this,void 0,void 0,function(){return bn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||0===e.naturalWidth)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&((t=document.createElement("img")).width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&((t=document.createElement("video")).width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;void 0===t&&(t=!0),void 0===r&&(r=!0),this._stopAsyncDecode=!1;var o=function(s,a){if(i._stopAsyncDecode)return a(new N("Video stream has ended before any code could be detected.")),void(i._stopAsyncDecode=void 0);try{s(i.decode(e))}catch(d){if(t&&d instanceof N||(d instanceof jt||d instanceof j)&&r)return setTimeout(o,i._timeBetweenDecodingAttempts,s,a);a(d)}};return new Promise(function(s,a){return o(s,a)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode)r._stopContinuousDecode=void 0;else try{var o=r.decode(e);t(o,null),setTimeout(i,r.timeBetweenScansMillis)}catch(u){t(null,u),(u instanceof jt||u instanceof j||u instanceof N)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype._isHTMLVideoElement=function(e){return 0!==e.videoWidth},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new EF(r),o=new sx(i);return new ix(o)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){void 0===t&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){void 0===t&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r,i,t=document.createElement("canvas");return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),SF=function(){function n(e,t,r,i,o,s){void 0===r&&(r=null==t?0:8*t.length),void 0===s&&(s=ft.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=s,this.text=e,this.rawBytes=t,this.numBits=null==r?null==t?0:8*t.length:r,this.resultPoints=i,this.format=o,this.resultMetadata=null,this.timestamp=null==s?ft.currentTimeMillis():s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){null!==e&&(this.resultMetadata=null===this.resultMetadata?e:new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){var r=new Array(t.length+e.length);ft.arraycopy(t,0,r,0,t.length),ft.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}();const kn=SF;var Tl=(()=>(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(Tl||(Tl={})),Tl))();const ne=Tl;var Ml=(()=>(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(Ml||(Ml={})),Ml))();const un=Ml;var IF=function(){function n(e,t,r,i,o,s){void 0===o&&(o=-1),void 0===s&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=s,this.numBits=null==e?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}();const Rl=IF;var bF=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(0===e)throw new X;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}();const au=bF;var TF=function(){function n(e,t){if(0===t.length)throw new X;this.field=e;var r=t.length;if(r>1&&0===t[0]){for(var i=1;i<r&&0===t[i];)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),ft.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return 0===this.coefficients[0]},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(0===e)return this.getCoefficient(0);var r,t=this.coefficients;if(1===e){r=0;for(var i=0,o=t.length;i!==o;i++)r=au.addOrSubtract(r,t[i]);return r}r=t[0];var a=t.length,u=this.field;for(i=1;i<a;i++)r=au.addOrSubtract(u.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new X("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var o=new Int32Array(r.length),s=r.length-t.length;ft.arraycopy(r,0,o,0,s);for(var a=s;a<r.length;a++)o[a]=au.addOrSubtract(t[a-s],r[a]);return new n(this.field,o)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new X("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,o=i.length,s=new Int32Array(r+o-1),a=this.field,u=0;u<r;u++)for(var c=t[u],l=0;l<o;l++)s[u+l]=au.addOrSubtract(s[u+l],a.multiply(c,i[l]));return new n(a,s)},n.prototype.multiplyScalar=function(e){if(0===e)return this.field.getZero();if(1===e)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),o=this.coefficients,s=0;s<t;s++)i[s]=r.multiply(o[s],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new X;if(0===t)return this.field.getZero();for(var r=this.coefficients,i=r.length,o=new Int32Array(i+e),s=this.field,a=0;a<i;a++)o[a]=s.multiply(r[a],t);return new n(s,o)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new X("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new X("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,o=e.getCoefficient(e.getDegree()),s=t.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var a=i.getDegree()-e.getDegree(),u=t.multiply(i.getCoefficient(i.getDegree()),s),c=e.multiplyByMonomial(a,u),l=t.buildMonomial(a,u);r=r.addOrSubtract(l),i=i.addOrSubtract(c)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===t||1!==r){var i=this.field.log(r);0===i?e+="1":1===i?e+="a":(e+="a^",e+=i)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e},n}();const Oi=TF;var MF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),RF=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return MF(e,n),e.kind="ArithmeticException",e}(Ln);const ax=RF;var OF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),NF=function(n){function e(t,r,i){var o=n.call(this)||this;o.primitive=t,o.size=r,o.generatorBase=i;for(var s=new Int32Array(r),a=1,u=0;u<r;u++)s[u]=a,(a*=2)>=r&&(a^=t,a&=r-1);o.expTable=s;var c=new Int32Array(r);for(u=0;u<r-1;u++)c[s[u]]=u;return o.logTable=c,o.zero=new Oi(o,Int32Array.from([0])),o.one=new Oi(o,Int32Array.from([1])),o}return OF(e,n),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new X;if(0===r)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Oi(this,i)},e.prototype.inverse=function(t){if(0===t)throw new ax;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return 0===t||0===r?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ve.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(au);const Vn=NF;var PF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),FF=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return PF(e,n),e.kind="ReedSolomonException",e}(Ln);const Ol=FF;var LF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),BF=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return LF(e,n),e.kind="IllegalStateException",e}(Ln);const Wr=BF;var kF=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new Oi(r,e),o=new Int32Array(t),s=!0,a=0;a<t;a++){var u=i.evaluateAt(r.exp(a+r.getGeneratorBase()));o[o.length-1-a]=u,0!==u&&(s=!1)}if(!s){var c=new Oi(r,o),l=this.runEuclideanAlgorithm(r.buildMonomial(t,1),c,t),d=l[1],h=this.findErrorLocations(l[0]),p=this.findErrorMagnitudes(d,h);for(a=0;a<h.length;a++){var g=e.length-1-r.log(h[a]);if(g<0)throw new Ol("Bad error location");e[g]=Vn.addOrSubtract(e[g],p[a])}}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var o=this.field,s=e,a=t,u=o.getZero(),c=o.getOne();a.getDegree()>=(r/2|0);){var l=s,f=u;if(u=c,(s=a).isZero())throw new Ol("r_{i-1} was zero");a=l;for(var d=o.getZero(),h=s.getCoefficient(s.getDegree()),p=o.inverse(h);a.getDegree()>=s.getDegree()&&!a.isZero();){var g=a.getDegree()-s.getDegree(),v=o.multiply(a.getCoefficient(a.getDegree()),p);d=d.addOrSubtract(o.buildMonomial(g,v)),a=a.addOrSubtract(s.multiplyByMonomial(g,v))}if(c=d.multiply(u).addOrSubtract(f),a.getDegree()>=s.getDegree())throw new Wr("Division algorithm failed to reduce polynomial?")}var m=c.getCoefficient(0);if(0===m)throw new Ol("sigmaTilde(0) was zero");var _=o.inverse(m);return[c.multiplyScalar(_),a.multiplyScalar(_)]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,o=this.field,s=1;s<o.getSize()&&i<t;s++)0===e.evaluateAt(s)&&(r[i]=o.inverse(s),i++);if(i!==t)throw new Ol("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),o=this.field,s=0;s<r;s++){for(var a=o.inverse(t[s]),u=1,c=0;c<r;c++)if(s!==c){var l=o.multiply(t[c],a);u=o.multiply(u,1&l?-2&l:1|l)}i[s]=o.multiply(e.evaluateAt(a),o.inverse(u)),0!==o.getGeneratorBase()&&(i[s]=o.multiply(i[s],a))}return i},n}();const Nl=kF;var Jt=(()=>(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"}(Jt||(Jt={})),Jt))(),VF=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),o=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),a=new Rl(o,s,null,null);return a.setNumBits(i.length),a},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=Jt.UPPER,i=Jt.UPPER,o="",s=0;s<t;)if(i===Jt.BINARY){if(t-s<5)break;var a=n.readCode(e,s,5);if(s+=5,0===a){if(t-s<11)break;a=n.readCode(e,s,11)+31,s+=11}for(var u=0;u<a;u++){if(t-s<8){s=t;break}var c=n.readCode(e,s,8);o+=at.castAsNonUtf8Char(c),s+=8}i=r}else{var l=i===Jt.DIGIT?4:5;if(t-s<l)break;c=n.readCode(e,s,l),s+=l;var f=n.getCharacter(i,c);f.startsWith("CTRL_")?(r=i,i=n.getTable(f.charAt(5)),"L"===f.charAt(6)&&(r=i)):(o+=f,i=r)}return o},n.getTable=function(e){switch(e){case"L":return Jt.LOWER;case"P":return Jt.PUNCT;case"M":return Jt.MIXED;case"D":return Jt.DIGIT;case"B":return Jt.BINARY;default:return Jt.UPPER}},n.getCharacter=function(e,t){switch(e){case Jt.UPPER:return n.UPPER_TABLE[t];case Jt.LOWER:return n.LOWER_TABLE[t];case Jt.MIXED:return n.MIXED_TABLE[t];case Jt.PUNCT:return n.PUNCT_TABLE[t];case Jt.DIGIT:return n.DIGIT_TABLE[t];default:throw new Wr("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=Vn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=Vn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=Vn.AZTEC_DATA_10):(r=12,t=Vn.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new j;for(var s=e.length%r,a=new Int32Array(o),u=0;u<o;u++,s+=r)a[u]=n.readCode(e,s,r);try{new Nl(t).decode(a,o-i)}catch(v){throw new j(v)}var l=(1<<r)-1,f=0;for(u=0;u<i;u++){if(0===(d=a[u])||d===l)throw new j;(1===d||d===l-1)&&f++}var h=new Array(i*r-f),p=0;for(u=0;u<i;u++){var d;if(1===(d=a[u])||d===l-1)h.fill(d>1,p,p+r-1),p+=r-1;else for(var g=r-1;g>=0;--g)h[p++]=0!=(d&1<<g)}return h},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+4*r,o=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,t));if(t)for(var a=0;a<o.length;a++)o[a]=a;else{var u=i+1+2*Ve.truncDivision(Ve.truncDivision(i,2)-1,15),c=i/2,l=Ve.truncDivision(u,2);for(a=0;a<c;a++){var f=a+Ve.truncDivision(a,15);o[c-a-1]=l-f-1,o[c+a]=l+f+1}}a=0;for(var d=0;a<r;a++){for(var h=4*(r-a)+(t?9:12),p=2*a,g=i-1-p,v=0;v<h;v++)for(var m=2*v,_=0;_<2;_++)s[d+m+_]=e.get(o[p+_],o[p+v]),s[d+2*h+m+_]=e.get(o[p+v],o[g-_]),s[d+4*h+m+_]=e.get(o[g-_],o[g-v]),s[d+6*h+m+_]=e.get(o[g-v],o[p+_]);d+=8*h}return s},n.readCode=function(e,t,r){for(var i=0,o=t;o<t+r;o++)i<<=1,e[o]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}();const ux=VF;var UF=function(){function n(){}return n.round=function(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var o=e-r,s=t-i;return Math.sqrt(o*o+s*s)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++)t+=e[r];return t},n}();const We=UF;var HF=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}();const n0=HF;var jF=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){return e instanceof n&&(this.x===e.x&&this.y===e.y)},n.prototype.hashCode=function(){return 31*n0.floatToIntBits(this.x)+n0.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var o,s,a,t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);if(r>=t&&r>=i?(s=e[0],o=e[1],a=e[2]):i>=r&&i>=t?(s=e[1],o=e[0],a=e[2]):(s=e[2],o=e[0],a=e[1]),this.crossProductZ(o,s,a)<0){var u=o;o=a,a=u}e[0]=o,e[1]=s,e[2]=a},n.distance=function(e,t){return We.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,o=t.y;return(r.x-i)*(e.y-o)-(r.y-o)*(e.x-i)},n}();const J=jF;var GF=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}();const r0=GF;var $F=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),zF=function(n){function e(t,r,i,o,s){var a=n.call(this,t,r)||this;return a.compact=i,a.nbDatablocks=o,a.nbLayers=s,a}return $F(e,n),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(r0);const WF=zF;var XF=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==t&&(t=n.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==i&&(i=e.getHeight()/2|0);var o=t/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new N}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,o=!1,s=!0,a=!1,u=!1,c=!1,l=!1,f=!1,d=this.width,h=this.height;s;){s=!1;for(var p=!0;(p||!u)&&t<d;)(p=this.containsBlackPoint(r,i,t,!1))?(t++,s=!0,u=!0):u||t++;if(t>=d){o=!0;break}for(var g=!0;(g||!c)&&i<h;)(g=this.containsBlackPoint(e,t,i,!0))?(i++,s=!0,c=!0):c||i++;if(i>=h){o=!0;break}for(var v=!0;(v||!l)&&e>=0;)(v=this.containsBlackPoint(r,i,e,!1))?(e--,s=!0,l=!0):l||e--;if(e<0){o=!0;break}for(var m=!0;(m||!f)&&r>=0;)(m=this.containsBlackPoint(e,t,r,!0))?(r--,s=!0,f=!0):f||r--;if(r<0){o=!0;break}s&&(a=!0)}if(!o&&a){for(var _=t-e,w=null,x=1;null===w&&x<_;x++)w=this.getBlackPointOnSegment(e,i-x,e+x,i);if(null==w)throw new N;var R=null;for(x=1;null===R&&x<_;x++)R=this.getBlackPointOnSegment(e,r+x,e+x,r);if(null==R)throw new N;var L=null;for(x=1;null===L&&x<_;x++)L=this.getBlackPointOnSegment(t,r+x,t-x,r);if(null==L)throw new N;var H=null;for(x=1;null===H&&x<_;x++)H=this.getBlackPointOnSegment(t,i-x,t-x,i);if(null==H)throw new N;return this.centerEdges(H,w,L,R)}throw new N},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var o=We.round(We.distance(e,t,r,i)),s=(r-e)/o,a=(i-t)/o,u=this.image,c=0;c<o;c++){var l=We.round(e+c*s),f=We.round(t+c*a);if(u.get(l,f))return new J(l,f)}return null},n.prototype.centerEdges=function(e,t,r,i){var o=e.getX(),s=e.getY(),a=t.getX(),u=t.getY(),c=r.getX(),l=r.getY(),f=i.getX(),d=i.getY(),h=n.CORR;return o<this.width/2?[new J(f-h,d+h),new J(a+h,u+h),new J(c-h,l-h),new J(o+h,s-h)]:[new J(f+h,d+h),new J(a+h,u-h),new J(c-h,l+h),new J(o-h,s-h)]},n.prototype.containsBlackPoint=function(e,t,r,i){var o=this.image;if(i){for(var s=e;s<=t;s++)if(o.get(s,r))return!0}else for(var a=e;a<=t;a++)if(o.get(r,a))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}();const o0=XF;var qF=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),o=!0,s=0;s<t.length&&o;s+=2){var a=Math.floor(t[s]),u=Math.floor(t[s+1]);if(a<-1||a>r||u<-1||u>i)throw new N;o=!1,-1===a?(t[s]=0,o=!0):a===r&&(t[s]=r-1,o=!0),-1===u?(t[s+1]=0,o=!0):u===i&&(t[s+1]=i-1,o=!0)}for(o=!0,s=t.length-2;s>=0&&o;s-=2){if(a=Math.floor(t[s]),u=Math.floor(t[s+1]),a<-1||a>r||u<-1||u>i)throw new N;o=!1,-1===a?(t[s]=0,o=!0):a===r&&(t[s]=r-1,o=!0),-1===u?(t[s+1]=0,o=!0):u===i&&(t[s+1]=i-1,o=!0)}},n}();const cx=qF;var YF=function(){function n(e,t,r,i,o,s,a,u,c){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=o,this.a32=s,this.a13=a,this.a23=u,this.a33=c}return n.quadrilateralToQuadrilateral=function(e,t,r,i,o,s,a,u,c,l,f,d,h,p,g,v){var m=n.quadrilateralToSquare(e,t,r,i,o,s,a,u);return n.squareToQuadrilateral(c,l,f,d,h,p,g,v).times(m)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,u=this.a23,c=this.a31,l=this.a32,f=this.a33,d=0;d<t;d+=2){var h=e[d],p=e[d+1],g=o*h+u*p+f;e[d]=(r*h+s*p+c)/g,e[d+1]=(i*h+a*p+l)/g}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,u=this.a23,c=this.a31,l=this.a32,f=this.a33,d=e.length,h=0;h<d;h++){var p=e[h],g=t[h],v=o*p+u*g+f;e[h]=(r*p+s*g+c)/v,t[h]=(i*p+a*g+l)/v}},n.squareToQuadrilateral=function(e,t,r,i,o,s,a,u){var c=e-r+o-a,l=t-i+s-u;if(0===c&&0===l)return new n(r-e,o-r,e,i-t,s-i,t,0,0,1);var f=r-o,d=a-o,h=i-s,p=u-s,g=f*p-d*h,v=(c*p-d*l)/g,m=(f*l-c*h)/g;return new n(r-e+v*r,a-e+m*a,e,i-t+v*i,u-t+m*u,t,v,m,1)},n.quadrilateralToSquare=function(e,t,r,i,o,s,a,u){return n.squareToQuadrilateral(e,t,r,i,o,s,a,u).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}();const lx=YF;var ZF=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),KF=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return ZF(e,n),e.prototype.sampleGrid=function(t,r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,_,w,x){var R=lx.quadrilateralToQuadrilateral(o,s,a,u,c,l,f,d,h,p,g,v,m,_,w,x);return this.sampleGridWithTransform(t,r,i,R)},e.prototype.sampleGridWithTransform=function(t,r,i,o){if(r<=0||i<=0)throw new N;for(var s=new lr(r,i),a=new Float32Array(2*r),u=0;u<i;u++){for(var c=a.length,l=u+.5,f=0;f<c;f+=2)a[f]=f/2+.5,a[f+1]=l;o.transformPoints(a),cx.checkAndNudgePoints(t,a);try{for(f=0;f<c;f+=2)t.get(Math.floor(a[f]),Math.floor(a[f+1]))&&s.set(f/2,u)}catch{throw new N}}return s},e}(cx);const QF=KF;var JF=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new QF,n}();const s0=JF;var Un=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new J(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),e5=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var o=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new WF(o,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new N;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,o=0;o<4;o++){var s=r[(this.shift+o)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var a=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(o,s,a){r=(o>>t-2<<1)+(1&o)+(r<<3)}),r=((1&r)<<11)+(r>>1);for(var i=0;i<4;i++)if(Ve.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new N},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var o=r-i,s=new Int32Array(r),a=r-1;a>=0;--a)s[a]=15&e,e>>=4;try{new Nl(Vn.AZTEC_PARAM).decode(s,o)}catch{throw new N}var c=0;for(a=0;a<i;a++)c=(c<<4)+s[a];return c},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,o=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(t,s,1,-1),u=this.getFirstDifferent(r,s,1,1),c=this.getFirstDifferent(i,s,-1,1),l=this.getFirstDifferent(o,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(l,a)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(a,u,c,l))break}t=a,r=u,i=c,o=l,s=!s}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new N;this.compact=5===this.nbCenterLayers;var d=new J(t.getX()+.5,t.getY()-.5),h=new J(r.getX()+.5,r.getY()+.5),p=new J(i.getX()-.5,i.getY()+.5),g=new J(o.getX()-.5,o.getY()-.5);return this.expandSquare([d,h,p,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{e=(o=new o0(this.image).detect())[0],t=o[1],r=o[2],i=o[3]}catch{var s=this.image.getWidth()/2,a=this.image.getHeight()/2;e=this.getFirstDifferent(new Un(s+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Un(s+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Un(s-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Un(s-7,a-7),!1,-1,-1).toResultPoint()}var u=We.round((e.getX()+i.getX()+t.getX()+r.getX())/4),c=We.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var o;e=(o=new o0(this.image,15,u,c).detect())[0],t=o[1],r=o[2],i=o[3]}catch{e=this.getFirstDifferent(new Un(u+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Un(u+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Un(u-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Un(u-7,c-7),!1,-1,-1).toResultPoint()}return u=We.round((e.getX()+i.getX()+t.getX()+r.getX())/4),c=We.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new Un(u,c)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,o){var s=s0.getInstance(),a=this.getDimension(),u=a/2-this.nbCenterLayers,c=a/2+this.nbCenterLayers;return s.sampleGrid(e,a,a,u,u,c,u,c,c,u,c,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,o=this.distanceResultPoint(e,t),s=o/r,a=e.getX(),u=e.getY(),c=s*(t.getX()-e.getX())/o,l=s*(t.getY()-e.getY())/o,f=0;f<r;f++)this.image.get(We.round(a+f*c),We.round(u+f*l))&&(i|=1<<r-f-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){e=new Un(e.getX()-3,e.getY()+3),t=new Un(t.getX()-3,t.getY()-3),r=new Un(r.getX()+3,r.getY()-3),i=new Un(i.getX()+3,i.getY()+3);var s=this.getColor(i,e);if(0===s)return!1;var a=this.getColor(e,t);return a===s&&(a=this.getColor(t,r))===s&&(a=this.getColor(r,i))===s},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,o=(t.getY()-e.getY())/r,s=0,a=e.getX(),u=e.getY(),c=this.image.get(e.getX(),e.getY()),l=Math.ceil(r),f=0;f<l;f++)u+=o,this.image.get(We.round(a+=i),We.round(u))!==c&&s++;var d=s/r;return d>.1&&d<.9?0:d<=.1===c?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var o=e.getX()+r,s=e.getY()+i;this.isValid(o,s)&&this.image.get(o,s)===t;)o+=r,s+=i;for(o-=r,s-=i;this.isValid(o,s)&&this.image.get(o,s)===t;)o+=r;for(o-=r;this.isValid(o,s)&&this.image.get(o,s)===t;)s+=i;return new Un(o,s-=i)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),o=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,c=new J(a+i*o,u+i*s),l=new J(a-i*o,u-i*s);return o=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2,[c,new J(a+i*o,u+i*s),l,new J(a-i*o,u-i*s)]},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=We.round(e.getX()),r=We.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return We.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return We.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ve.truncDivision(this.nbLayers-4,8)+1)+15},n}();const t5=e5;var n5=function(){function n(){}return n.prototype.decode=function(e,t){void 0===t&&(t=null);var r=null,i=new t5(e.getBlackMatrix()),o=null,s=null;try{o=(a=i.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(t,o),s=(new ux).decode(a)}catch(f){r=f}if(null==s)try{var a;o=(a=i.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(t,o),s=(new ux).decode(a)}catch(f){throw r??f}var u=new kn(s.getText(),s.getRawBytes(),s.getNumBits(),o,ne.AZTEC,ft.currentTimeMillis()),c=s.getByteSegments();null!=c&&u.putMetadata(un.BYTE_SEGMENTS,c);var l=s.getECLevel();return null!=l&&u.putMetadata(un.ERROR_CORRECTION_LEVEL,l),u},n.prototype.reportFoundResultPoints=function(e,t){if(null!=e){var r=e.get(Qe.NEED_RESULT_POINT_CALLBACK);null!=r&&t.forEach(function(i,o,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}();const Pl=n5;var r5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),i5=(function(n){r5(function e(t){return void 0===t&&(t=500),n.call(this,new Pl,t)||this},n)}(Cs),function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{if(t&&!0===t.get(Qe.TRY_HARDER)&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,t),s=o.getResultMetadata(),a=270;null!==s&&!0===s.get(un.ORIENTATION)&&(a+=s.get(un.ORIENTATION)%360),o.putMetadata(un.ORIENTATION,a);var u=o.getResultPoints();if(null!==u)for(var c=i.getHeight(),l=0;l<u.length;l++)u[l]=new J(c-u[l].getY()-1,u[l].getX());return o}throw new N}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var u,r=e.getWidth(),i=e.getHeight(),o=new Qt(r),s=t&&!0===t.get(Qe.TRY_HARDER),a=Math.max(1,i>>(s?8:5));u=s?i:15;for(var c=Math.trunc(i/2),l=0;l<u;l++){var f=Math.trunc((l+1)/2),h=c+a*(0==(1&l)?f:-f);if(h<0||h>=i)break;try{o=e.getBlackRow(h,o)}catch{continue}for(var p=function(_){if(1===_&&(o.reverse(),t&&!0===t.get(Qe.NEED_RESULT_POINT_CALLBACK))){var w=new Map;t.forEach(function(L,H){return w.set(H,L)}),w.delete(Qe.NEED_RESULT_POINT_CALLBACK),t=w}try{var x=g.decodeRow(h,o,t);if(1===_){x.putMetadata(un.ORIENTATION,180);var R=x.getResultPoints();null!==R&&(R[0]=new J(r-R[0].getX()-1,R[0].getY()),R[1]=new J(r-R[1].getX()-1,R[1].getY()))}return{value:x}}catch{}},g=this,v=0;v<2;v++){var m=p(v);if("object"==typeof m)return m.value}}throw new N},n.recordPattern=function(e,t,r){for(var i=r.length,o=0;o<i;o++)r[o]=0;var s=e.getSize();if(t>=s)throw new N;for(var a=!e.get(t),u=0,c=t;c<s;){if(e.get(c)!==a)r[u]++;else{if(++u===i)break;r[u]=1,a=!a}c++}if(u!==i&&(u!==i-1||c!==s))throw new N},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,o=e.get(t);t>0&&i>=0;)e.get(--t)!==o&&(i--,o=!o);if(i>=0)throw new N;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,o=0,s=0,a=0;a<i;a++)o+=e[a],s+=t[a];if(o<s)return Number.POSITIVE_INFINITY;var u=o/s;r*=u;for(var c=0,l=0;l<i;l++){var f=e[l],d=t[l]*u,h=f>d?f-d:d-f;if(h>r)return Number.POSITIVE_INFINITY;c+=h}return c/o},n}());const cn=i5;var o5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),s5=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return o5(e,n),e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),o=0,s=Int32Array.from([0,0,0,0,0,0]),a=i,u=!1,l=i;l<r;l++)if(t.get(l)!==u)s[o]++;else{if(5===o){for(var f=e.MAX_AVG_VARIANCE,d=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var p=cn.patternMatchVariance(s,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);p<f&&(f=p,d=h)}if(d>=0&&t.isRange(Math.max(0,a-(l-a)/2),a,!1))return Int32Array.from([a,l,d]);a+=s[0]+s[1],(s=s.slice(2,s.length-1))[o-1]=0,s[o]=0,o--}else o++;s[o]=1,u=!u}throw new N},e.decodeCode=function(t,r,i){cn.recordPattern(t,i,r);for(var o=e.MAX_AVG_VARIANCE,s=-1,a=0;a<e.CODE_PATTERNS.length;a++){var c=this.patternMatchVariance(r,e.CODE_PATTERNS[a],e.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,s=a)}if(s>=0)return s;throw new N},e.prototype.decodeRow=function(t,r,i){var l,o=i&&!0===i.get(Qe.ASSUME_GS1),s=e.findStartPattern(r),a=s[2],u=0,c=new Uint8Array(20);switch(c[u++]=a,a){case e.CODE_START_A:l=e.CODE_CODE_A;break;case e.CODE_START_B:l=e.CODE_CODE_B;break;case e.CODE_START_C:l=e.CODE_CODE_C;break;default:throw new j}for(var f=!1,d=!1,h="",p=s[0],g=s[1],v=Int32Array.from([0,0,0,0,0,0]),m=0,_=0,w=a,x=0,R=!0,L=!1,H=!1;!f;){var Q=d;switch(d=!1,m=_,_=e.decodeCode(r,v,g),c[u++]=_,_!==e.CODE_STOP&&(R=!0),_!==e.CODE_STOP&&(w+=++x*_),p=g,g+=v.reduce(function(E0,D0){return E0+D0},0),_){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new j}switch(l){case e.CODE_CODE_A:if(_<64)h+=String.fromCharCode(H===L?" ".charCodeAt(0)+_:" ".charCodeAt(0)+_+128),H=!1;else if(_<96)h+=String.fromCharCode(H===L?_-64:_+64),H=!1;else switch(_!==e.CODE_STOP&&(R=!1),_){case e.CODE_FNC_1:o&&(h+=0===h.length?"]C1":String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!L&&H?(L=!0,H=!1):L&&H?(L=!1,H=!1):H=!0;break;case e.CODE_SHIFT:d=!0,l=e.CODE_CODE_B;break;case e.CODE_CODE_B:l=e.CODE_CODE_B;break;case e.CODE_CODE_C:l=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0}break;case e.CODE_CODE_B:if(_<96)h+=String.fromCharCode(H===L?" ".charCodeAt(0)+_:" ".charCodeAt(0)+_+128),H=!1;else switch(_!==e.CODE_STOP&&(R=!1),_){case e.CODE_FNC_1:o&&(h+=0===h.length?"]C1":String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!L&&H?(L=!0,H=!1):L&&H?(L=!1,H=!1):H=!0;break;case e.CODE_SHIFT:d=!0,l=e.CODE_CODE_A;break;case e.CODE_CODE_A:l=e.CODE_CODE_A;break;case e.CODE_CODE_C:l=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0}break;case e.CODE_CODE_C:if(_<100)_<10&&(h+="0"),h+=_;else switch(_!==e.CODE_STOP&&(R=!1),_){case e.CODE_FNC_1:o&&(h+=0===h.length?"]C1":String.fromCharCode(29));break;case e.CODE_CODE_A:l=e.CODE_CODE_A;break;case e.CODE_CODE_B:l=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0}}Q&&(l=l===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var Me=g-p;if(g=r.getNextUnset(g),!r.isRange(g,Math.min(r.getSize(),g+(g-p)/2),!1))throw new N;if((w-=x*m)%103!==m)throw new jt;var ge=h.length;if(0===ge)throw new N;ge>0&&R&&(h=h.substring(0,l===e.CODE_CODE_C?ge-2:ge-1));for(var Rt=(s[1]+s[0])/2,ze=p+Me/2,wt=c.length,dr=new Uint8Array(wt),ki=0;ki<wt;ki++)dr[ki]=c[ki];var x0=[new J(Rt,t),new J(ze,t)];return new kn(h,dr,0,x0,ne.CODE_128,(new Date).getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(cn);const fx=s5;var a5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),a0=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u5=function(n){function e(t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return a5(e,n),e.prototype.decodeRow=function(t,r,i){var o,s,a,u,c=this.counters;c.fill(0),this.decodeRowResult="";var h,p,l=e.findAsteriskPattern(r,c),f=r.getNextSet(l[1]),d=r.getSize();do{e.recordPattern(r,f,c);var g=e.toNarrowWidePattern(c);if(g<0)throw new N;h=e.patternToChar(g),this.decodeRowResult+=h,p=f;try{for(var v=(o=void 0,a0(c)),m=v.next();!m.done;m=v.next())f+=m.value}catch(wt){o={error:wt}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}f=r.getNextSet(f)}while("*"!==h);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var ge,w=0;try{for(var x=a0(c),R=x.next();!R.done;R=x.next())w+=R.value}catch(wt){a={error:wt}}finally{try{R&&!R.done&&(u=x.return)&&u.call(x)}finally{if(a)throw a.error}}if(f!==d&&2*(f-p-w)<w)throw new N;if(this.usingCheckDigit){for(var H=this.decodeRowResult.length-1,Q=0,Me=0;Me<H;Me++)Q+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Me));if(this.decodeRowResult.charAt(H)!==e.ALPHABET_STRING.charAt(Q%43))throw new jt;this.decodeRowResult=this.decodeRowResult.substring(0,H)}if(0===this.decodeRowResult.length)throw new N;ge=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var ze=p+w/2;return new kn(ge,null,0,[new J((l[1]+l[0])/2,t),new J(ze,t)],ne.CODE_39,(new Date).getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),o=t.getNextSet(0),s=0,a=o,u=!1,c=r.length,l=o;l<i;l++)if(t.get(l)!==u)r[s]++;else{if(s===c-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,a-Math.floor((l-a)/2)),a,!1))return[a,l];a+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,u=!u}throw new N},e.toNarrowWidePattern=function(t){var r,i,a,o=t.length,s=0;do{var u=2147483647;try{for(var c=(r=void 0,a0(t)),l=c.next();!l.done;l=c.next())(f=l.value)<u&&f>s&&(u=f)}catch(g){r={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}s=u,a=0;for(var d=0,h=0,p=0;p<o;p++)(f=t[p])>s&&(h|=1<<o-1-p,a++,d+=f);if(3===a){for(p=0;p<o&&a>0;p++){var f;if((f=t[p])>s&&(a--,2*f>=d))return-1}return h}}while(a>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new N},e.decodeExtended=function(t){for(var r=t.length,i="",o=0;o<r;o++){var s=t.charAt(o);if("+"===s||"$"===s||"%"===s||"/"===s){var a=t.charAt(o+1),u="\0";switch(s){case"+":if(!(a>="A"&&a<="Z"))throw new j;u=String.fromCharCode(a.charCodeAt(0)+32);break;case"$":if(!(a>="A"&&a<="Z"))throw new j;u=String.fromCharCode(a.charCodeAt(0)-64);break;case"%":if(a>="A"&&a<="E")u=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")u=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")u=String.fromCharCode(a.charCodeAt(0)+43);else if("U"===a)u="\0";else if("V"===a)u="@";else if("W"===a)u="`";else{if("X"!==a&&"Y"!==a&&"Z"!==a)throw new j;u="\x7f"}break;case"/":if(a>="A"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)-32);else{if("Z"!==a)throw new j;u=":"}}i+=u,o++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(cn);const dx=u5;var c5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),f5=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return c5(e,n),e.prototype.decodeRow=function(t,r,i){var o,s,a=this.decodeStart(r),u=this.decodeEnd(r),c=new rt;e.decodeMiddle(r,a[1],u[0],c);var l=c.toString(),f=null;null!=i&&(f=i.get(Qe.ALLOWED_LENGTHS)),null==f&&(f=e.DEFAULT_ALLOWED_LENGTHS);var d=l.length,h=!1,p=0;try{for(var g=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(f),v=g.next();!v.done;v=g.next()){var m=v.value;if(d===m){h=!0;break}m>p&&(p=m)}}catch(x){o={error:x}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}if(!h&&d>p&&(h=!0),!h)throw new j;var _=[new J(a[1],t),new J(u[0],t)];return new kn(l,null,0,_,ne.ITF,(new Date).getTime())},e.decodeMiddle=function(t,r,i,o){var s=new Int32Array(10),a=new Int32Array(5),u=new Int32Array(5);for(s.fill(0),a.fill(0),u.fill(0);r<i;){cn.recordPattern(t,r,s);for(var c=0;c<5;c++){var l=2*c;a[c]=s[l],u[c]=s[l+1]}var f=e.decodeDigit(a);o.append(f.toString()),f=this.decodeDigit(u),o.append(f.toString()),s.forEach(function(d){r+=d})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=10*this.narrowLineWidth;i=i<r?i:r;for(var o=r-1;i>0&&o>=0&&!t.get(o);o--)i--;if(0!==i)throw new N},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new N;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof N&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var o=i.length,s=new Int32Array(o),a=t.getSize(),u=!1,c=0,l=r;s.fill(0);for(var f=r;f<a;f++)if(t.get(f)!==u)s[c]++;else{if(c===o-1){if(cn.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[l,f];l+=s[0]+s[1],ft.arraycopy(s,2,s,0,c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,u=!u}throw new N},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,s=0;s<o;s++){var u=cn.patternMatchVariance(t,e.PATTERNS[s],e.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,i=s):u===r&&(i=-1)}if(i>=0)return i%10;throw new N},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(cn);const hx=f5;var d5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),h5=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return d5(e,n),e.findStartGuardPattern=function(t){for(var i,r=!1,o=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]);var a=(i=e.findGuardPattern(t,o,!1,this.START_END_PATTERN,s))[0],u=a-((o=i[1])-a);u>=0&&(r=t.isRange(u,a,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(0===r)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,o=r-1;o>=0;o-=2){if((s=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new j;i+=s}for(i*=3,o=r-2;o>=0;o-=2){var s;if((s=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new j;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,o){return this.findGuardPattern(t,r,i,o,new Int32Array(o.length))},e.findGuardPattern=function(t,r,i,o,s){for(var a=t.getSize(),u=0,c=r=i?t.getNextUnset(r):t.getNextSet(r),l=o.length,f=i,d=r;d<a;d++)if(t.get(d)!==f)s[u]++;else{if(u===l-1){if(cn.patternMatchVariance(s,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,d]);c+=s[0]+s[1];for(var h=s.slice(2,s.length-1),p=0;p<u-1;p++)s[p]=h[p];s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,f=!f}throw new N},e.decodeDigit=function(t,r,i,o){this.recordPattern(t,i,r);for(var s=this.MAX_AVG_VARIANCE,a=-1,u=o.length,c=0;c<u;c++){var f=cn.patternMatchVariance(r,o[c],e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,a=c)}if(a>=0)return a;throw new N},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(cn);const xs=h5;var p5=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g5=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(t,r,i),s=i.toString(),a=n.parseExtensionString(s),u=[new J((r[0]+r[1])/2,e),new J(o,e)],c=new kn(s,null,0,u,ne.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&c.putAllMetadata(a),c},n.prototype.decodeMiddle=function(e,t,r){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),u=t[1],c=0,l=0;l<5&&u<a;l++){var f=xs.decodeDigit(e,s,u,xs.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(i=void 0,p5(s)),h=d.next();!h.done;h=d.next())u+=h.value}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(c|=1<<4-l),4!==l&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(5!==r.length)throw new N;var g=this.determineCheckDigit(c);if(n.extensionChecksum(r.toString())!==g)throw new N;return u},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);for(r*=3,i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new N},n.parseExtensionString=function(e){if(5!==e.length)return null;var t=n.parseExtension5String(e);return null==t?null:new Map([[un.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}var r=parseInt(e.substring(1)),o=r%100;return t+(r/100).toString()+"."+(o<10?"0"+o:o.toString())},n}();const v5=g5;var m5=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y5=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(t,r,i),s=i.toString(),a=n.parseExtensionString(s),u=[new J((r[0]+r[1])/2,e),new J(o,e)],c=new kn(s,null,0,u,ne.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&c.putAllMetadata(a),c},n.prototype.decodeMiddle=function(e,t,r){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),u=t[1],c=0,l=0;l<2&&u<a;l++){var f=xs.decodeDigit(e,s,u,xs.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(i=void 0,m5(s)),h=d.next();!h.done;h=d.next())u+=h.value}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(c|=1<<1-l),1!==l&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(2!==r.length)throw new N;if(parseInt(r.toString())%4!==c)throw new N;return u},n.parseExtensionString=function(e){return 2!==e.length?null:new Map([[un.ISSUE_NUMBER,parseInt(e)]])},n}();const _5=y5;var w5=function(){function n(){}return n.decodeRow=function(e,t,r){var i=xs.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new v5).decodeRow(e,t,i)}catch{return(new _5).decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}();const C5=w5;var x5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),E5=function(n){function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(a){return Int32Array.from(a)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],o=new Int32Array(i.length),s=0;s<i.length;s++)o[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=o}return t}return x5(e,n),e.prototype.decodeRow=function(t,r,i){var o=e.findStartGuardPattern(r),s=null==i?null:i.get(Qe.NEED_RESULT_POINT_CALLBACK);if(null!=s){var a=new J((o[0]+o[1])/2,t);s.foundPossibleResultPoint(a)}var u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),c=u.rowOffset,l=u.resultString;if(null!=s){var f=new J(c,t);s.foundPossibleResultPoint(f)}var d=e.decodeEnd(r,c);if(null!=s){var h=new J((d[0]+d[1])/2,t);s.foundPossibleResultPoint(h)}var p=d[1],g=p+(p-d[0]);if(g>=r.getSize()||!r.isRange(p,g,!1))throw new N;var v=l.toString();if(v.length<8)throw new j;if(!e.checkChecksum(v))throw new jt;var m=(o[1]+o[0])/2,_=(d[1]+d[0])/2,w=this.getBarcodeFormat(),x=[new J(m,t),new J(_,t)],R=new kn(v,null,0,x,w,(new Date).getTime()),L=0;try{var H=C5.decodeRow(t,r,d[1]);R.putMetadata(un.UPC_EAN_EXTENSION,H.getText()),R.putAllMetadata(H.getResultMetadata()),R.addResultPoints(H.getResultPoints()),L=H.getText().length}catch{}var Q=null==i?null:i.get(Qe.ALLOWED_EAN_EXTENSIONS);if(null!=Q){var Me=!1;for(var ge in Q)if(L.toString()===ge){Me=!0;break}if(!Me)throw new N}return R},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(0===r)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,o=r-1;o>=0;o-=2){if((s=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new j;i+=s}for(i*=3,o=r-2;o>=0;o-=2){var s;if((s=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new j;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(xs);const Yt=E5;var D5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),px=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A5=function(n){function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return D5(e,n),e.prototype.decodeMiddle=function(t,r,i){var o,s,a,u,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=t.getSize(),f=r[1],d=0,h=0;h<6&&f<l;h++){var p=Yt.decodeDigit(t,c,f,Yt.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p%10);try{for(var g=(o=void 0,px(c)),v=g.next();!v.done;v=g.next())f+=v.value}catch(R){o={error:R}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}p>=10&&(d|=1<<5-h)}for(i=e.determineFirstDigit(i,d),f=Yt.findGuardPattern(t,f,!0,Yt.MIDDLE_PATTERN,new Int32Array(Yt.MIDDLE_PATTERN.length).fill(0))[1],h=0;h<6&&f<l;h++){p=Yt.decodeDigit(t,c,f,Yt.L_PATTERNS),i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var w=(a=void 0,px(c)),x=w.next();!x.done;x=w.next())f+=x.value}catch(H){a={error:H}}finally{try{x&&!x.done&&(u=w.return)&&u.call(w)}finally{if(a)throw a.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ne.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return String.fromCharCode("0".charCodeAt(0)+i)+t;throw new N},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Yt);const u0=A5;var S5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),gx=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I5=function(n){function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return S5(e,n),e.prototype.decodeMiddle=function(t,r,i){var o,s,a,u,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var l=t.getSize(),f=r[1],d=0;d<4&&f<l;d++){var h=Yt.decodeDigit(t,c,f,Yt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var p=(o=void 0,gx(c)),g=p.next();!g.done;g=p.next())f+=g.value}catch(x){o={error:x}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}for(f=Yt.findGuardPattern(t,f,!0,Yt.MIDDLE_PATTERN,new Int32Array(Yt.MIDDLE_PATTERN.length).fill(0))[1],d=0;d<4&&f<l;d++){h=Yt.decodeDigit(t,c,f,Yt.L_PATTERNS),i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var _=(a=void 0,gx(c)),w=_.next();!w.done;w=_.next())f+=w.value}catch(L){a={error:L}}finally{try{w&&!w.done&&(u=_.return)&&u.call(_)}finally{if(a)throw a.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ne.EAN_8},e}(Yt);const vx=I5;var b5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),T5=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.ean13Reader=new u0,t}return b5(e,n),e.prototype.getBarcodeFormat=function(){return ne.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if("0"===r.charAt(0)){var i=new kn(r.substring(1),null,null,t.getResultPoints(),ne.UPC_A);return null!=t.getResultMetadata()&&i.putAllMetadata(t.getResultMetadata()),i}throw new N},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Yt);const mx=T5;var M5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),R5=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O5=function(n){function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return M5(e,n),e.prototype.decodeMiddle=function(t,r,i){var o,s,a=this.decodeMiddleCounters.map(function(v){return v});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var u=t.getSize(),c=r[1],l=0,f=0;f<6&&c<u;f++){var d=e.decodeDigit(t,a,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var h=(o=void 0,R5(a)),p=h.next();!p.done;p=h.next())c+=p.value}catch(v){o={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}d>=10&&(l|=1<<5-f)}return e.determineNumSysAndCheckDigit(new rt(i),l),c},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Yt.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o])return t.insert(0,"0"+i),void t.append("0"+o);throw N.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ne.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new rt;i.append(t.charAt(0));var o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o)}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Yt);const yx=O5;var N5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),_x=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P5=function(n){function e(t){var r=n.call(this)||this,i=null==t?null:t.get(Qe.POSSIBLE_FORMATS),o=[];return null!=i&&(i.indexOf(ne.EAN_13)>-1&&o.push(new u0),i.indexOf(ne.UPC_A)>-1&&o.push(new mx),i.indexOf(ne.EAN_8)>-1&&o.push(new vx),i.indexOf(ne.UPC_E)>-1&&o.push(new yx)),0===o.length&&(o.push(new u0),o.push(new mx),o.push(new vx),o.push(new yx)),r.readers=o,r}return N5(e,n),e.prototype.decodeRow=function(t,r,i){var o,s;try{for(var a=_x(this.readers),u=a.next();!u.done;u=a.next()){var c=u.value;try{var l=c.decodeRow(t,r,i),f=l.getBarcodeFormat()===ne.EAN_13&&"0"===l.getText().charAt(0),d=null==i?null:i.get(Qe.POSSIBLE_FORMATS),h=null==d||d.includes(ne.UPC_A);if(f&&h){var p=l.getRawBytes(),g=new kn(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),ne.UPC_A);return g.putAllMetadata(l.getResultMetadata()),g}return l}catch{}}}catch(v){o={error:v}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}throw new N},e.prototype.reset=function(){var t,r;try{for(var i=_x(this.readers),o=i.next();!o.done;o=i.next())o.value.reset()}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(cn);const c0=P5;var F5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),B5=function(n){function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return F5(e,n),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(cn.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new N},e.count=function(t){return We.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,o=r[0],s=1;s<t.length;s++)r[s]>o&&(o=r[s],i=s);t[i]++},e.decrement=function(t,r){for(var i=0,o=r[0],s=1;s<t.length;s++)r[s]<o&&(o=r[s],i=s);t[i]--},e.isFinderPattern=function(t){var r,i,o=t[0]+t[1],a=o/(o+t[2]+t[3]);if(a>=e.MIN_FINDER_PATTERN_RATIO&&a<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var l=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),f=l.next();!f.done;f=l.next()){var d=f.value;d>c&&(c=d),d<u&&(u=d)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return c<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(cn);const lo=B5;var k5=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){return e instanceof n&&(this.value===e.value&&this.checksumPortion===e.checksumPortion)},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}();const Fl=k5;var V5=function(){function n(e,t,r,i,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new J(r,o)),this.resultPoints.push(new J(i,o))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){return e instanceof n&&this.value===e.value},n.prototype.hashCode=function(){return this.value},n}();const wx=V5;var H5=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,o,s=0;try{for(var a=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),u=a.next();!u.done;u=a.next())s+=u.value}catch(_){i={error:_}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}for(var l=0,f=0,d=e.length,h=0;h<d-1;h++){var p=void 0;for(p=1,f|=1<<h;p<e[h];p++,f&=~(1<<h)){var g=n.combins(s-p-1,d-h-2);if(r&&0===f&&s-p-(d-h-1)>=d-h-1&&(g-=n.combins(s-p-(d-h),d-h-2)),d-h-1>1){for(var v=0,m=s-p-(d-h-2);m>t;m--)v+=n.combins(s-p-m-1,d-h-3);g-=v*(d-1-h)}else s-p>t&&g--;l+=g}s-=p}return l},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var o=1,s=1,a=e;a>r;a--)o*=a,s<=i&&(o/=s,s++);for(;s<=i;)o/=s,s++;return o},n}();const Es=H5;var j5=function(){function n(){}return n.buildBitArray=function(e){var t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);for(var i=new Qt(12*t),o=0,a=e[0].getRightChar().getValue(),u=11;u>=0;--u)a&1<<u&&i.set(o),o++;for(u=1;u<e.length;++u){for(var c=e[u],l=c.getLeftChar().getValue(),f=11;f>=0;--f)l&1<<f&&i.set(o),o++;if(null!=c.getRightChar()){var d=c.getRightChar().getValue();for(f=11;f>=0;--f)d&1<<f&&i.set(o),o++}}return i},n}();const G5=j5;var $5=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}();const fo=$5;var z5=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}();const l0=z5;var W5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),X5=function(n){function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return W5(e,n),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(l0);const Sr=X5;var q5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y5=function(n){function e(t,r,i){var o=n.call(this,t)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=r,o}return q5(e,n),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(l0);const ho=Y5;var Z5=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),K5=function(n){function e(t,r,i){var o=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new j;return o.firstDigit=r,o.secondDigit=i,o}return Z5(e,n),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(l0);const Ds=K5;var Ll=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q5=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,o,s,a,u,c;if(!e)return null;if(e.length<2)throw new N;var l=e.substring(0,2);try{for(var f=Ll(n.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next())if((h=d.value)[0]===l)return h[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,h[2],e):n.processFixedAI(2,h[1],e)}catch(L){t={error:L}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}if(e.length<3)throw new N;var p=e.substring(0,3);try{for(var g=Ll(n.THREE_DIGIT_DATA_LENGTH),v=g.next();!v.done;v=g.next())if((h=v.value)[0]===p)return h[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,h[2],e):n.processFixedAI(3,h[1],e)}catch(L){i={error:L}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var m=Ll(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),_=m.next();!_.done;_=m.next())if((h=_.value)[0]===p)return h[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,h[2],e):n.processFixedAI(4,h[1],e)}catch(L){s={error:L}}finally{try{_&&!_.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}if(e.length<4)throw new N;var w=e.substring(0,4);try{for(var x=Ll(n.FOUR_DIGIT_DATA_LENGTH),R=x.next();!R.done;R=x.next()){var h;if((h=R.value)[0]===w)return h[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,h[2],e):n.processFixedAI(4,h[1],e)}}catch(L){u={error:L}}finally{try{R&&!R.done&&(c=x.return)&&c.call(x)}finally{if(u)throw u.error}}throw new N},n.processFixedAI=function(e,t,r){if(r.length<e)throw new N;var i=r.substring(0,e);if(r.length<e+t)throw new N;var o=r.substring(e,e+t),s=r.substring(e+t),a="("+i+")"+o,u=n.parseFieldsInGeneralPurpose(s);return null==u?a:a+u},n.processVariableAI=function(e,t,r){var o,i=r.substring(0,e),s=r.substring(e,o=r.length<e+t?r.length:e+t),a=r.substring(o),u="("+i+")"+s,c=n.parseFieldsInGeneralPurpose(a);return null==c?u:u+c},n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH=[],20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}();const J5=Q5;var eL=function(){function n(e){this.buffer=new rt,this.information=e}return n.prototype.decodeAllCodes=function(e,t){for(var r=t,i=null;;){var o=this.decodeGeneralPurposeField(r,i),s=J5.parseFieldsInGeneralPurpose(o.getNewString());if(null!=s&&e.append(s),i=o.isRemaining()?""+o.getRemainingValue():null,r===o.getNewPosition())break;r=o.getNewPosition()}return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return new Ds(this.information.getSize(),0===t?Ds.FNC1:t-1,Ds.FNC1)}var r=this.extractNumericValueFromBitArray(e,7);return new Ds(e+7,(r-8)/11,(r-8)%11)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,o=0;o<r;++o)e.get(t+o)&&(i|=1<<r-o-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return null!=r&&r.isRemaining()?new ho(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ho(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();if(e=this.current.isAlpha()?(t=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(t=this.parseIsoIec646Block()).isFinished():(t=this.parseNumericBlock()).isFinished(),r===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return t=e.isSecondDigitFNC1()?new ho(this.current.getPosition(),this.buffer.toString()):new ho(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new fo(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1())return t=new ho(this.current.getPosition(),this.buffer.toString()),new fo(!0,t);this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fo(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ho(this.current.getPosition(),this.buffer.toString());return new fo(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fo(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ho(this.current.getPosition(),this.buffer.toString());return new fo(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fo(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Sr(e+5,Sr.FNC1);if(t>=5&&t<15)return new Sr(e+5,"0"+(t-5));var o,r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Sr(e+7,""+(r+1));if(r>=90&&r<116)return new Sr(e+7,""+(r+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new j}return new Sr(e+8,o)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Sr(e+5,Sr.FNC1);if(t>=5&&t<15)return new Sr(e+5,"0"+(t-5));var i,r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Sr(e+6,""+(r+33));switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Wr("Decoding invalid alphanumeric value: "+r)}return new Sr(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}();const Bl=eL;var tL=function(){function n(e){this.information=e,this.generalDecoder=new Bl(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}();const Cx=tL;var nL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),rL=function(n){function e(t){return n.call(this,t)||this}return nL(e,n),e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var o=0;o<4;++o){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);s/100==0&&t.append("0"),s/10==0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,o=0;o<13;o++){var s=t.charAt(o+r).charCodeAt(0)-"0".charCodeAt(0);i+=1&o?s:3*s}10==(i=10-i%10)&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(Cx);const Ir=rL;var iL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),oL=function(n){function e(t){return n.call(this,t)||this}return iL(e,n),e.prototype.parseInformation=function(){var t=new rt;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Ir);const sL=oL;var aL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),uL=function(n){function e(t){return n.call(this,t)||this}return aL(e,n),e.prototype.parseInformation=function(){var t=new rt;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(Cx);const cL=uL;var lL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),fL=function(n){function e(t){return n.call(this,t)||this}return lL(e,n),e.prototype.encodeCompressedWeight=function(t,r,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,o);for(var s=this.checkWeight(o),a=1e5,u=0;u<5;++u)s/a==0&&t.append("0"),a/=10;t.append(s)},e}(Ir);const kl=fL;var dL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),hL=function(n){function e(t){return n.call(this,t)||this}return dL(e,n),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+kl.GTIN_SIZE+e.WEIGHT_SIZE)throw new N;var t=new rt;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+kl.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(kl);const xx=hL;var pL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),gL=function(n){function e(t){return n.call(this,t)||this}return pL(e,n),e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(xx);const vL=gL;var mL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),yL=function(n){function e(t){return n.call(this,t)||this}return mL(e,n),e.prototype.addWeightCode=function(t,r){t.append(r<1e4?"(3202)":"(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(xx);const _L=yL;var wL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),CL=function(n){function e(t){return n.call(this,t)||this}return wL(e,n),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ir.GTIN_SIZE)throw new N;var t=new rt;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ir.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ir.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Ir);const xL=CL;var EL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),DL=function(n){function e(t){return n.call(this,t)||this}return EL(e,n),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ir.GTIN_SIZE)throw new N;var t=new rt;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ir.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ir.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ir.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Ir);const AL=DL;var SL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),IL=function(n){function e(t,r,i){var o=n.call(this,t)||this;return o.dateCode=i,o.firstAIdigits=r,o}return SL(e,n),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new N;var t=new rt;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(38400!=i){t.append("("),t.append(this.dateCode),t.append(")");var o=i%32,s=(i/=32)%12+1,a=i/=12;a/10==0&&t.append("0"),t.append(a),s/10==0&&t.append("0"),t.append(s),o/10==0&&t.append("0"),t.append(o)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(kl);const Ni=IL;var TL=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return null==this.rightchar},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n&&n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern)},n.equalsOrNull=function(e,t){return null===e?null===t:n.equals(e,t)},n.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},n}();const Ex=TL;var ML=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed},n.prototype.checkEqualitity=function(e,t){var r;if(e&&t)return e.forEach(function(i,o){t.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r},n}();const RL=ML;var OL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pi=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NL=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return OL(e,n),e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(a){if(a instanceof N){if(!this.pairs.length)throw new N;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(o=!!this.rows.length,this.storeRow(t,!1),o){var s=this.checkRowsBoolean(!1);if(null!=s||null!=(s=this.checkRowsBoolean(!0)))return s}throw new N},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,o,s=r;s<this.rows.length;s++){var a=this.rows[s];this.pairs.length=0;try{for(var u=(i=void 0,Pi(t)),c=u.next();!c.done;c=u.next())this.pairs.push(c.value.getPairs())}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(a.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(t);f.push(a);try{return this.checkRows(f,s+1)}catch(d){console.log(d)}}}throw new N},e.isValidSequence=function(t){var r,i;try{for(var o=Pi(e.FINDER_PATTERN_SEQUENCES),s=o.next();!s.done;s=o.next()){var a=s.value;if(!(t.length>a.length)){for(var u=!0,c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!=a[c]){u=!1;break}if(u)return!0}}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,o=!1,s=!1;i<this.rows.length;){var a=this.rows[i];if(a.getRowNumber()>t){s=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),i++}s||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new RL(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,o,s,a,u,c;try{for(var l=Pi(r),f=l.next();!f.done;f=l.next()){var d=f.value;if(d.getPairs().length!==t.length)try{for(var p=(s=void 0,Pi(d.getPairs())),g=p.next();!g.done;g=p.next()){var v=g.value;try{for(var _=(u=void 0,Pi(t)),w=_.next();!w.done;w=_.next())if(Ex.equals(v,w.value)){!0;break}}catch(R){u={error:R}}finally{try{w&&!w.done&&(c=_.return)&&c.call(_)}finally{if(u)throw u.error}}}}catch(R){s={error:R}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}}}catch(R){i={error:R}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,o,s,a,u,c;try{for(var l=Pi(r),f=l.next();!f.done;f=l.next()){var d=f.value,h=!0;try{for(var p=(s=void 0,Pi(t)),g=p.next();!g.done;g=p.next()){var v=g.value,m=!1;try{for(var _=(u=void 0,Pi(d.getPairs())),w=_.next();!w.done;w=_.next())if(v.equals(w.value)){m=!0;break}}catch(R){u={error:R}}finally{try{w&&!w.done&&(c=_.return)&&c.call(_)}finally{if(u)throw u.error}}if(!m){h=!1;break}}}catch(R){s={error:R}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}if(h)return!0}}catch(R){i={error:R}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var i=function bL(n){try{if(n.get(1))return new sL(n);if(!n.get(2))return new cL(n);switch(Bl.extractNumericValueFromBitArray(n,1,4)){case 4:return new vL(n);case 5:return new _L(n)}switch(Bl.extractNumericValueFromBitArray(n,1,5)){case 12:return new xL(n);case 13:return new AL(n)}switch(Bl.extractNumericValueFromBitArray(n,1,7)){case 56:return new Ni(n,"310","11");case 57:return new Ni(n,"320","11");case 58:return new Ni(n,"310","13");case 59:return new Ni(n,"320","13");case 60:return new Ni(n,"310","15");case 61:return new Ni(n,"320","15");case 62:return new Ni(n,"310","17");case 63:return new Ni(n,"320","17")}}catch(i){throw console.log(i),new Wr("unknown decoder: "+n)}}(G5.buildBitArray(t)),o=i.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),a=t[t.length-1].getFinderPattern().getResultPoints();return new kn(o,null,null,[s[0],s[1],a[0],a[1]],ne.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(null==i)return!1;for(var o=i.getChecksumPortion(),s=2,a=1;a<this.pairs.size();++a){var u=this.pairs.get(a);o+=u.getLeftChar().getChecksumPortion(),s++;var c=u.getRightChar();null!=c&&(o+=c.getChecksumPortion(),s++)}return 211*(s-4)+(o%=211)==r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var o=r.length%2==0;this.startFromEven&&(o=!o);var s,a=!0,u=-1;do{this.findNextPair(t,r,u),null==(s=this.parseFoundFinderPattern(t,i,o))?u=e.getNextSecondBar(t,this.startEnd[0]):a=!1}while(a);var l,c=this.decodeDataCharacter(t,s,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new N;try{l=this.decodeDataCharacter(t,s,o,!1)}catch(f){l=null,console.log(f)}return new Ex(c,l,s,!0)},e.prototype.isEmptyPair=function(t){return 0===t.length},e.prototype.findNextPair=function(t,r,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var a,s=t.getSize();a=i>=0?i:this.isEmptyPair(r)?0:r[r.length-1].getFinderPattern().getStartEnd()[1];var c=r.length%2!=0;this.startFromEven&&(c=!c);for(var l=!1;a<s&&(l=!t.get(a));)a++;for(var f=0,d=a,h=a;h<s;h++)if(t.get(h)!=l)o[f]++;else{if(3==f){if(c&&e.reverseCounters(o),e.isFinderPattern(o))return this.startEnd[0]=d,void(this.startEnd[1]=h);c&&e.reverseCounters(o),d+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,l=!l}throw new N},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var o=t[i];t[i]=t[r-i-1],t[r-i-1]=o}},e.prototype.parseFoundFinderPattern=function(t,r,i){var o,s,a;if(i){for(var u=this.startEnd[0]-1;u>=0&&!t.get(u);)u--;u++,o=this.startEnd[0]-u,s=u,a=this.startEnd[1]}else s=this.startEnd[0],o=(a=t.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var l,c=this.getDecodeFinderCounters();ft.arraycopy(c,0,c,1,c.length-1),c[0]=o;try{l=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch(f){return null}return new wx(l,[s,a],s,a,r)},e.prototype.decodeDataCharacter=function(t,r,i,o){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(o)e.recordPatternInReverse(t,r.getStartEnd()[0],s);else{e.recordPattern(t,r.getStartEnd()[1],s);for(var u=0,c=s.length-1;u<c;u++,c--){var l=s[u];s[u]=s[c],s[c]=l}}var d=We.sum(new Int32Array(s))/17,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new N;var p=this.getOddCounts(),g=this.getEvenCounts(),v=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(u=0;u<s.length;u++){var _=1*s[u]/d,w=_+.5;if(w<1){if(_<.3)throw new N;w=1}else if(w>8){if(_>8.7)throw new N;w=8}var x=u/2;1&u?(g[x]=w,m[x]=_-w):(p[x]=w,v[x]=_-w)}this.adjustOddEvenCounts(17);var R=4*r.getValue()+(i?0:2)+(o?0:1)-1,L=0,H=0;for(u=p.length-1;u>=0;u--)e.isNotA1left(r,i,o)&&(H+=p[u]*e.WEIGHTS[R][2*u]),L+=p[u];var Me=0;for(u=g.length-1;u>=0;u--)e.isNotA1left(r,i,o)&&(Me+=g[u]*e.WEIGHTS[R][2*u+1]);var ge=H+Me;if(1&L||L>13||L<4)throw new N;var Rt=(13-L)/2,ze=e.SYMBOL_WIDEST[Rt],wt=9-ze,dr=Es.getRSSvalue(p,ze,!0),ki=Es.getRSSvalue(g,wt,!1);return new Fl(dr*e.EVEN_TOTAL_SUBSET[Rt]+ki+e.GSUM[Rt],ge)},e.isNotA1left=function(t,r,i){return!(0==t.getValue()&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=We.sum(new Int32Array(this.getOddCounts())),i=We.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1;r>13?s=!0:r<4&&(o=!0);var a=!1,u=!1;i>13?u=!0:i<4&&(a=!0);var c=r+i-t,l=1==(1&r),f=0==(1&i);if(1==c)if(l){if(f)throw new N;s=!0}else{if(!f)throw new N;u=!0}else if(-1==c)if(l){if(f)throw new N;o=!0}else{if(!f)throw new N;a=!0}else{if(0!=c)throw new N;if(l){if(!f)throw new N;r<i?(o=!0,u=!0):(s=!0,a=!0)}else if(f)throw new N}if(o){if(s)throw new N;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new N;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A=0,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B=1,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C=2,e.FINDER_PAT_B,e.FINDER_PAT_D=3],[e.FINDER_PAT_A,e.FINDER_PAT_E=4,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F=5],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(lo);const PL=NL;var FL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),LL=function(n){function e(t,r,i){var o=n.call(this,t,r)||this;return o.count=0,o.finderPattern=i,o}return FL(e,n),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Fl);const BL=LL;var kL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),f0=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VL=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return kL(e,n),e.prototype.decodeRow=function(t,r,i){var o,s,a,u,c=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,c),r.reverse();var l=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,l),r.reverse();try{for(var f=f0(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var h=d.value;if(h.getCount()>1)try{for(var p=(a=void 0,f0(this.possibleRightPairs)),g=p.next();!g.done;g=p.next()){var v=g.value;if(v.getCount()>1&&e.checkChecksum(h,v))return e.constructResult(h,v)}}catch(m){a={error:m}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}}}catch(m){o={error:m}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}throw new N},e.addOrTally=function(t,r){var i,o;if(null!=r){var s=!1;try{for(var a=f0(t),u=a.next();!u.done;u=a.next()){var c=u.value;if(c.getValue()===r.getValue()){c.incrementCount(),s=!0;break}}}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}s||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),o=new String(i).toString(),s=new rt,a=13-o.length;a>0;a--)s.append("0");s.append(o);var u=0;for(a=0;a<13;a++){var c=s.charAt(a).charCodeAt(0)-"0".charCodeAt(0);u+=1&a?c:3*c}10==(u=10-u%10)&&(u=0),s.append(u.toString());var l=t.getFinderPattern().getResultPoints(),f=r.getFinderPattern().getResultPoints();return new kn(s.toString(),null,0,[l[0],l[1],f[0],f[1]],ne.RSS_14,(new Date).getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(t,r,i,o){try{var s=this.findFinderPattern(t,r),a=this.parseFoundFinderPattern(t,i,r,s),u=null==o?null:o.get(Qe.NEED_RESULT_POINT_CALLBACK);if(null!=u){var c=(s[0]+s[1])/2;r&&(c=t.getSize()-1-c),u.foundPossibleResultPoint(new J(c,i))}var l=this.decodeDataCharacter(t,a,!0),f=this.decodeDataCharacter(t,a,!1);return new BL(1597*l.getValue()+f.getValue(),l.getChecksumPortion()+4*f.getChecksumPortion(),a)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(i)cn.recordPatternInReverse(t,r.getStartEnd()[0],o);else{cn.recordPattern(t,r.getStartEnd()[1]+1,o);for(var a=0,u=o.length-1;a<u;a++,u--){var c=o[a];o[a]=o[u],o[u]=c}}var l=i?16:15,f=We.sum(new Int32Array(o))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(a=0;a<o.length;a++){var v=o[a]/f,m=Math.floor(v+.5);m<1?m=1:m>8&&(m=8);var _=Math.floor(a/2);1&a?(h[_]=m,g[_]=v-m):(d[_]=m,p[_]=v-m)}this.adjustOddEvenCounts(i,l);var w=0,x=0;for(a=d.length-1;a>=0;a--)x*=9,x+=d[a],w+=d[a];var R=0,L=0;for(a=h.length-1;a>=0;a--)R*=9,R+=h[a],L+=h[a];var Q,Me,H=x+3*R;if(i){if(1&w||w>12||w<4)throw new N;var ge=9-(Me=e.OUTSIDE_ODD_WIDEST[Q=(12-w)/2]),Rt=Es.getRSSvalue(d,Me,!1),ze=Es.getRSSvalue(h,ge,!0);return new Fl(Rt*e.OUTSIDE_EVEN_TOTAL_SUBSET[Q]+ze+e.OUTSIDE_GSUM[Q],H)}if(1&L||L>10||L<4)throw new N;return ge=9-(Me=e.INSIDE_ODD_WIDEST[Q=(10-L)/2]),Rt=Es.getRSSvalue(d,Me,!0),ze=Es.getRSSvalue(h,ge,!1),new Fl(ze*e.INSIDE_ODD_TOTAL_SUBSET[Q]+Rt+e.INSIDE_GSUM[Q],H)},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=t.getSize(),s=!1,a=0;a<o&&r!==(s=!t.get(a));)a++;for(var u=0,c=a,l=a;l<o;l++)if(t.get(l)!==s)i[u]++;else{if(3===u){if(lo.isFinderPattern(i))return[c,l];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,s=!s}throw new N},e.prototype.parseFoundFinderPattern=function(t,r,i,o){for(var s=t.get(o[0]),a=o[0]-1;a>=0&&s!==t.get(a);)a--;a++;var u=o[0]-a,c=this.getDecodeFinderCounters(),l=new Int32Array(c.length);ft.arraycopy(c,0,l,1,c.length-1),l[0]=u;var f=this.parseFinderValue(l,e.FINDER_PATTERNS),d=a,h=o[1];return i&&(d=t.getSize()-1-d,h=t.getSize()-1-h),new wx(f,[a,o[1]],d,h,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=We.sum(new Int32Array(this.getOddCounts())),o=We.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,u=!1,c=!1;t?(i>12?a=!0:i<4&&(s=!0),o>12?c=!0:o<4&&(u=!0)):(i>11?a=!0:i<5&&(s=!0),o>10?c=!0:o<4&&(u=!0));var l=i+o-r,f=(1&i)==(t?1:0),d=1==(1&o);if(1===l)if(f){if(d)throw new N;a=!0}else{if(!d)throw new N;c=!0}else if(-1===l)if(f){if(d)throw new N;s=!0}else{if(!d)throw new N;u=!0}else{if(0!==l)throw new N;if(f){if(!d)throw new N;i<o?(s=!0,c=!0):(a=!0,u=!0)}else if(d)throw new N}if(s){if(a)throw new N;lo.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&lo.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new N;lo.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&lo.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(lo);const Dx=VL;var UL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),HL=function(n){function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Qe.POSSIBLE_FORMATS):null,o=t&&void 0!==t.get(Qe.ASSUME_CODE_39_CHECK_DIGIT);return i&&((i.includes(ne.EAN_13)||i.includes(ne.UPC_A)||i.includes(ne.EAN_8)||i.includes(ne.UPC_E))&&r.readers.push(new c0(t)),i.includes(ne.CODE_39)&&r.readers.push(new dx(o)),i.includes(ne.CODE_128)&&r.readers.push(new fx),i.includes(ne.ITF)&&r.readers.push(new hx),i.includes(ne.RSS_14)&&r.readers.push(new Dx),i.includes(ne.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new PL))),0===r.readers.length&&(r.readers.push(new c0(t)),r.readers.push(new dx),r.readers.push(new c0(t)),r.readers.push(new fx),r.readers.push(new hx),r.readers.push(new Dx)),r}return UL(e,n),e.prototype.decodeRow=function(t,r,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,i)}catch{}throw new N},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(cn);const As=HL;var jL=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ax=(function(n){jL(function e(t,r){return void 0===t&&(t=500),n.call(this,new As(r),t,r)||this},n)}(Cs),function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}),et=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),qe=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),GL=function(){function n(e,t,r,i,o,s){var a,u;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=s;var c=0,l=s.getECCodewords(),f=s.getECBlocks();try{for(var d=Ax(f),h=d.next();!h.done;h=d.next()){var p=h.value;c+=p.getCount()*(p.getDataCodewords()+l)}}catch(g){a={error:g}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(a)throw a.error}}this.totalCodewords=c}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if(1&e||1&t)throw new j;try{for(var o=Ax(n.VERSIONS),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.symbolSizeRows===e&&a.symbolSizeColumns===t)return a}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new j},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new et(5,new qe(1,3))),new n(2,12,12,10,10,new et(7,new qe(1,5))),new n(3,14,14,12,12,new et(10,new qe(1,8))),new n(4,16,16,14,14,new et(12,new qe(1,12))),new n(5,18,18,16,16,new et(14,new qe(1,18))),new n(6,20,20,18,18,new et(18,new qe(1,22))),new n(7,22,22,20,20,new et(20,new qe(1,30))),new n(8,24,24,22,22,new et(24,new qe(1,36))),new n(9,26,26,24,24,new et(28,new qe(1,44))),new n(10,32,32,14,14,new et(36,new qe(1,62))),new n(11,36,36,16,16,new et(42,new qe(1,86))),new n(12,40,40,18,18,new et(48,new qe(1,114))),new n(13,44,44,20,20,new et(56,new qe(1,144))),new n(14,48,48,22,22,new et(68,new qe(1,174))),new n(15,52,52,24,24,new et(42,new qe(2,102))),new n(16,64,64,14,14,new et(56,new qe(2,140))),new n(17,72,72,16,16,new et(36,new qe(4,92))),new n(18,80,80,18,18,new et(48,new qe(4,114))),new n(19,88,88,20,20,new et(56,new qe(4,144))),new n(20,96,96,22,22,new et(68,new qe(4,174))),new n(21,104,104,24,24,new et(56,new qe(6,136))),new n(22,120,120,18,18,new et(68,new qe(6,175))),new n(23,132,132,20,20,new et(62,new qe(8,163))),new n(24,144,144,22,22,new et(62,new qe(8,156),new qe(2,155))),new n(25,8,18,6,16,new et(7,new qe(1,5))),new n(26,8,32,6,14,new et(11,new qe(1,10))),new n(27,12,26,10,24,new et(14,new qe(1,16))),new n(28,12,36,10,16,new et(18,new qe(1,22))),new n(29,16,36,14,16,new et(24,new qe(1,32))),new n(30,16,48,14,22,new et(28,new qe(1,49)))]},n.VERSIONS=n.buildVersions(),n}();const $L=GL;var zL=function(){function n(e){var t=e.getHeight();if(t<8||t>144||1&t)throw new j;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new lr(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return $L.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,o=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),a=!1,u=!1,c=!1,l=!1;do{if(r!==o||0!==i||a)if(r===o-2&&0===i&&3&s&&!u)e[t++]=255&this.readCorner2(o,s),r-=2,i+=2,u=!0;else if(r!==o+4||2!==i||7&s||c)if(r!==o-2||0!==i||4!=(7&s)||l){do{r<o&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=255&this.readUtah(r,i,o,s)),r-=2,i+=2}while(r>=0&&i<s);r+=1,i+=3;do{r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[t++]=255&this.readUtah(r,i,o,s)),r+=2,i-=2}while(r<o&&i>=0);r+=3,i+=1}else e[t++]=255&this.readCorner4(o,s),r-=2,i+=2,l=!0;else e[t++]=255&this.readCorner3(o,s),r-=2,i+=2,c=!0;else e[t++]=255&this.readCorner1(o,s),r-=2,i+=2,a=!0}while(r<o||i<s);if(t!==this.version.getTotalCodewords())throw new j;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var o=0;return this.readModule(e-2,t-2,r,i)&&(o|=1),o<<=1,this.readModule(e-2,t-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,t-2,r,i)&&(o|=1),o<<=1,this.readModule(e-1,t-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,t,r,i)&&(o|=1),o<<=1,this.readModule(e,t-2,r,i)&&(o|=1),o<<=1,this.readModule(e,t-1,r,i)&&(o|=1),o<<=1,this.readModule(e,t,r,i)&&(o|=1),o},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new X("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),s=t/i|0,a=r/o|0,l=new lr(a*o,s*i),f=0;f<s;++f)for(var d=f*i,h=0;h<a;++h)for(var p=h*o,g=0;g<i;++g)for(var v=f*(i+2)+1+g,m=d+g,_=0;_<o;++_)e.get(h*(o+2)+1+_,v)&&l.set(p+_,m);return l},n}();const WL=zL;var Sx=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XL=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,o,s,a=t.getECBlocks(),u=0,c=a.getECBlocks();try{for(var l=Sx(c),f=l.next();!f.done;f=l.next())u+=(d=f.value).getCount()}catch(dr){r={error:dr}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}var h=new Array(u),p=0;try{for(var g=Sx(c),v=g.next();!v.done;v=g.next())for(var d=v.value,m=0;m<d.getCount();m++){var _=d.getDataCodewords(),w=a.getECCodewords()+_;h[p++]=new n(_,new Uint8Array(w))}}catch(dr){o={error:dr}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}var R=h[0].codewords.length-a.getECCodewords(),L=R-1,H=0;for(m=0;m<L;m++)for(var Q=0;Q<p;Q++)h[Q].codewords[m]=e[H++];var Me=24===t.getVersionNumber(),ge=Me?8:p;for(Q=0;Q<ge;Q++)h[Q].codewords[R-1]=e[H++];var Rt=h[0].codewords.length;for(m=R;m<Rt;m++)for(Q=0;Q<p;Q++){var ze=Me?(Q+8)%p:Q;h[ze].codewords[Me&&ze>7?m-1:m]=e[H++]}if(H!==e.length)throw new X;return h},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}();const qL=XL;var YL=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new X(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,o=this.bytes;if(r>0){var s=8-r,a=e<s?e:s;t=(o[i]&255>>8-a<<(u=s-a))>>u,e-=a,8===(r+=a)&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|255&o[i],i++,e-=8;var u;e>0&&(t=t<<e|(o[i]&255>>(u=8-e)<<u)>>u,r+=e)}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}();const Ix=YL;var Gt=(()=>(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"}(Gt||(Gt={})),Gt))(),ZL=function(){function n(){}return n.decode=function(e){var t=new Ix(e),r=new rt,i=new rt,o=new Array,s=Gt.ASCII_ENCODE;do{if(s===Gt.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,i);else{switch(s){case Gt.C40_ENCODE:this.decodeC40Segment(t,r);break;case Gt.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Gt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Gt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Gt.BASE256_ENCODE:this.decodeBase256Segment(t,r,o);break;default:throw new j}s=Gt.ASCII_ENCODE}}while(s!==Gt.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new Rl(e,r.toString(),0===o.length?null:o,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var o=e.readBits(8);if(0===o)throw new j;if(o<=128)return i&&(o+=128),t.append(String.fromCharCode(o-1)),Gt.ASCII_ENCODE;if(129===o)return Gt.PAD_ENCODE;if(o<=229){var s=o-130;s<10&&t.append("0"),t.append(""+s)}else switch(o){case 230:return Gt.C40_ENCODE;case 231:return Gt.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:i=!0;break;case 236:t.append("[)>\x1e05\x1d"),r.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),r.insert(0,"\x1e\x04");break;case 238:return Gt.ANSIX12_ENCODE;case 239:return Gt.TEXT_ENCODE;case 240:return Gt.EDIFACT_ENCODE;default:if(254!==o||0!==e.available())throw new j}}while(e.available()>0);return Gt.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],o=0;do{if(8===e.available())return;var s=e.readBits(8);if(254===s)return;this.parseTwoBytes(s,e.readBits(8),i);for(var a=0;a<3;a++){var u=i[a];switch(o){case 0:if(u<3)o=u+1;else{if(!(u<this.C40_BASIC_SET_CHARS.length))throw new j;var c=this.C40_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length)c=this.C40_SHIFT2_SET_CHARS[u],r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c);else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new j}o=0;break;case 3:r?(t.append(String.fromCharCode(u+224)),r=!1):t.append(String.fromCharCode(u+96)),o=0;break;default:throw new j}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],o=0;do{if(8===e.available())return;var s=e.readBits(8);if(254===s)return;this.parseTwoBytes(s,e.readBits(8),i);for(var a=0;a<3;a++){var u=i[a];switch(o){case 0:if(u<3)o=u+1;else{if(!(u<this.TEXT_BASIC_SET_CHARS.length))throw new j;var c=this.TEXT_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length)c=this.TEXT_SHIFT2_SET_CHARS[u],r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c);else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new j}o=0;break;case 3:if(!(u<this.TEXT_SHIFT3_SET_CHARS.length))throw new j;c=this.TEXT_SHIFT3_SET_CHARS[u],r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c),o=0;break;default:throw new j}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(8===e.available())return;var i=e.readBits(8);if(254===i)return;this.parseTwoBytes(i,e.readBits(8),r);for(var o=0;o<3;o++){var s=r[o];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else{if(!(s<40))throw new j;t.append(String.fromCharCode(s+51))}}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,o=Math.floor(i/1600);r[0]=o,i-=1600*o,o=Math.floor(i/40),r[1]=o,r[2]=i-40*o},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(31===i){var o=8-e.getBitOffset();return void(8!==o&&e.readBits(o))}32&i||(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var s,i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++);if((s=0===o?e.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(e.readBits(8),i++))<0)throw new j;for(var a=new Uint8Array(s),u=0;u<s;u++){if(e.available()<8)throw new j;a[u]=this.unrandomize255State(e.readBits(8),i++)}r.push(a);try{t.append(zr.decode(a,at.ISO88591))}catch(c){throw new Wr("Platform does not support required encoding: "+c.message)}},n.unrandomize255State=function(e,t){var i=e-(149*t%255+1);return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],n}();const KL=ZL;var JL=function(){function n(){this.rsDecoder=new Nl(Vn.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new WL(e),o=i.getVersion(),s=i.readCodewords(),a=qL.getDataBlocks(s,o),u=0;try{for(var c=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),l=c.next();!l.done;l=c.next())u+=l.value.getNumDataCodewords()}catch(w){t={error:w}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}for(var d=new Uint8Array(u),h=a.length,p=0;p<h;p++){var g=a[p],v=g.getCodewords(),m=g.getNumDataCodewords();this.correctErrors(v,m);for(var _=0;_<m;_++)d[_*h+p]=v[_]}return KL.decode(d)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new jt}for(var i=0;i<t;i++)e[i]=r[i]},n}();const e7=JL;var t7=function(){function n(e){this.image=e,this.rectangleDetector=new o0(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if((t=this.detectSolid2(t))[3]=this.correctTopRight(t),!t[3])throw new N;var r=(t=this.shiftToModuleCenter(t))[0],i=t[1],o=t[2],s=t[3],a=this.transitionsBetween(r,s)+1,u=this.transitionsBetween(o,s)+1;1==(1&a)&&(a+=1),1==(1&u)&&(u+=1),4*a<7*u&&4*u<7*a&&(a=u=Math.max(a,u));var c=n.sampleGrid(this.image,r,i,o,s,a,u);return new r0(c,[r,i,o,s])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),o=(t.getY()-e.getY())/(r+1);return new J(e.getX()+i,e.getY()+o)},n.moveAway=function(e,t,r){var i=e.getX(),o=e.getY();return i<t?i-=1:i+=1,o<r?o-=1:o+=1,new J(i,o)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],o=e[2],s=this.transitionsBetween(t,r),a=this.transitionsBetween(r,i),u=this.transitionsBetween(i,o),c=this.transitionsBetween(o,t),l=s,f=[o,t,r,i];return l>a&&(l=a,f[0]=t,f[1]=r,f[2]=i,f[3]=o),l>u&&(l=u,f[0]=r,f[1]=i,f[2]=o,f[3]=t),l>c&&(f[0]=i,f[1]=o,f[2]=t,f[3]=r),f},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],o=e[3],s=this.transitionsBetween(t,o),a=n.shiftPoint(r,i,4*(s+1)),u=n.shiftPoint(i,r,4*(s+1));return this.transitionsBetween(a,t)<this.transitionsBetween(u,o)?(e[0]=t,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],o=e[3],s=this.transitionsBetween(t,o),a=this.transitionsBetween(r,o),u=n.shiftPoint(t,r,4*(a+1)),c=n.shiftPoint(i,r,4*(s+1));s=this.transitionsBetween(u,o),a=this.transitionsBetween(c,o);var l=new J(o.getX()+(i.getX()-r.getX())/(s+1),o.getY()+(i.getY()-r.getY())/(s+1)),f=new J(o.getX()+(t.getX()-r.getX())/(a+1),o.getY()+(t.getY()-r.getY())/(a+1));return this.isValid(l)?this.isValid(f)?this.transitionsBetween(u,l)+this.transitionsBetween(c,l)>this.transitionsBetween(u,f)+this.transitionsBetween(c,f)?l:f:l:this.isValid(f)?f:null},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],o=e[3],s=this.transitionsBetween(t,o)+1,a=this.transitionsBetween(i,o)+1,u=n.shiftPoint(t,r,4*a),c=n.shiftPoint(i,r,4*s);1==(1&(s=this.transitionsBetween(u,o)+1))&&(s+=1),1==(1&(a=this.transitionsBetween(c,o)+1))&&(a+=1);var d,h,l=(t.getX()+r.getX()+i.getX()+o.getX())/4,f=(t.getY()+r.getY()+i.getY()+o.getY())/4;return t=n.moveAway(t,l,f),r=n.moveAway(r,l,f),i=n.moveAway(i,l,f),o=n.moveAway(o,l,f),u=n.shiftPoint(t,r,4*a),u=n.shiftPoint(u,o,4*s),d=n.shiftPoint(r,t,4*a),d=n.shiftPoint(d,i,4*s),c=n.shiftPoint(i,o,4*a),c=n.shiftPoint(c,r,4*s),h=n.shiftPoint(o,i,4*a),[u,d,c,h=n.shiftPoint(h,t,4*s)]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,o,s,a){return s0.getInstance().sampleGrid(e,s,a,.5,.5,s-.5,.5,s-.5,a-.5,.5,a-.5,t.getX(),t.getY(),o.getX(),o.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(t.getX()),s=Math.trunc(t.getY()),a=Math.abs(s-i)>Math.abs(o-r);if(a){var u=r;r=i,i=u,u=o,o=s,s=u}for(var c=Math.abs(o-r),l=Math.abs(s-i),f=-c/2,d=i<s?1:-1,h=r<o?1:-1,p=0,g=this.image.get(a?i:r,a?r:i),v=r,m=i;v!==o;v+=h){var _=this.image.get(a?m:v,a?v:m);if(_!==g&&(p++,g=_),(f+=l)>0){if(m===s)break;m+=d,f-=c}}return p},n}();const n7=t7;var r7=function(){function n(){this.decoder=new e7}return n.prototype.decode=function(e,t){var r,i;if(void 0===t&&(t=null),null!=t&&t.has(Qe.PURE_BARCODE)){var o=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(o),i=n.NO_POINTS}else{var s=new n7(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var a=r.getRawBytes(),u=new kn(r.getText(),a,8*a.length,i,ne.DATA_MATRIX,ft.currentTimeMillis()),c=r.getByteSegments();null!=c&&u.putMetadata(un.BYTE_SEGMENTS,c);var l=r.getECLevel();return null!=l&&u.putMetadata(un.ERROR_CORRECTION_LEVEL,l),u},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==t||null==r)throw new N;var i=this.moduleSize(t,e),o=t[1],a=t[0],c=(r[0]-a+1)/i,l=(r[1]-o+1)/i;if(c<=0||l<=0)throw new N;var f=i/2;o+=f,a+=f;for(var d=new lr(c,l),h=0;h<l;h++)for(var p=o+h*i,g=0;g<c;g++)e.get(a+g*i,p)&&d.set(g,h);return d},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],o=e[1];i<r&&t.get(i,o);)i++;if(i===r)throw new N;var s=i-e[0];if(0===s)throw new N;return s},n.NO_POINTS=[],n}();const Vl=r7;var i7=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),po=(function(n){i7(function e(t){return void 0===t&&(t=500),n.call(this,new Vl,t)||this},n)}(Cs),(()=>(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"}(po||(po={})),po))()),o7=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new Mt(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){return e instanceof n&&this.value===e.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new X;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(po.L,"L",1),n.M=new n(po.M,"M",0),n.Q=new n(po.Q,"Q",3),n.H=new n(po.H,"H",2),n}();const gi=o7;var a7=function(){function n(e){this.errorCorrectionLevel=gi.forBits(e>>3&3),this.dataMask=7&e}return n.numBitsDiffering=function(e,t){return Ve.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return null!==r?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,o=Number.MAX_SAFE_INTEGER,s=0;try{for(var a=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n.FORMAT_INFO_DECODE_LOOKUP),u=a.next();!u.done;u=a.next()){var c=u.value,l=c[0];if(l===e||l===t)return new n(c[1]);var f=n.numBitsDiffering(e,l);f<o&&(s=c[1],o=f),e!==t&&(f=n.numBitsDiffering(t,l))<o&&(s=c[1],o=f)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){return e instanceof n&&(this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask)},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}();const bx=a7;var c7=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var o=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),s=o.next();!s.done;s=o.next())r+=s.value.getCount()}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}();const I=c7;var l7=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}();const y=l7;var f7=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d7=function(){function n(e,t){for(var r,i,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=o;var a=0,u=o[0].getECCodewordsPerBlock(),c=o[0].getECBlocks();try{for(var l=f7(c),f=l.next();!f.done;f=l.next()){var d=f.value;a+=d.getCount()*(d.getDataCodewords()+u)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}this.totalCodewords=a}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw new j;try{return this.getVersionForNumber((e-17)/4)}catch{throw new j}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new X;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var o=n.VERSION_DECODE_INFO[i];if(o===e)return n.getVersionForNumber(i+7);var s=bx.numBitsDiffering(e,o);s<t&&(r=i+7,t=s)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new lr(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var o=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)0===i&&(0===s||s===r-1)||i===r-1&&0===s||t.setRegion(this.alignmentPatternCenters[s]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new I(7,new y(1,19)),new I(10,new y(1,16)),new I(13,new y(1,13)),new I(17,new y(1,9))),new n(2,Int32Array.from([6,18]),new I(10,new y(1,34)),new I(16,new y(1,28)),new I(22,new y(1,22)),new I(28,new y(1,16))),new n(3,Int32Array.from([6,22]),new I(15,new y(1,55)),new I(26,new y(1,44)),new I(18,new y(2,17)),new I(22,new y(2,13))),new n(4,Int32Array.from([6,26]),new I(20,new y(1,80)),new I(18,new y(2,32)),new I(26,new y(2,24)),new I(16,new y(4,9))),new n(5,Int32Array.from([6,30]),new I(26,new y(1,108)),new I(24,new y(2,43)),new I(18,new y(2,15),new y(2,16)),new I(22,new y(2,11),new y(2,12))),new n(6,Int32Array.from([6,34]),new I(18,new y(2,68)),new I(16,new y(4,27)),new I(24,new y(4,19)),new I(28,new y(4,15))),new n(7,Int32Array.from([6,22,38]),new I(20,new y(2,78)),new I(18,new y(4,31)),new I(18,new y(2,14),new y(4,15)),new I(26,new y(4,13),new y(1,14))),new n(8,Int32Array.from([6,24,42]),new I(24,new y(2,97)),new I(22,new y(2,38),new y(2,39)),new I(22,new y(4,18),new y(2,19)),new I(26,new y(4,14),new y(2,15))),new n(9,Int32Array.from([6,26,46]),new I(30,new y(2,116)),new I(22,new y(3,36),new y(2,37)),new I(20,new y(4,16),new y(4,17)),new I(24,new y(4,12),new y(4,13))),new n(10,Int32Array.from([6,28,50]),new I(18,new y(2,68),new y(2,69)),new I(26,new y(4,43),new y(1,44)),new I(24,new y(6,19),new y(2,20)),new I(28,new y(6,15),new y(2,16))),new n(11,Int32Array.from([6,30,54]),new I(20,new y(4,81)),new I(30,new y(1,50),new y(4,51)),new I(28,new y(4,22),new y(4,23)),new I(24,new y(3,12),new y(8,13))),new n(12,Int32Array.from([6,32,58]),new I(24,new y(2,92),new y(2,93)),new I(22,new y(6,36),new y(2,37)),new I(26,new y(4,20),new y(6,21)),new I(28,new y(7,14),new y(4,15))),new n(13,Int32Array.from([6,34,62]),new I(26,new y(4,107)),new I(22,new y(8,37),new y(1,38)),new I(24,new y(8,20),new y(4,21)),new I(22,new y(12,11),new y(4,12))),new n(14,Int32Array.from([6,26,46,66]),new I(30,new y(3,115),new y(1,116)),new I(24,new y(4,40),new y(5,41)),new I(20,new y(11,16),new y(5,17)),new I(24,new y(11,12),new y(5,13))),new n(15,Int32Array.from([6,26,48,70]),new I(22,new y(5,87),new y(1,88)),new I(24,new y(5,41),new y(5,42)),new I(30,new y(5,24),new y(7,25)),new I(24,new y(11,12),new y(7,13))),new n(16,Int32Array.from([6,26,50,74]),new I(24,new y(5,98),new y(1,99)),new I(28,new y(7,45),new y(3,46)),new I(24,new y(15,19),new y(2,20)),new I(30,new y(3,15),new y(13,16))),new n(17,Int32Array.from([6,30,54,78]),new I(28,new y(1,107),new y(5,108)),new I(28,new y(10,46),new y(1,47)),new I(28,new y(1,22),new y(15,23)),new I(28,new y(2,14),new y(17,15))),new n(18,Int32Array.from([6,30,56,82]),new I(30,new y(5,120),new y(1,121)),new I(26,new y(9,43),new y(4,44)),new I(28,new y(17,22),new y(1,23)),new I(28,new y(2,14),new y(19,15))),new n(19,Int32Array.from([6,30,58,86]),new I(28,new y(3,113),new y(4,114)),new I(26,new y(3,44),new y(11,45)),new I(26,new y(17,21),new y(4,22)),new I(26,new y(9,13),new y(16,14))),new n(20,Int32Array.from([6,34,62,90]),new I(28,new y(3,107),new y(5,108)),new I(26,new y(3,41),new y(13,42)),new I(30,new y(15,24),new y(5,25)),new I(28,new y(15,15),new y(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new I(28,new y(4,116),new y(4,117)),new I(26,new y(17,42)),new I(28,new y(17,22),new y(6,23)),new I(30,new y(19,16),new y(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new I(28,new y(2,111),new y(7,112)),new I(28,new y(17,46)),new I(30,new y(7,24),new y(16,25)),new I(24,new y(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new I(30,new y(4,121),new y(5,122)),new I(28,new y(4,47),new y(14,48)),new I(30,new y(11,24),new y(14,25)),new I(30,new y(16,15),new y(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new I(30,new y(6,117),new y(4,118)),new I(28,new y(6,45),new y(14,46)),new I(30,new y(11,24),new y(16,25)),new I(30,new y(30,16),new y(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new I(26,new y(8,106),new y(4,107)),new I(28,new y(8,47),new y(13,48)),new I(30,new y(7,24),new y(22,25)),new I(30,new y(22,15),new y(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new I(28,new y(10,114),new y(2,115)),new I(28,new y(19,46),new y(4,47)),new I(28,new y(28,22),new y(6,23)),new I(30,new y(33,16),new y(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new I(30,new y(8,122),new y(4,123)),new I(28,new y(22,45),new y(3,46)),new I(30,new y(8,23),new y(26,24)),new I(30,new y(12,15),new y(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new I(30,new y(3,117),new y(10,118)),new I(28,new y(3,45),new y(23,46)),new I(30,new y(4,24),new y(31,25)),new I(30,new y(11,15),new y(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new I(30,new y(7,116),new y(7,117)),new I(28,new y(21,45),new y(7,46)),new I(30,new y(1,23),new y(37,24)),new I(30,new y(19,15),new y(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new I(30,new y(5,115),new y(10,116)),new I(28,new y(19,47),new y(10,48)),new I(30,new y(15,24),new y(25,25)),new I(30,new y(23,15),new y(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new I(30,new y(13,115),new y(3,116)),new I(28,new y(2,46),new y(29,47)),new I(30,new y(42,24),new y(1,25)),new I(30,new y(23,15),new y(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new I(30,new y(17,115)),new I(28,new y(10,46),new y(23,47)),new I(30,new y(10,24),new y(35,25)),new I(30,new y(19,15),new y(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new I(30,new y(17,115),new y(1,116)),new I(28,new y(14,46),new y(21,47)),new I(30,new y(29,24),new y(19,25)),new I(30,new y(11,15),new y(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new I(30,new y(13,115),new y(6,116)),new I(28,new y(14,46),new y(23,47)),new I(30,new y(44,24),new y(7,25)),new I(30,new y(59,16),new y(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new I(30,new y(12,121),new y(7,122)),new I(28,new y(12,47),new y(26,48)),new I(30,new y(39,24),new y(14,25)),new I(30,new y(22,15),new y(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new I(30,new y(6,121),new y(14,122)),new I(28,new y(6,47),new y(34,48)),new I(30,new y(46,24),new y(10,25)),new I(30,new y(2,15),new y(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new I(30,new y(17,122),new y(4,123)),new I(28,new y(29,46),new y(14,47)),new I(30,new y(49,24),new y(10,25)),new I(30,new y(24,15),new y(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new I(30,new y(4,122),new y(18,123)),new I(28,new y(13,46),new y(32,47)),new I(30,new y(48,24),new y(14,25)),new I(30,new y(42,15),new y(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new I(30,new y(20,117),new y(4,118)),new I(28,new y(40,47),new y(7,48)),new I(30,new y(43,24),new y(22,25)),new I(30,new y(10,15),new y(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new I(30,new y(19,118),new y(6,119)),new I(28,new y(18,47),new y(31,48)),new I(30,new y(34,24),new y(34,25)),new I(30,new y(20,15),new y(61,16)))],n}();const go=d7;var Zt=(()=>(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"}(Zt||(Zt={})),Zt))(),h7=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[Zt.DATA_MASK_000,new n(Zt.DATA_MASK_000,function(e,t){return 0==(e+t&1)})],[Zt.DATA_MASK_001,new n(Zt.DATA_MASK_001,function(e,t){return 0==(1&e)})],[Zt.DATA_MASK_010,new n(Zt.DATA_MASK_010,function(e,t){return t%3==0})],[Zt.DATA_MASK_011,new n(Zt.DATA_MASK_011,function(e,t){return(e+t)%3==0})],[Zt.DATA_MASK_100,new n(Zt.DATA_MASK_100,function(e,t){return 0==(Math.floor(e/2)+Math.floor(t/3)&1)})],[Zt.DATA_MASK_101,new n(Zt.DATA_MASK_101,function(e,t){return e*t%6==0})],[Zt.DATA_MASK_110,new n(Zt.DATA_MASK_110,function(e,t){return e*t%6<3})],[Zt.DATA_MASK_111,new n(Zt.DATA_MASK_111,function(e,t){return 0==(e+t+e*t%3&1)})]]),n}();const Tx=h7;var p7=function(){function n(e){var t=e.getHeight();if(t<21||1!=(3&t))throw new j;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);var i=this.bitMatrix.getHeight(),o=0,s=i-7;for(r=i-1;r>=s;r--)o=this.copyBit(8,r,o);for(t=i-8;t<i;t++)o=this.copyBit(t,8,o);if(this.parsedFormatInfo=bx.decodeFormatInformation(e,o),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new j},n.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return go.getVersionForNumber(t);for(var r=0,i=e-11,o=5;o>=0;o--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,o,r);var a=go.decodeVersionInformation(r);if(null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;for(r=0,s=5;s>=0;s--)for(o=e-9;o>=i;o--)r=this.copyBit(s,o,r);if(null!==(a=go.decodeVersionInformation(r))&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new j},n.prototype.copyBit=function(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=Tx.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var o=t.buildFunctionPattern(),s=!0,a=new Uint8Array(t.getTotalCodewords()),u=0,c=0,l=0,f=i-1;f>0;f-=2){6===f&&f--;for(var d=0;d<i;d++)for(var h=s?i-1-d:d,p=0;p<2;p++)o.get(f-p,h)||(l++,c<<=1,this.bitMatrix.get(f-p,h)&&(c|=1),8===l&&(a[u++]=c,l=0,c=0));s=!s}if(u!==t.getTotalCodewords())throw new j;return a},n.prototype.remask=function(){if(null!==this.parsedFormatInfo){var e=Tx.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,o=e.getHeight();i<o;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}();const g7=p7;var Mx=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v7=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,o,s,a;if(e.length!==t.getTotalCodewords())throw new X;var u=t.getECBlocksForLevel(r),c=0,l=u.getECBlocks();try{for(var f=Mx(l),d=f.next();!d.done;d=f.next())c+=(h=d.value).getCount()}catch(wt){i={error:wt}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var p=new Array(c),g=0;try{for(var v=Mx(l),m=v.next();!m.done;m=v.next())for(var h=m.value,_=0;_<h.getCount();_++){var w=h.getDataCodewords(),x=u.getECCodewordsPerBlock()+w;p[g++]=new n(w,new Uint8Array(x))}}catch(wt){s={error:wt}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}for(var R=p[0].codewords.length,L=p.length-1;L>=0&&p[L].codewords.length!==R;)L--;L++;var Q=R-u.getECCodewordsPerBlock(),Me=0;for(_=0;_<Q;_++)for(var ge=0;ge<g;ge++)p[ge].codewords[_]=e[Me++];for(ge=L;ge<g;ge++)p[ge].codewords[Q]=e[Me++];var Rt=p[0].codewords.length;for(_=Q;_<Rt;_++)for(ge=0;ge<g;ge++)p[ge].codewords[ge<L?_:_+1]=e[Me++];return p},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}();const m7=v7;var Kn=(()=>(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"}(Kn||(Kn={})),Kn))(),y7=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(void 0===t)throw new X;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber();return this.characterCountBitsForVersions[t<=9?0:t<=26?1:2]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){return e instanceof n&&this.value===e.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Kn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Kn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Kn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Kn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Kn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Kn.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Kn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Kn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Kn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Kn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}();const pt=y7;var _7=function(){function n(){}return n.decode=function(e,t,r,i){var o=new Ix(e),s=new rt,a=new Array,u=-1,c=-1;try{var l=null,f=!1,d=void 0;do{if(o.available()<4)d=pt.TERMINATOR;else{var h=o.readBits(4);d=pt.forBits(h)}switch(d){case pt.TERMINATOR:break;case pt.FNC1_FIRST_POSITION:case pt.FNC1_SECOND_POSITION:f=!0;break;case pt.STRUCTURED_APPEND:if(o.available()<16)throw new j;u=o.readBits(8),c=o.readBits(8);break;case pt.ECI:var p=n.parseECIValue(o);if(null===(l=qt.getCharacterSetECIByValue(p)))throw new j;break;case pt.HANZI:var g=o.readBits(4),v=o.readBits(d.getCharacterCountBits(t));g===n.GB2312_SUBSET&&n.decodeHanziSegment(o,s,v);break;default:var m=o.readBits(d.getCharacterCountBits(t));switch(d){case pt.NUMERIC:n.decodeNumericSegment(o,s,m);break;case pt.ALPHANUMERIC:n.decodeAlphanumericSegment(o,s,m,f);break;case pt.BYTE:n.decodeByteSegment(o,s,m,l,a,i);break;case pt.KANJI:n.decodeKanjiSegment(o,s,m);break;default:throw new j}}}while(d!==pt.TERMINATOR)}catch{throw new j}return new Rl(e,s.toString(),0===a.length?null:a,null===r?null:r.toString(),u,c)},n.decodeHanziSegment=function(e,t,r){if(13*r>e.available())throw new j;for(var i=new Uint8Array(2*r),o=0;r>0;){var s=e.readBits(13),a=s/96<<8&4294967295|s%96;i[o]=(a+=a<959?41377:42657)>>8&255,i[o+1]=255&a,o+=2,r--}try{t.append(zr.decode(i,at.GB2312))}catch(u){throw new j(u)}},n.decodeKanjiSegment=function(e,t,r){if(13*r>e.available())throw new j;for(var i=new Uint8Array(2*r),o=0;r>0;){var s=e.readBits(13),a=s/192<<8&4294967295|s%192;i[o]=(a+=a<7936?33088:49472)>>8,i[o+1]=a,o+=2,r--}try{t.append(zr.decode(i,at.SHIFT_JIS))}catch(u){throw new j(u)}},n.decodeByteSegment=function(e,t,r,i,o,s){if(8*r>e.available())throw new j;for(var a=new Uint8Array(r),u=0;u<r;u++)a[u]=e.readBits(8);var c;c=null===i?at.guessEncoding(a,s):i.getName();try{t.append(zr.decode(a,c))}catch(l){throw new j(l)}o.push(a)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new j;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var o=t.length();r>1;){if(e.available()<11)throw new j;var s=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(s/45))),t.append(n.toAlphaNumericChar(s%45)),r-=2}if(1===r){if(e.available()<6)throw new j;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var a=o;a<t.length();a++)"%"===t.charAt(a)&&(a<t.length()-1&&"%"===t.charAt(a+1)?t.deleteCharAt(a+1):t.setCharAt(a,String.fromCharCode(29)))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new j;var i=e.readBits(10);if(i>=1e3)throw new j;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(2===r){if(e.available()<7)throw new j;var o=e.readBits(7);if(o>=100)throw new j;t.append(n.toAlphaNumericChar(Math.floor(o/10))),t.append(n.toAlphaNumericChar(o%10))}else if(1===r){if(e.available()<4)throw new j;var s=e.readBits(4);if(s>=10)throw new j;t.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(e){var t=e.readBits(8);if(!(128&t))return 127&t;if(128==(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192==(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new j},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}();const w7=_7;var C7=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&null!==e&&!(e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}();const Rx=C7;var Ox=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x7=function(){function n(){this.rsDecoder=new Nl(Vn.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(lr.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new g7(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var o=this.decodeBitMatrixParser(r,t);return o.setOther(new Rx(!0)),o}catch(s){throw null!==i?i:s}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,o,s,a=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),l=m7.getDataBlocks(c,a,u),f=0;try{for(var d=Ox(l),h=d.next();!h.done;h=d.next())f+=(p=h.value).getNumDataCodewords()}catch(L){r={error:L}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}var g=new Uint8Array(f),v=0;try{for(var m=Ox(l),_=m.next();!_.done;_=m.next()){var p,w=(p=_.value).getCodewords(),x=p.getNumDataCodewords();this.correctErrors(w,x);for(var R=0;R<x;R++)g[v++]=w[R]}}catch(L){o={error:L}}finally{try{_&&!_.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}return w7.decode(g,a,u,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new jt}for(var i=0;i<t;i++)e[i]=r[i]},n}();const E7=x7;var D7=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),A7=function(n){function e(t,r,i){var o=n.call(this,t,r)||this;return o.estimatedModuleSize=i,o}return D7(e,n),e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){return new e((this.getX()+r)/2,(this.getY()+t)/2,(this.estimatedModuleSize+i)/2)},e}(J);const S7=A7;var b7=function(){function n(e,t,r,i,o,s,a){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=o,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,i=e+this.width,o=this.startY+t/2,s=new Int32Array(3),a=this.image,u=0;u<t;u++){var c=o+(1&u?-Math.floor((u+1)/2):Math.floor((u+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var l=e;l<i&&!a.get(l,c);)l++;for(var f=0;l<i;){if(a.get(l,c))if(1===f)s[1]++;else if(2===f){var d;if(this.foundPatternCross(s)&&null!==(d=this.handlePossibleCenter(s,c,l)))return d;s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else 1===f&&f++,s[f]++;l++}if(this.foundPatternCross(s)&&null!==(d=this.handlePossibleCenter(s,c,i)))return d}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new N},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var o=this.image,s=o.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var u=e;u>=0&&o.get(t,u)&&a[1]<=r;)a[1]++,u--;if(u<0||a[1]>r)return NaN;for(;u>=0&&!o.get(t,u)&&a[0]<=r;)a[0]++,u--;if(a[0]>r)return NaN;for(u=e+1;u<s&&o.get(t,u)&&a[1]<=r;)a[1]++,u++;if(u===s||a[1]>r)return NaN;for(;u<s&&!o.get(t,u)&&a[2]<=r;)a[2]++,u++;return a[2]>r||5*Math.abs(a[0]+a[1]+a[2]-i)>=2*i?NaN:this.foundPatternCross(a)?n.centerFromEnd(a,u):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,o,s=e[0]+e[1]+e[2],a=n.centerFromEnd(e,r),u=this.crossCheckVertical(t,a,2*e[1],s);if(!isNaN(u)){var c=(e[0]+e[1]+e[2])/3;try{for(var l=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.possibleCenters),f=l.next();!f.done;f=l.next()){var d=f.value;if(d.aboutEquals(c,u,a))return d.combineEstimate(u,a,c)}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}var h=new S7(a,u,c);this.possibleCenters.push(h),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},n}();const T7=b7;var M7=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),R7=function(n){function e(t,r,i,o){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s.count=o,void 0===o&&(s.count=1),s}return M7(e,n),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var o=this.count+1;return new e((this.count*this.getX()+r)/o,(this.count*this.getY()+t)/o,(this.count*this.estimatedModuleSize+i)/o,o)},e}(J);const O7=R7;var N7=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}();const P7=N7;var uu=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F7=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=null!=e&&void 0!==e.get(Qe.TRY_HARDER),r=null!=e&&void 0!==e.get(Qe.PURE_BARCODE),i=this.image,o=i.getHeight(),s=i.getWidth(),a=Math.floor(3*o/(4*n.MAX_MODULES));(a<n.MIN_SKIP||t)&&(a=n.MIN_SKIP);for(var u=!1,c=new Int32Array(5),l=a-1;l<o&&!u;l+=a){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,d=0;d<s;d++)if(i.get(d,l))1==(1&f)&&f++,c[f]++;else if(1&f)c[f]++;else if(4===f)if(n.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,l,d,r)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}if(a=2,!0===this.hasSkipped)u=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>c[2]&&(l+=p-c[2]-a,d=s-1)}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;n.foundPatternCross(c)&&!0===this.handlePossibleCenter(c,l,s,r)&&(a=c[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}var g=this.selectBestPatterns();return J.orderBestPatterns(g),new P7(g)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(0===i)return!1;t+=i}if(t<7)return!1;var o=t/7,s=o/2;return Math.abs(o-e[0])<s&&Math.abs(o-e[1])<s&&Math.abs(3*o-e[2])<3*s&&Math.abs(o-e[3])<s&&Math.abs(o-e[4])<s},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var o=this.getCrossCheckStateCount(),s=0,a=this.image;e>=s&&t>=s&&a.get(t-s,e-s);)o[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!a.get(t-s,e-s)&&o[1]<=r;)o[1]++,s++;if(e<s||t<s||o[1]>r)return!1;for(;e>=s&&t>=s&&a.get(t-s,e-s)&&o[0]<=r;)o[0]++,s++;if(o[0]>r)return!1;var u=a.getHeight(),c=a.getWidth();for(s=1;e+s<u&&t+s<c&&a.get(t+s,e+s);)o[2]++,s++;if(e+s>=u||t+s>=c)return!1;for(;e+s<u&&t+s<c&&!a.get(t+s,e+s)&&o[3]<r;)o[3]++,s++;if(e+s>=u||t+s>=c||o[3]>=r)return!1;for(;e+s<u&&t+s<c&&a.get(t+s,e+s)&&o[4]<r;)o[4]++,s++;return!(o[4]>=r)&&Math.abs(o[0]+o[1]+o[2]+o[3]+o[4]-i)<2*i&&n.foundPatternCross(o)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var o=this.image,s=o.getHeight(),a=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(t,u);)a[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(t,u)&&a[1]<=r;)a[1]++,u--;if(u<0||a[1]>r)return NaN;for(;u>=0&&o.get(t,u)&&a[0]<=r;)a[0]++,u--;if(a[0]>r)return NaN;for(u=e+1;u<s&&o.get(t,u);)a[2]++,u++;if(u===s)return NaN;for(;u<s&&!o.get(t,u)&&a[3]<r;)a[3]++,u++;if(u===s||a[3]>=r)return NaN;for(;u<s&&o.get(t,u)&&a[4]<r;)a[4]++,u++;return a[4]>=r||5*Math.abs(a[0]+a[1]+a[2]+a[3]+a[4]-i)>=2*i?NaN:n.foundPatternCross(a)?n.centerFromEnd(a,u):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var o=this.image,s=o.getWidth(),a=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(u,t);)a[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,t)&&a[1]<=r;)a[1]++,u--;if(u<0||a[1]>r)return NaN;for(;u>=0&&o.get(u,t)&&a[0]<=r;)a[0]++,u--;if(a[0]>r)return NaN;for(u=e+1;u<s&&o.get(u,t);)a[2]++,u++;if(u===s)return NaN;for(;u<s&&!o.get(u,t)&&a[3]<r;)a[3]++,u++;if(u===s||a[3]>=r)return NaN;for(;u<s&&o.get(u,t)&&a[4]<r;)a[4]++,u++;return a[4]>=r||5*Math.abs(a[0]+a[1]+a[2]+a[3]+a[4]-i)>=i?NaN:n.foundPatternCross(a)?n.centerFromEnd(a,u):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],s=n.centerFromEnd(e,r),a=this.crossCheckVertical(t,Math.floor(s),e[2],o);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),e[2],o),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),e[2],o)))){for(var u=o/7,c=!1,l=this.possibleCenters,f=0,d=l.length;f<d;f++){var h=l[f];if(h.aboutEquals(u,a,s)){l[f]=h.combineEstimate(a,s,u),c=!0;break}}if(!c){var p=new O7(s,a,u);l.push(p),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t;if(this.possibleCenters.length<=1)return 0;var i=null;try{for(var o=uu(this.possibleCenters),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.getCount()>=n.CENTER_QUORUM){if(null!=i)return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);i=a}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,o=0,s=0,a=this.possibleCenters.length;try{for(var u=uu(this.possibleCenters),c=u.next();!c.done;c=u.next())(l=c.value).getCount()>=n.CENTER_QUORUM&&(o++,s+=l.getEstimatedModuleSize())}catch(g){e={error:g}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}if(o<3)return!1;var f=s/a,d=0;try{for(var h=uu(this.possibleCenters),p=h.next();!p.done;p=h.next()){var l=p.value;d+=Math.abs(l.getEstimatedModuleSize()-f)}}catch(g){r={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return d<=.05*s},n.prototype.selectBestPatterns=function(){var e,t,r,i,o=this.possibleCenters.length;if(o<3)throw new N;var a,s=this.possibleCenters;if(o>3){var u=0,c=0;try{for(var l=uu(this.possibleCenters),f=l.next();!f.done;f=l.next()){var h=f.value.getEstimatedModuleSize();u+=h,c+=h*h}}catch(R){e={error:R}}finally{try{f&&!f.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}a=u/o;var p=Math.sqrt(c/o-a*a);s.sort(function(R,L){var H=Math.abs(L.getEstimatedModuleSize()-a),Q=Math.abs(R.getEstimatedModuleSize()-a);return H<Q?-1:H>Q?1:0});for(var g=Math.max(.2*a,p),v=0;v<s.length&&s.length>3;v++)Math.abs(s[v].getEstimatedModuleSize()-a)>g&&(s.splice(v,1),v--)}if(s.length>3){u=0;try{for(var _=uu(s),w=_.next();!w.done;w=_.next())u+=w.value.getEstimatedModuleSize()}catch(L){r={error:L}}finally{try{w&&!w.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}a=u/s.length,s.sort(function(L,H){if(H.getCount()===L.getCount()){var Q=Math.abs(H.getEstimatedModuleSize()-a),Me=Math.abs(L.getEstimatedModuleSize()-a);return Q<Me?1:Q>Me?-1:0}return H.getCount()-L.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}();const L7=F7;var B7=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=null==e?null:e.get(Qe.NEED_RESULT_POINT_CALLBACK);var r=new L7(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(t,r,i);if(o<1)throw new N("No pattern found in proccess finder.");var s=n.computeDimension(t,r,i,o),a=go.getProvisionalVersionForDimension(s),u=a.getDimensionForVersion()-7,c=null;if(a.getAlignmentPatternCenters().length>0)for(var l=r.getX()-t.getX()+i.getX(),f=r.getY()-t.getY()+i.getY(),d=1-3/u,h=Math.floor(t.getX()+d*(l-t.getX())),p=Math.floor(t.getY()+d*(f-t.getY())),g=4;g<=16;g<<=1)try{c=this.findAlignmentInRegion(o,h,p,g);break}catch(w){if(!(w instanceof N))throw w}var v=n.createTransform(t,r,i,c,s),m=n.sampleGrid(this.image,v,s);return new r0(m,null===c?[i,t,r]:[i,t,r,c])},n.createTransform=function(e,t,r,i,o){var a,u,c,l,s=o-3.5;return null!==i?(a=i.getX(),u=i.getY(),l=c=s-3):(a=t.getX()-e.getX()+r.getX(),u=t.getY()-e.getY()+r.getY(),c=s,l=s),lx.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,c,l,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),a,u,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){return s0.getInstance().sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var o=We.round(J.distance(e,t)/i),s=We.round(J.distance(e,r)/i),a=Math.floor((o+s)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new N("Dimensions could be not found.")}return a},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var o=this.sizeOfBlackWhiteBlackRun(e,t,r,i),s=1,a=e-(r-e);a<0?(s=e/(e-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);var u=Math.floor(t-(i-t)*s);return s=1,u<0?(s=t/(t-u),u=0):u>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),a=Math.floor(e+(a-e)*s),(o+=this.sizeOfBlackWhiteBlackRun(e,t,a,u))-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var o=Math.abs(i-t)>Math.abs(r-e);if(o){var s=e;e=t,t=s,s=r,r=i,i=s}for(var a=Math.abs(r-e),u=Math.abs(i-t),c=-a/2,l=e<r?1:-1,f=t<i?1:-1,d=0,h=r+l,p=e,g=t;p!==h;p+=l){if(1===d===this.image.get(o?g:p,o?p:g)){if(2===d)return We.distance(p,g,e,t);d++}if((c+=u)>0){if(g===i)break;g+=f,c-=a}}return 2===d?We.distance(r+l,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var o=Math.floor(i*e),s=Math.max(0,t-o),a=Math.min(this.image.getWidth()-1,t+o);if(a-s<3*e)throw new N("Alignment top exceeds estimated module size.");var u=Math.max(0,r-o),c=Math.min(this.image.getHeight()-1,r+o);if(c-u<3*e)throw new N("Alignment bottom exceeds estimated module size.");return new T7(this.image,s,u,a-s,c-u,e,this.resultPointCallback).find()},n}();const k7=B7;var V7=function(){function n(){this.decoder=new E7}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(null!=t&&void 0!==t.get(Qe.PURE_BARCODE)){var o=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,t),i=n.NO_POINTS}else{var s=new k7(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(s.getBits(),t),i=s.getPoints()}r.getOther()instanceof Rx&&r.getOther().applyMirroredCorrection(i);var a=new kn(r.getText(),r.getRawBytes(),void 0,i,ne.QR_CODE,void 0),u=r.getByteSegments();null!==u&&a.putMetadata(un.BYTE_SEGMENTS,u);var c=r.getECLevel();return null!==c&&a.putMetadata(un.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(a.putMetadata(un.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),a.putMetadata(un.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),a},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===t||null===r)throw new N;var i=this.moduleSize(t,e),o=t[1],s=r[1],a=t[0],u=r[0];if(a>=u||o>=s)throw new N;if(s-o!=u-a&&(u=a+(s-o))>=e.getWidth())throw new N;var c=Math.round((u-a+1)/i),l=Math.round((s-o+1)/i);if(c<=0||l<=0)throw new N;if(l!==c)throw new N;var f=Math.floor(i/2);o+=f;var d=(a+=f)+Math.floor((c-1)*i)-u;if(d>0){if(d>f)throw new N;a-=d}var h=o+Math.floor((l-1)*i)-s;if(h>0){if(h>f)throw new N;o-=h}for(var p=new lr(c,l),g=0;g<l;g++)for(var v=o+Math.floor(g*i),m=0;m<c;m++)e.get(a+Math.floor(m*i),v)&&p.set(m,g);return p},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),o=e[0],s=e[1],a=!0,u=0;o<i&&s<r;){if(a!==t.get(o,s)){if(5==++u)break;a=!a}o++,s++}if(o===i||s===r)throw new N;return(o-e[0])/7},n.NO_POINTS=new Array,n}();const Ul=V7;var H7=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return We.sum(e)},n.toIntArray=function(e){var t,r;if(null==e||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var s=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=s.next();!a.done;a=s.next())i[o++]=a.value}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=Bn.binarySearch(n.SYMBOL_TABLE,262143&e);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.MAX_CODEWORDS_IN_BARCODE=(n.NUMBER_OF_CODEWORDS=929)-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}();const $e=H7;var j7=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}();const G7=j7;var $7=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z7=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),o=n.detect(r,i);return o.length||((i=i.clone()).rotate180(),o=n.detect(r,i)),new G7(i,o)},n.detect=function(e,t){for(var r,i,o=new Array,s=0,a=0,u=!1;s<t.getHeight();){var c=n.findVertices(t,s,a);if(null!=c[0]||null!=c[3]){if(u=!0,o.push(c),!e)break;null!=c[2]?(a=Math.trunc(c[2].getX()),s=Math.trunc(c[2].getY())):(a=Math.trunc(c[4].getX()),s=Math.trunc(c[4].getY()))}else{if(!u)break;u=!1,a=0;try{for(var l=(r=void 0,$7(o)),f=l.next();!f.done;f=l.next()){var d=f.value;null!=d[1]&&(s=Math.trunc(Math.max(s,d[1].getY()))),null!=d[3]&&(s=Math.max(s,Math.trunc(d[3].getY())))}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}s+=n.ROW_STEP}}return o},n.findVertices=function(e,t,r){var i=e.getHeight(),o=e.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(e,i,o,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),null!=s[4]&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(e,i,o,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,o,s){for(var a=new Array(4),u=!1,c=new Int32Array(s.length);i<t;i+=n.ROW_STEP)if(null!=(l=n.findGuardPattern(e,o,i,r,!1,s,c))){for(;i>0;){if(null==(f=n.findGuardPattern(e,o,--i,r,!1,s,c))){i++;break}l=f}a[0]=new J(l[0],i),a[1]=new J(l[1],i),u=!0;break}var d=i+1;if(u){for(var h=0,f=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);d<t;d++){var l;if(null!=(l=n.findGuardPattern(e,f[0],d,r,!1,s,c))&&Math.abs(f[0]-l[0])<n.MAX_PATTERN_DRIFT&&Math.abs(f[1]-l[1])<n.MAX_PATTERN_DRIFT)f=l,h=0;else{if(h>n.SKIPPED_ROW_COUNT_MAX)break;h++}}a[2]=new J(f[0],d-=h+1),a[3]=new J(f[1],d)}return d-i<n.BARCODE_MIN_HEIGHT&&Bn.fill(a,null),a},n.findGuardPattern=function(e,t,r,i,o,s,a){Bn.fillWithin(a,0,a.length,0);for(var u=t,c=0;e.get(u,r)&&u>0&&c++<n.MAX_PIXEL_DRIFT;)u--;for(var l=u,f=0,d=s.length,h=o;l<i;l++)if(e.get(l,r)!==h)a[f]++;else{if(f===d-1){if(n.patternMatchVariance(a,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([u,l]);u+=a[0]+a[1],ft.arraycopy(a,2,a,0,f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,h=!h}return f===d-1&&n.patternMatchVariance(a,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([u,l-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,o=0,s=0,a=0;a<i;a++)o+=e[a],s+=t[a];if(o<s)return 1/0;var u=o/s;r*=u;for(var c=0,l=0;l<i;l++){var f=e[l],d=t[l]*u,h=f>d?f-d:d-f;if(h>r)return 1/0;c+=h}return c/o},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}();const W7=z7;var q7=function(){function n(e,t){if(0===t.length)throw new X;this.field=e;var r=t.length;if(r>1&&0===t[0]){for(var i=1;i<r&&0===t[i];)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),ft.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return 0===this.coefficients[0]},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(0===e)return this.getCoefficient(0);if(1===e){var i=0;try{for(var o=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.coefficients),s=o.next();!s.done;s=o.next())i=this.field.add(i,s.value)}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}for(var u=this.coefficients[0],c=this.coefficients.length,l=1;l<c;l++)u=this.field.add(this.field.multiply(e,u),this.coefficients[l]);return u},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new X("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var o=new Int32Array(r.length),s=r.length-t.length;ft.arraycopy(r,0,o,0,s);for(var a=s;a<r.length;a++)o[a]=this.field.add(t[a-s],r[a]);return new n(this.field,o)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new X("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new X("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,o=i.length,s=new Int32Array(r+o-1),a=0;a<r;a++)for(var u=t[a],c=0;c<o;c++)s[a+c]=this.field.add(s[a+c],this.field.multiply(u,i[c]));return new n(this.field,s)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(0===e)return new n(this.field,new Int32Array([0]));if(1===e)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new X;if(0===t)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new rt,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);0!==r&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(0===t||1!==r)&&e.append(r),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}();const vo=q7;var Y7=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(0===e)throw new X;return this.logTable[e]},n.prototype.inverse=function(e){if(0===e)throw new ax;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}();const Z7=Y7;var K7=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Q7=function(n){function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var o=1,s=0;s<t;s++)i.expTable[s]=o,o=o*r%t;for(s=0;s<t-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new vo(i,new Int32Array([0])),i.one=new vo(i,new Int32Array([1])),i}return K7(e,n),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new X;if(0===r)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new vo(this,i)},e.PDF417_GF=new e($e.NUMBER_OF_CODEWORDS,3),e}(Z7);const J7=Q7;var tB=function(){function n(){this.field=J7.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,o,s=new vo(this.field,e),a=new Int32Array(t),u=!1,c=t;c>0;c--){var l=s.evaluateAt(this.field.exp(c));a[t-c]=l,0!==l&&(u=!0)}if(!u)return 0;var f=this.field.getOne();if(null!=r)try{for(var d=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),h=d.next();!h.done;h=d.next()){var g=this.field.exp(e.length-1-h.value),v=new vo(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(v)}}catch(Q){i={error:Q}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}var m=new vo(this.field,a),_=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),m,t),w=_[0],x=_[1],R=this.findErrorLocations(w),L=this.findErrorMagnitudes(x,w,R);for(c=0;c<R.length;c++){var H=e.length-1-this.field.log(R[c]);if(H<0)throw jt.getChecksumInstance();e[H]=this.field.subtract(e[H],L[c])}return R.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var o=e,s=t,a=this.field.getZero(),u=this.field.getOne();s.getDegree()>=Math.round(r/2);){var c=o,l=a;if(a=u,(o=s).isZero())throw jt.getChecksumInstance();s=c;for(var f=this.field.getZero(),d=o.getCoefficient(o.getDegree()),h=this.field.inverse(d);s.getDegree()>=o.getDegree()&&!s.isZero();){var p=s.getDegree()-o.getDegree(),g=this.field.multiply(s.getCoefficient(s.getDegree()),h);f=f.add(this.field.buildMonomial(p,g)),s=s.subtract(o.multiplyByMonomial(p,g))}u=f.multiply(a).subtract(l).negative()}var v=u.getCoefficient(0);if(0===v)throw jt.getChecksumInstance();var m=this.field.inverse(v);return[u.multiply(m),s.multiply(m)]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,o=1;o<this.field.getSize()&&i<t;o++)0===e.evaluateAt(o)&&(r[i]=this.field.inverse(o),i++);if(i!==t)throw jt.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),o=new Int32Array(i),s=1;s<=i;s++)o[i-s]=this.field.multiply(s,t.getCoefficient(s));var a=new vo(this.field,o),u=r.length,c=new Int32Array(u);for(s=0;s<u;s++){var l=this.field.inverse(r[s]),f=this.field.subtract(0,e.evaluateAt(l)),d=this.field.inverse(a.evaluateAt(l));c[s]=this.field.multiply(f,d)}return c},n}();const nB=tB;var rB=function(){function n(e,t,r,i,o){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,o)}return n.prototype.constructor_1=function(e,t,r,i,o){var s=null==t||null==r,a=null==i||null==o;if(s&&a)throw new N;s?(t=new J(0,i.getY()),r=new J(0,o.getY())):a&&(i=new J(e.getWidth()-1,t.getY()),o=new J(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return null==e?t:null==t?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,o=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,c=Math.trunc(u.getY()-e);c<0&&(c=0);var l=new J(u.getX(),c);r?i=l:s=l}if(t>0){var f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+t);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new J(f.getX(),d);r?o=h:a=h}return new n(this.image,i,o,s,a)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}();const d0=rB;var iB=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}();const oB=iB;var sB=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function i(s,a,u,c,l,f){if("%%"===s)return"%";if(void 0!==t[++r]){s=c?parseInt(c.substr(1)):void 0;var h,d=l?parseInt(l.substr(1)):void 0;switch(f){case"s":h=t[r];break;case"c":h=t[r][0];break;case"f":h=parseFloat(t[r]).toFixed(s);break;case"p":h=parseFloat(t[r]).toPrecision(s);break;case"e":h=parseFloat(t[r]).toExponential(s);break;case"x":h=parseInt(t[r]).toString(d||16);break;case"d":h=parseFloat(parseInt(t[r],d||10).toPrecision(s)).toFixed(0)}h="object"==typeof h?JSON.stringify(h):(+h).toString(d);for(var p=parseInt(u),g=u&&u[0]+""=="0"?"0":" ";h.length<p;)h=void 0!==a?h+g:g+h;return h}})},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}();const h0=sB;var uB=function(){function n(e){this.boundingBox=new d0(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(null!=t)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&null!=(t=this.codewords[i])||(i=this.imageRowToCodewordIndex(e)+r)<this.codewords.length&&null!=(t=this.codewords[i]))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new h0,i=0;try{for(var o=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.codewords),s=o.next();!s.done;s=o.next()){var a=s.value;null!=a?r.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue()):r.format("%3d:    |   %n",i++)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}();const Nx=uB;var lB=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var i,s,r=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o},fB=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,o=function(f,d){var h_getKey=function(){return f},h_getValue=function(){return d};h_getValue()>r?(r=h_getValue(),(i=[]).push(h_getKey())):h_getValue()===r&&i.push(h_getKey())};try{for(var s=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.values.entries()),a=s.next();!a.done;a=s.next()){var u=lB(a.value,2);o(u[0],u[1])}}catch(f){e={error:f}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return $e.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}();const cu=fB;var dB=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),p0=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hB=function(n){function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return dB(e,n),e.prototype.setRowNumbers=function(){var t,r;try{for(var i=p0(this.getCodewords()),o=i.next();!o.done;o=i.next())o.value?.setRowNumberAsRowIndicatorColumn()}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=-1,l=1,f=0,d=a;d<u;d++)if(null!=r[d]){var h=r[d],p=h.getRowNumber()-c;if(0===p)f++;else if(1===p)l=Math.max(l,f),f=1,c=h.getRowNumber();else if(p<0||h.getRowNumber()>=t.getRowCount()||p>d)r[d]=null;else{for(var g,v=(g=l>2?(l-2)*p:p)>=d,m=1;m<=g&&!v;m++)v=null!=r[d-m];v?r[d]=null:(c=h.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(null==i)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var s=p0(this.getCodewords()),a=s.next();!a.done;a=s.next()){var u=a.value;if(null!=u){var c=u.getRowNumber();if(c>=o.length)continue;o[c]++}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.getCodewords(),c=-1,l=1,f=0,d=s;d<a;d++)if(null!=u[d]){var h=u[d];h.setRowNumberAsRowIndicatorColumn();var p=h.getRowNumber()-c;0===p?f++:1===p?(l=Math.max(l,f),f=1,c=h.getRowNumber()):h.getRowNumber()>=t.getRowCount()?u[d]=null:(c=h.getRowNumber(),f=1)}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),o=new cu,s=new cu,a=new cu,u=new cu;try{for(var c=p0(i),l=c.next();!l.done;l=c.next()){var f=l.value;if(null!=f){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:s.setValue(3*d+1);break;case 1:u.setValue(d/3),a.setValue(d%3);break;case 2:o.setValue(d+1)}}}}catch(g){t={error:g}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if(0===o.getValue().length||0===s.getValue().length||0===a.getValue().length||0===u.getValue().length||o.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<$e.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>$e.MAX_ROWS_IN_BARCODE)return null;var p=new oB(o.getValue()[0],s.getValue()[0],a.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,p),p},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var o=t[i];if(null!=t[i]){var s=o.getValue()%30,a=o.getRowNumber();if(a>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:3*s+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+n.prototype.toString.call(this)},e}(Nx);const Px=hB;var gB=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t,e=$e.MAX_CODEWORDS_IN_BARCODE;do{t=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(0===e)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)null!=r[i]&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(null!=e[r]&&null!=t[r]&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[r];null!=o&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}},n.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(null!=t[r])for(var i=t[r].getRowNumber(),o=0,s=this.barcodeColumnCount+1;s>0&&o<this.ADJUST_ROW_NUMBER_SKIP;s--){var a=this.detectionResultColumns[s].getCodewords()[r];null!=a&&(o=n.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(null!=t[r])for(var i=t[r].getRowNumber(),o=0,s=1;s<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;s++){var a=this.detectionResultColumns[s].getCodewords()[r];null!=a&&(o=n.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,o;if(null!=this.detectionResultColumns[e-1]){var s=r[t],a=this.detectionResultColumns[e-1].getCodewords(),u=a;null!=this.detectionResultColumns[e+1]&&(u=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=a[t],c[3]=u[t],t>0&&(c[0]=r[t-1],c[4]=a[t-1],c[5]=u[t-1]),t>1&&(c[8]=r[t-2],c[10]=a[t-2],c[11]=u[t-2]),t<r.length-1&&(c[1]=r[t+1],c[6]=a[t+1],c[7]=u[t+1]),t<r.length-2&&(c[9]=r[t+2],c[12]=a[t+2],c[13]=u[t+2]);try{for(var l=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),f=l.next();!f.done;f=l.next())if(n.adjustRowNumber(s,f.value))return}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return!(null==t||!t.hasValidRowNumber()||t.getBucket()!==e.getBucket()||(e.setRowNumber(t.getRowNumber()),0))},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new h0,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++)if(null!=this.detectionResultColumns[i]){var o=this.detectionResultColumns[i].getCodewords()[r];null!=o?t.format(" %3d|%3d",o.getRowNumber(),o.getValue()):t.format("    |   ")}else t.format("    |   ");t.format("%n")}return t.toString()},n}();const vB=gB;var mB=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}();const yB=mB;var _B=function(){function n(){}return n.initialize=function(){for(var e=0;e<$e.SYMBOL_TABLE.length;e++)for(var t=$e.SYMBOL_TABLE[e],r=1&t,i=0;i<$e.BARS_IN_MODULE;i++){for(var o=0;(1&t)===r;)o+=1,t>>=1;r=1&t,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array($e.BARS_IN_MODULE)),n.RATIOS_TABLE[e][$e.BARS_IN_MODULE-i-1]=Math.fround(o/$e.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return-1!==t?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=We.sum(e),r=new Int32Array($e.BARS_IN_MODULE),i=0,o=0,s=0;s<$e.MODULES_IN_CODEWORD;s++)o+e[i]<=t/(2*$e.MODULES_IN_CODEWORD)+s*t/$e.MODULES_IN_CODEWORD&&(o+=e[i],i++),r[i]++;return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return-1===$e.getCodeword(t)?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2==0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=We.sum(e),r=new Array($e.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var o=n0.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var a=0;a<n.RATIOS_TABLE.length;a++){for(var u=0,c=n.RATIOS_TABLE[a],l=0;l<$e.BARS_IN_MODULE;l++){var f=Math.fround(c[l]-r[l]);if((u+=Math.fround(f*f))>=o)break}u<o&&(o=u,s=$e.SYMBOL_TABLE[a])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array($e.SYMBOL_TABLE.length).map(function(e){return new Array($e.BARS_IN_MODULE)}),n}();const wB=_B;var CB=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}();const xB=CB;var EB=function(){function n(){}return n.parseLong=function(e,t){return void 0===t&&(t=void 0),parseInt(e,t)},n}();const Fx=EB;var DB=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),AB=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return DB(e,n),e.kind="NullPointerException",e}(Ln);const SB=AB;var IB=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(null==e)throw new SB;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new t0;if(0!==r)for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}();const bB=IB;var TB=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),MB=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return TB(e,n),e}(Ln);const RB=MB;var OB=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),NB=function(n){function e(t){void 0===t&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new X("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return OB(e,n),e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new RB;i=Ve.MAX_VALUE}this.buf=Bn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new t0;this.ensureCapacity(this.count+i),ft.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Bn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?"string"==typeof t?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(bB);const PB=NB;var Hl,nt=(()=>(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(nt||(nt={})),nt))();function Lx(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function Fi(n){if(typeof Hl>"u"&&(Hl=Lx()),null===Hl)throw new Error("BigInt is not supported!");return Hl(n)}var LB=function(){function n(){}return n.decode=function(e,t){var r=new rt(""),i=qt.ISO8859_1;r.enableDecoding(i);for(var o=1,s=e[o++],a=new xB;o<e[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:o=n.textCompaction(e,o,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:o=n.byteCompaction(s,e,i,o,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:o=n.numericCompaction(e,o,r);break;case n.ECI_CHARSET:qt.getCharacterSetECIByValue(e[o++]);break;case n.ECI_GENERAL_PURPOSE:o+=2;break;case n.ECI_USER_DEFINED:o++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=n.decodeMacroBlock(e,o,a);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new j;default:o--,o=n.textCompaction(e,o,r)}if(!(o<e.length))throw j.getFormatInstance();s=e[o++]}if(0===r.length())throw j.getFormatInstance();var c=new Rl(null,r.toString(),null,t);return c.setOther(a),c},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw j.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<n.NUMBER_OF_SEQUENCE_CODEWORDS;o++,t++)i[o]=e[t];r.setSegmentIndex(Ve.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new rt;t=n.textCompaction(e,t,s),r.setFileId(s.toString());var a=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new rt;t=n.textCompaction(e,t+1,u),r.setFileName(u.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new rt;t=n.textCompaction(e,t+1,c),r.setSender(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var l=new rt;t=n.textCompaction(e,t+1,l),r.setAddressee(l.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new rt;t=n.numericCompaction(e,t+1,f),r.setSegmentCount(Ve.parseInt(f.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new rt;t=n.numericCompaction(e,t+1,d),r.setTimestamp(Fx.parseLong(d.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new rt;t=n.numericCompaction(e,t+1,h),r.setChecksum(Ve.parseInt(h.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new rt;t=n.numericCompaction(e,t+1,p),r.setFileSize(Fx.parseLong(p.toString()));break;default:throw j.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(-1!==a){var g=t-a;r.isLastSegment()&&g--,r.setOptionalData(Bn.copyOfRange(e,a,a+g))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array(2*(e[0]-t)),o=new Int32Array(2*(e[0]-t)),s=0,a=!1;t<e[0]&&!a;){var u=e[t++];if(u<n.TEXT_COMPACTION_MODE_LATCH)i[s]=u/30,i[s+1]=u%30,s+=2;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],o[s]=u,s++}}return n.decodeTextCompaction(i,o,s,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var o=nt.ALPHA,s=nt.ALPHA,a=0;a<r;){var u=e[a],c="";switch(o){case nt.ALPHA:if(u<26)c=String.fromCharCode(65+u);else switch(u){case 26:c=" ";break;case n.LL:o=nt.LOWER;break;case n.ML:o=nt.MIXED;break;case n.PS:s=o,o=nt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=nt.ALPHA}break;case nt.LOWER:if(u<26)c=String.fromCharCode(97+u);else switch(u){case 26:c=" ";break;case n.AS:s=o,o=nt.ALPHA_SHIFT;break;case n.ML:o=nt.MIXED;break;case n.PS:s=o,o=nt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=nt.ALPHA}break;case nt.MIXED:if(u<n.PL)c=n.MIXED_CHARS[u];else switch(u){case n.PL:o=nt.PUNCT;break;case 26:c=" ";break;case n.LL:o=nt.LOWER;break;case n.AL:o=nt.ALPHA;break;case n.PS:s=o,o=nt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=nt.ALPHA}break;case nt.PUNCT:if(u<n.PAL)c=n.PUNCT_CHARS[u];else switch(u){case n.PAL:o=nt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=nt.ALPHA}break;case nt.ALPHA_SHIFT:if(o=s,u<26)c=String.fromCharCode(65+u);else switch(u){case 26:c=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:o=nt.ALPHA}break;case nt.PUNCT_SHIFT:if(o=s,u<n.PAL)c=n.PUNCT_CHARS[u];else switch(u){case n.PAL:o=nt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=nt.ALPHA}}""!==c&&i.append(c),a++}},n.byteCompaction=function(e,t,r,i,o){var s=new PB,a=0,u=0,c=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var l=new Int32Array(6),f=t[i++];i<t[0]&&!c;)switch(l[a++]=f,u=900*u+f,f=t[i++],f){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(a%5==0&&a>0){for(var d=0;d<6;++d)s.write(Number(Fi(u)>>Fi(8*(5-d))));u=0,a=0}}i===t[0]&&f<n.TEXT_COMPACTION_MODE_LATCH&&(l[a++]=f);for(var h=0;h<a;h++)s.write(l[h]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!c;){var p=t[i++];if(p<n.TEXT_COMPACTION_MODE_LATCH)a++,u=900*u+p;else switch(p){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,c=!0}if(a%5==0&&a>0){for(d=0;d<6;++d)s.write(Number(Fi(u)>>Fi(8*(5-d))));u=0,a=0}}}return o.append(zr.decode(s.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,o=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!o;){var a=e[t++];if(t===e[0]&&(o=!0),a<n.TEXT_COMPACTION_MODE_LATCH)s[i]=a,i++;else switch(a){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,o=!0}(i%n.MAX_NUMERIC_CODEWORDS==0||a===n.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=Fi(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*Fi(e[i]);var o=r.toString();if("1"!==o.charAt(0))throw new j;return o.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",n.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",n.EXP900=Lx()?function FB(){var n=[];n[0]=Fi(1);var e=Fi(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}();const BB=LB;var lu=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kB=function(){function n(){}return n.decode=function(e,t,r,i,o,s,a){for(var f,u=new d0(e,t,r,i,o),c=null,l=null,d=!0;;d=!1){if(null!=t&&(c=n.getRowIndicatorColumn(e,u,t,!0,s,a)),null!=i&&(l=n.getRowIndicatorColumn(e,u,i,!1,s,a)),null==(f=n.merge(c,l)))throw N.getNotFoundInstance();var h=f.getBoundingBox();if(!d||null==h||!(h.getMinY()<u.getMinY()||h.getMaxY()>u.getMaxY()))break;u=h}f.setBoundingBox(u);var p=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(p,l);for(var g=null!=c,v=1;v<=p;v++){var m=g?v:p-v;if(void 0===f.getDetectionResultColumn(m)){var _=void 0;_=0===m||m===p?new Px(u,0===m):new Nx(u),f.setDetectionResultColumn(m,_);for(var w=-1,x=w,R=u.getMinY();R<=u.getMaxY();R++){if((w=n.getStartColumn(f,m,R,g))<0||w>u.getMaxX()){if(-1===x)continue;w=x}var L=n.detectCodeword(e,u.getMinX(),u.getMaxX(),g,w,R,s,a);null!=L&&(_.setCodeword(R,L),x=w,s=Math.min(s,L.getWidth()),a=Math.max(a,L.getWidth()))}}}return n.createDecoderResult(f)},n.merge=function(e,t){if(null==e&&null==t)return null;var r=n.getBarcodeMetadata(e,t);if(null==r)return null;var i=d0.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new vB(r,i)},n.adjustBoundingBox=function(e){var t,r;if(null==e)return null;var i=e.getRowHeights();if(null==i)return null;var o=n.getMax(i),s=0;try{for(var a=lu(i),u=a.next();!u.done;u=a.next()){var c=u.value;if(s+=o-c,c>0)break}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}for(var l=e.getCodewords(),f=0;s>0&&null==l[f];f++)s--;var d=0;for(f=i.length-1;f>=0&&(d+=o-i[f],!(i[f]>0));f--);for(f=l.length-1;d>0&&null==l[f];f--)d--;return e.getBoundingBox().addMissingRows(s,d,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var o=lu(e),s=o.next();!s.done;s=o.next())i=Math.max(i,s.value)}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r,i;return null==e||null==(r=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(i=t.getBarcodeMetadata())?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,o,s){for(var a=new Px(t,i),u=0;u<2;u++)for(var c=0===u?1:-1,l=Math.trunc(Math.trunc(r.getX())),f=Math.trunc(Math.trunc(r.getY()));f<=t.getMaxY()&&f>=t.getMinY();f+=c){var d=n.detectCodeword(e,0,e.getWidth(),i,l,f,o,s);null!=d&&(a.setCodeword(f,d),l=i?d.getStartX():d.getEndX())}return a},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===i.length){if(o<1||o>$e.MAX_CODEWORDS_IN_BARCODE)throw N.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],s=new Array,a=0;a<e.getBarcodeRowCount();a++)for(var u=0;u<e.getBarcodeColumnCount();u++){var c=t[a][u+1].getValue(),l=a*e.getBarcodeColumnCount()+u;0===c.length?r.push(l):1===c.length?i[l]=c[0]:(s.push(l),o.push(c))}for(var f=new Array(o.length),d=0;d<f.length;d++)f[d]=o[d];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,$e.toIntArray(r),$e.toIntArray(s),f)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,o){for(var s=new Int32Array(i.length),a=100;a-- >0;){for(var u=0;u<s.length;u++)t[i[u]]=o[u][s[u]];try{return n.decodeCodewords(t,e,r)}catch(l){if(!(l instanceof jt))throw l}if(0===s.length)throw jt.getChecksumInstance();for(u=0;u<s.length;u++){if(s[u]<o[u].length-1){s[u]++;break}if(s[u]=0,u===s.length-1)throw jt.getChecksumInstance()}}throw jt.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,o,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),a=0;a<s.length;a++)for(var u=0;u<s[a].length;u++)s[a][u]=new cu;var c=0;try{for(var l=lu(e.getDetectionResultColumns()),f=l.next();!f.done;f=l.next()){var d=f.value;if(null!=d)try{for(var h=(i=void 0,lu(d.getCodewords())),p=h.next();!p.done;p=h.next()){var g=p.value;if(null!=g){var v=g.getRowNumber();if(v>=0){if(v>=s.length)continue;s[v][c].setValue(g.getValue())}}}}catch(m){i={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}c++}}catch(m){t={error:m}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return s},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var o,s,a=i?1:-1,u=null;if(n.isValidBarcodeColumn(e,t-a)&&(u=e.getDetectionResultColumn(t-a).getCodeword(r)),null!=u)return i?u.getEndX():u.getStartX();if(null!=(u=e.getDetectionResultColumn(t).getCodewordNearby(r)))return i?u.getStartX():u.getEndX();if(n.isValidBarcodeColumn(e,t-a)&&(u=e.getDetectionResultColumn(t-a).getCodewordNearby(r)),null!=u)return i?u.getEndX():u.getStartX();for(var c=0;n.isValidBarcodeColumn(e,t-a);){t-=a;try{for(var l=(o=void 0,lu(e.getDetectionResultColumn(t).getCodewords())),f=l.next();!f.done;f=l.next()){var d=f.value;if(null!=d)return(i?d.getEndX():d.getStartX())+a*c*(d.getEndX()-d.getStartX())}}catch(h){o={error:h}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,o,s,a,u){o=n.adjustCodewordStartColumn(e,t,r,i,o,s);var c=n.getModuleBitCount(e,t,r,i,o,s);if(null==c)return null;var l,f=We.sum(c);if(i)l=o+f;else{for(var d=0;d<c.length/2;d++){var h=c[d];c[d]=c[c.length-1-d],c[c.length-1-d]=h}o=(l=o)-f}if(!n.checkCodewordSkew(f,a,u))return null;var p=wB.getDecodedValue(c),g=$e.getCodeword(p);return-1===g?null:new yB(o,l,n.getCodewordBucketNumber(p),g)},n.getModuleBitCount=function(e,t,r,i,o,s){for(var a=o,u=new Int32Array(8),c=0,l=i?1:-1,f=i;(i?a<r:a>=t)&&c<u.length;)e.get(a,s)===f?(u[c]++,a+=l):(c++,f=!f);return c===u.length||a===(i?r:t)&&c===u.length-1?u:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,o,s){for(var a=o,u=i?-1:1,c=0;c<2;c++){for(;(i?a>=t:a<r)&&i===e.get(a,s);){if(Math.abs(o-a)>n.CODEWORD_SKEW_SIZE)return o;a+=u}u=-u,i=!i}return a},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(0===e.length)throw j.getFormatInstance();var i=1<<t+1,o=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var s=BB.decode(e,""+t);return s.setErrorsCorrected(o),s.setErasures(r.length),s},n.correctErrors=function(e,t,r){if(null!=t&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw jt.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw j.getFormatInstance();var r=e[0];if(r>e.length)throw j.getFormatInstance();if(0===r){if(!(t<e.length))throw j.getFormatInstance();e[0]=e.length-t}},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((1&e)!==r&&(r=1&e,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new h0,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var o=e[r][i];0===o.getValue().length?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new nB,n}();const VB=kB;var HB=function(){function n(){}return n.prototype.decode=function(e,t){void 0===t&&(t=null);var r=n.decode(e,t,!1);if(null==r||0===r.length||null==r[0])throw N.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){void 0===t&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof j||r instanceof jt?N.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,o,s=new Array,a=W7.detectMultiple(e,t,r);try{for(var u=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a.getPoints()),c=u.next();!c.done;c=u.next()){var l=c.value,f=VB.decode(a.getBits(),l[4],l[5],l[6],l[7],n.getMinCodewordWidth(l),n.getMaxCodewordWidth(l)),d=new kn(f.getText(),f.getRawBytes(),void 0,l,ne.PDF_417);d.putMetadata(un.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();null!=h&&d.putMetadata(un.PDF417_EXTRA_METADATA,h),s.push(d)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s.map(function(p){return p})},n.getMaxWidth=function(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return null==e||null==t?Ve.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}();const jl=HB;var jB=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),GB=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return jB(e,n),e.kind="ReaderException",e}(Ln);const Bx=GB;var kx=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$B=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return null==this.readers&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=null!=e&&void 0!==e.get(Qe.TRY_HARDER),r=null==e?null:e.get(Qe.POSSIBLE_FORMATS),i=new Array;if(null!=r){var o=r.some(function(s){return s===ne.UPC_A||s===ne.UPC_E||s===ne.EAN_13||s===ne.EAN_8||s===ne.CODABAR||s===ne.CODE_39||s===ne.CODE_93||s===ne.CODE_128||s===ne.ITF||s===ne.RSS_14||s===ne.RSS_EXPANDED});o&&!t&&i.push(new As(e)),r.includes(ne.QR_CODE)&&i.push(new Ul),r.includes(ne.DATA_MATRIX)&&i.push(new Vl),r.includes(ne.AZTEC)&&i.push(new Pl),r.includes(ne.PDF_417)&&i.push(new jl),o&&t&&i.push(new As(e))}0===i.length&&(t||i.push(new As(e)),i.push(new Ul),i.push(new Vl),i.push(new Pl),i.push(new jl),t&&i.push(new As(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(null!==this.readers)try{for(var r=kx(this.readers),i=r.next();!i.done;i=r.next())i.value.reset()}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(null===this.readers)throw new Bx("No readers where selected, nothing can be read.");try{for(var i=kx(this.readers),o=i.next();!o.done;o=i.next()){var s=o.value;try{return s.decode(e,this.hints)}catch(a){if(a instanceof Bx)continue}}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new N("No MultiFormat Readers were able to detect the code.")},n}();const Vx=$B;var zB=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),WB=(function(n){function e(t,r){void 0===t&&(t=null),void 0===r&&(r=500);var o=new Vx;return o.setHints(t),n.call(this,o,r)||this}zB(e,n),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)}}(Cs),function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}()),XB=(function(n){WB(function e(t){return void 0===t&&(t=500),n.call(this,new jl,t)||this},n)}(Cs),function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}()),Gl=(function(n){XB(function e(t){return void 0===t&&(t=500),n.call(this,new Ul,t)||this},n)}(Cs),(()=>(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.MIN_SIZE=3]="MIN_SIZE",n[n.MAX_SIZE=4]="MAX_SIZE",n[n.MARGIN=5]="MARGIN",n[n.PDF417_COMPACT=6]="PDF417_COMPACT",n[n.PDF417_COMPACTION=7]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=9]="AZTEC_LAYERS",n[n.QR_VERSION=10]="QR_VERSION"}(Gl||(Gl={})),Gl))());const dt=Gl;var qB=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Oi(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,o=t.length;o<=e;o++){var s=r.multiply(new Oi(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));t.push(s),r=s}return t[e]},n.prototype.encode=function(e,t){if(0===t)throw new X("No error correction bytes");var r=e.length-t;if(r<=0)throw new X("No data bytes provided");var i=this.buildGenerator(t),o=new Int32Array(r);ft.arraycopy(e,0,o,0,r);for(var s=new Oi(this.field,o),u=(s=s.multiplyByMonomial(t,1)).divide(i)[1].getCoefficients(),c=t-u.length,l=0;l<c;l++)e[r+l]=0;ft.arraycopy(u,0,e,r+c,u.length)},n}();const Ux=qB;var YB=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o-1;s++)for(var a=r[s],u=0;u<i-1;u++){var c=a[u];c===a[u+1]&&c===r[s+1][u]&&c===r[s+1][u+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=0;a<i;a++){var u=r[s];a+6<i&&1===u[a]&&0===u[a+1]&&1===u[a+2]&&1===u[a+3]&&1===u[a+4]&&0===u[a+5]&&1===u[a+6]&&(n.isWhiteHorizontal(u,a-4,a)||n.isWhiteHorizontal(u,a+7,a+11))&&t++,s+6<o&&1===r[s][a]&&0===r[s+1][a]&&1===r[s+2][a]&&1===r[s+3][a]&&1===r[s+4][a]&&0===r[s+5][a]&&1===r[s+6][a]&&(n.isWhiteVertical(r,a,s-4,s)||n.isWhiteVertical(r,a,s+7,s+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(1===e[i])return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var o=r;o<i;o++)if(1===e[o][t])return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=r[s],u=0;u<i;u++)1===a[u]&&t++;var c=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-c)/c)*n.N4},n.getDataMaskBit=function(e,t,r){var i,o;switch(e){case 0:i=r+t&1;break;case 1:i=1&r;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:i=(1&(o=r*t))+o%3;break;case 6:i=(1&(o=r*t))+o%3&1;break;case 7:i=(o=r*t)%3+(r+t&1)&1;break;default:throw new X("Invalid mask pattern: "+e)}return 0===i},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),s=e.getArray(),a=0;a<i;a++){for(var u=0,c=-1,l=0;l<o;l++){var f=t?s[a][l]:s[l][a];f===c?u++:(u>=5&&(r+=n.N1+(u-5)),u=1,c=f)}u>=5&&(r+=n.N1+(u-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}();const fu=YB;var KB=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.bytes),o=i.next();!o.done;o=i.next())Bn.fill(o.value,e)}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var o=this.bytes[r],s=t.bytes[r],a=0,u=this.width;a<u;++a)if(o[a]!==s[a])return!1;return!0},n.prototype.toString=function(){for(var e=new rt,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],o=0,s=this.width;o<s;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()},n}();const QB=KB;var JB=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new rt;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}();const g0=JB;var e9=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),t9=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return e9(e,n),e.kind="WriterException",e}(Ln);const gt=t9;var n9=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,o){n.clearMatrix(o),n.embedBasicPatterns(r,o),n.embedTypeInfo(t,i,o),n.maybeEmbedVersionInfo(r,o),n.embedDataBits(e,i,o)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new Qt;n.makeTypeInfoBits(e,t,i);for(var o=0,s=i.getSize();o<s;++o){var a=i.get(i.getSize()-1-o),u=n.TYPE_INFO_COORDINATES[o];if(r.setBoolean(u[0],u[1],a),o<8){var f=r.getWidth()-o-1;r.setBoolean(f,d=8,a)}else{f=8;var d=r.getHeight()-7+(o-8);r.setBoolean(f,d,a)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new Qt;n.makeVersionInfoBits(e,r);for(var i=17,o=0;o<6;++o)for(var s=0;s<3;++s){var a=r.get(i);i--,t.setBoolean(o,t.getHeight()-11+s,a),t.setBoolean(t.getHeight()-11+s,o,a)}}},n.embedDataBits=function(e,t,r){for(var i=0,o=-1,s=r.getWidth()-1,a=r.getHeight()-1;s>0;){for(6===s&&(s-=1);a>=0&&a<r.getHeight();){for(var u=0;u<2;++u){var c=s-u;if(n.isEmpty(r.get(c,a))){var l=void 0;i<e.getSize()?(l=e.get(i),++i):l=!1,255!==t&&fu.getDataMaskBit(t,c,a)&&(l=!l),r.setBoolean(c,a,l)}}a+=o}a+=o=-o,s-=2}if(i!==e.getSize())throw new gt("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-Ve.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(0===t)throw new X("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!g0.isValidMaskPattern(t))throw new gt("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var o=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(o,10);var s=new Qt;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),15!==r.getSize())throw new gt("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),18!==t.getSize())throw new gt("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return 255===e},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(0===e.get(8,e.getHeight()-8))throw new gt;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new gt;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new gt;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var o=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,t+i,o[s])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var o=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,t+i,o[s])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e),n.embedHorizontalSeparationPattern(0,7,e),n.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),n.embedVerticalSeparationPattern(7,0,e),n.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),n.embedVerticalSeparationPattern(7,e.getHeight()-7,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,s=i.length;o!==s;o++){var a=i[o];if(a>=0)for(var u=0;u!==s;u++){var c=i[u];c>=0&&n.isEmpty(t.get(c,a))&&n.embedPositionAdjustmentPattern(c-2,a-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}();const Hx=n9;var r9=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}();const i9=r9;var jx=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o9=function(){function n(){}return n.calculateMaskPenalty=function(e){return fu.applyMaskPenaltyRule1(e)+fu.applyMaskPenaltyRule2(e)+fu.applyMaskPenaltyRule3(e)+fu.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){void 0===r&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,o=null!==r&&void 0!==r.get(dt.CHARACTER_SET);o&&(i=r.get(dt.CHARACTER_SET).toString());var s=this.chooseMode(e,i),a=new Qt;if(s===pt.BYTE&&(o||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=qt.getCharacterSetECIByName(i);void 0!==u&&this.appendECI(u,a)}this.appendModeInfo(s,a);var l,c=new Qt;if(this.appendBytes(e,s,c,i),null!==r&&void 0!==r.get(dt.QR_VERSION)){var f=Number.parseInt(r.get(dt.QR_VERSION).toString(),10);l=go.getVersionForNumber(f);var d=this.calculateBitsNeeded(s,a,c,l);if(!this.willFit(d,l,t))throw new gt("Data too big for requested version")}else l=this.recommendVersion(t,s,a,c);var h=new Qt;h.appendBitArray(a);var p=s===pt.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(p,l,s,h),h.appendBitArray(c);var g=l.getECBlocksForLevel(t),v=l.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(v,h);var m=this.interleaveWithECBytes(h,l.getTotalCodewords(),v,g.getNumBlocks()),_=new g0;_.setECLevel(t),_.setMode(s),_.setVersion(l);var w=l.getDimensionForVersion(),x=new QB(w,w),R=this.chooseMaskPattern(m,t,l,x);return _.setMaskPattern(R),Hx.buildMatrix(m,t,l,R,x),_.setMatrix(x),_},n.recommendVersion=function(e,t,r,i){var o=this.calculateBitsNeeded(t,r,i,go.getVersionForNumber(1)),s=this.chooseVersion(o,e),a=this.calculateBitsNeeded(t,r,i,s);return this.chooseVersion(a,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(void 0===t&&(t=null),qt.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return pt.KANJI;for(var r=!1,i=!1,o=0,s=e.length;o<s;++o){var a=e.charAt(o);if(n.isDigit(a))r=!0;else{if(-1===this.getAlphanumericCode(a.charCodeAt(0)))return pt.BYTE;i=!0}}return i?pt.ALPHANUMERIC:r?pt.NUMERIC:pt.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=zr.encode(e,qt.SJIS)}catch{return!1}var r=t.length;if(r%2!=0)return!1;for(var i=0;i<r;i+=2){var o=255&t[i];if((o<129||o>159)&&(o<224||o>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var o=Number.MAX_SAFE_INTEGER,s=-1,a=0;a<g0.NUM_MASK_PATTERNS;a++){Hx.buildMatrix(e,t,r,a,i);var u=this.calculateMaskPenalty(i);u<o&&(o=u,s=a)}return s},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=go.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new gt("Data too big")},n.willFit=function(e,t,r){return t.getTotalCodewords()-t.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8},n.terminateBits=function(e,t){var r=8*e;if(t.getSize()>r)throw new gt("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var o=7&t.getSize();if(o>0)for(i=o;i<8;i++)t.appendBit(!1);var s=e-t.getSizeInBytes();for(i=0;i<s;++i)t.appendBits(1&i?17:236,8);if(t.getSize()!==r)throw new gt("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,o,s){if(i>=r)throw new gt("Block ID too large");var a=e%r,u=r-a,c=Math.floor(e/r),l=c+1,f=Math.floor(t/r),d=f+1,h=c-f,p=l-d;if(h!==p)throw new gt("EC bytes mismatch");if(r!==u+a)throw new gt("RS blocks mismatch");if(e!==(f+h)*u+(d+p)*a)throw new gt("Total bytes mismatch");i<u?(o[0]=f,s[0]=h):(o[0]=d,s[0]=p)},n.interleaveWithECBytes=function(e,t,r,i){var o,s,a,u;if(e.getSizeInBytes()!==r)throw new gt("Number of bits and data bytes does not match");for(var c=0,l=0,f=0,d=new Array,h=0;h<i;++h){var p=new Int32Array(1),g=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,h,p,g);var v=p[0],m=new Uint8Array(v);e.toBytes(8*c,m,0,v);var _=n.generateECBytes(m,g[0]);d.push(new i9(m,_)),l=Math.max(l,v),f=Math.max(f,_.length),c+=p[0]}if(r!==c)throw new gt("Data bytes does not match offset");var w=new Qt;for(h=0;h<l;++h)try{for(var x=(o=void 0,jx(d)),R=x.next();!R.done;R=x.next())h<(m=R.value.getDataBytes()).length&&w.appendBits(m[h],8)}catch(ge){o={error:ge}}finally{try{R&&!R.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}for(h=0;h<f;++h)try{for(var H=(a=void 0,jx(d)),Q=H.next();!Q.done;Q=H.next())h<(_=Q.value.getErrorCorrectionBytes()).length&&w.appendBits(_[h],8)}catch(ge){a={error:ge}}finally{try{Q&&!Q.done&&(u=H.return)&&u.call(H)}finally{if(a)throw a.error}}if(t!==w.getSizeInBytes())throw new gt("Interleaving error: "+t+" and "+w.getSizeInBytes()+" differ.");return w},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),o=0;o<r;o++)i[o]=255&e[o];new Ux(Vn.QR_CODE_FIELD_256).encode(i,t);var s=new Uint8Array(t);for(o=0;o<t;o++)s[o]=i[r+o];return s},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var o=r.getCharacterCountBits(t);if(e>=1<<o)throw new gt(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},n.appendBytes=function(e,t,r,i){switch(t){case pt.NUMERIC:n.appendNumericBytes(e,r);break;case pt.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case pt.BYTE:n.append8BitBytes(e,r,i);break;case pt.KANJI:n.appendKanjiBytes(e,r);break;default:throw new gt("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var o=n.getDigit(e.charAt(i));if(i+2<r){var s=n.getDigit(e.charAt(i+1)),a=n.getDigit(e.charAt(i+2));t.appendBits(100*o+10*s+a,10),i+=3}else i+1<r?(s=n.getDigit(e.charAt(i+1)),t.appendBits(10*o+s,7),i+=2):(t.appendBits(o,4),i++)}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var o=n.getAlphanumericCode(e.charCodeAt(i));if(-1===o)throw new gt;if(i+1<r){var s=n.getAlphanumericCode(e.charCodeAt(i+1));if(-1===s)throw new gt;t.appendBits(45*o+s,11),i+=2}else t.appendBits(o,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=zr.encode(e,r)}catch(u){throw new gt(u)}for(var o=0,s=i.length;o!==s;o++)t.appendBits(i[o],8)},n.appendKanjiBytes=function(e,t){var r;try{r=zr.encode(e,qt.SJIS)}catch(f){throw new gt(f)}for(var i=r.length,o=0;o<i;o+=2){var u=(255&r[o])<<8&4294967295|255&r[o+1],c=-1;if(u>=33088&&u<=40956?c=u-33088:u>=57408&&u<=60351&&(c=u-49472),-1===c)throw new gt("Invalid byte sequence");t.appendBits(192*(c>>8)+(255&c),13)}},n.appendECI=function(e,t){t.appendBits(pt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=qt.UTF8.getName(),n}();const $l=o9;!function(){function n(){}n.prototype.write=function(e,t,r,i){if(void 0===i&&(i=null),0===e.length)throw new X("Found empty contents");if(t<0||r<0)throw new X("Requested dimensions are too small: "+t+"x"+r);var o=gi.L,s=n.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(dt.ERROR_CORRECTION)&&(o=gi.fromString(i.get(dt.ERROR_CORRECTION).toString())),void 0!==i.get(dt.MARGIN)&&(s=Number.parseInt(i.get(dt.MARGIN).toString(),10)));var a=$l.encode(e,o,i);return this.renderResult(a,t,r,s)},n.prototype.writeToDom=function(e,t,r,i,o){void 0===o&&(o=null),"string"==typeof e&&(e=document.querySelector(e));var s=this.write(t,r,i,o);e&&e.appendChild(s)},n.prototype.renderResult=function(e,t,r,i){var o=e.getMatrix();if(null===o)throw new Wr;for(var s=o.getWidth(),a=o.getHeight(),u=s+2*i,c=a+2*i,l=Math.max(t,u),f=Math.max(r,c),d=Math.min(Math.floor(l/u),Math.floor(f/c)),h=Math.floor((l-s*d)/2),p=Math.floor((f-a*d)/2),g=this.createSVGElement(l,f),v=0,m=p;v<a;v++,m+=d)for(var _=0,w=h;_<s;_++,w+=d)if(1===o.get(_,v)){var x=this.createSvgRectElement(w,m,d,d);g.appendChild(x)}return g},n.prototype.createSVGElement=function(e,t){var r=document.createElementNS(n.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r},n.prototype.createSvgRectElement=function(e,t,r,i){var o=document.createElementNS(n.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",t.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o},n.QUIET_ZONE_SIZE=4,n.SVG_NS="http://www.w3.org/2000/svg"}();!function(){function n(){}n.prototype.encode=function(e,t,r,i,o){if(0===e.length)throw new X("Found empty contents");if(t!==ne.QR_CODE)throw new X("Can only encode QR_CODE, but got "+t);if(r<0||i<0)throw new X("Requested dimensions are too small: "+r+"x"+i);var s=gi.L,a=n.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(dt.ERROR_CORRECTION)&&(s=gi.fromString(o.get(dt.ERROR_CORRECTION).toString())),void 0!==o.get(dt.MARGIN)&&(a=Number.parseInt(o.get(dt.MARGIN).toString(),10)));var u=$l.encode(e,s,o);return n.renderResult(u,r,i,a)},n.renderResult=function(e,t,r,i){var o=e.getMatrix();if(null===o)throw new Wr;for(var s=o.getWidth(),a=o.getHeight(),u=s+2*i,c=a+2*i,l=Math.max(t,u),f=Math.max(r,c),d=Math.min(Math.floor(l/u),Math.floor(f/c)),h=Math.floor((l-s*d)/2),p=Math.floor((f-a*d)/2),g=new lr(l,f),v=0,m=p;v<a;v++,m+=d)for(var _=0,w=h;_<s;_++,w+=d)1===o.get(_,v)&&g.setRegion(w,m,d,d);return g},n.QUIET_ZONE_SIZE=4}();var u9=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();!function(n){function e(t,r,i,o,s,a,u,c){var l=n.call(this,a,u)||this;if(l.yuvData=t,l.dataWidth=r,l.dataHeight=i,l.left=o,l.top=s,o+a>r||s+u>i)throw new X("Crop rectangle does not fit within image data.");return c&&l.reverseHorizontal(a,u),l}u9(e,n),e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new X("Requested row is outside the image: "+t);var i=this.getWidth();return(null==r||r.length<i)&&(r=new Uint8ClampedArray(i)),ft.arraycopy(this.yuvData,(t+this.top)*this.dataWidth+this.left,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ft.arraycopy(this.yuvData,s,o,0,i),o;for(var a=0;a<r;a++)ft.arraycopy(this.yuvData,s,o,a*t,t),s+=this.dataWidth;return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,o,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),o=this.yuvData,s=this.top*this.dataWidth+this.left,a=0;a<r;a++){for(var u=a*t,c=0;c<t;c++)i[u+c]=4278190080|65793*(255&o[s+c*e.THUMBNAIL_SCALE_FACTOR]);s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,o=0,s=this.top*this.dataWidth+this.left;o<r;o++,s+=this.dataWidth)for(var a=s+t/2,u=s,c=s+t-1;u<a;u++,c--){var l=i[u];i[u]=i[c],i[c]=l}},e.prototype.invert=function(){return new bl(this)},e.THUMBNAIL_SCALE_FACTOR=2}(su);var c9=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();!function(n){function e(t,r,i,o,s,a,u){var c=n.call(this,r,i)||this;if(c.dataWidth=o,c.dataHeight=s,c.left=a,c.top=u,4===t.BYTES_PER_ELEMENT){for(var l=r*i,f=new Uint8ClampedArray(l),d=0;d<l;d++){var h=t[d];f[d]=((h>>16&255)+(h>>7&510)+(255&h))/4&255}c.luminances=f}else c.luminances=t;if(void 0===o&&(c.dataWidth=r),void 0===s&&(c.dataHeight=i),void 0===a&&(c.left=0),void 0===u&&(c.top=0),c.left+r>c.dataWidth||c.top+i>c.dataHeight)throw new X("Crop rectangle does not fit within image data.");return c}c9(e,n),e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new X("Requested row is outside the image: "+t);var i=this.getWidth();return(null==r||r.length<i)&&(r=new Uint8ClampedArray(i)),ft.arraycopy(this.luminances,(t+this.top)*this.dataWidth+this.left,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ft.arraycopy(this.luminances,s,o,0,i),o;for(var a=0;a<r;a++)ft.arraycopy(this.luminances,s,o,a*t,t),s+=this.dataWidth;return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new bl(this)}}(su);var l9=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),f9=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return l9(e,n),e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(qt);const d9=f9;var h9=function(){function n(){}return n.ISO_8859_1=qt.ISO8859_1,n}();const p9=h9;var g9=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}();const v9=g9;var m9=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}();const Gx=m9;var y9=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}();const _9=y9;var w9=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),C9=function(n){function e(t,r,i){var o=n.call(this,t)||this;return o.value=r,o.bitCount=i,o}return w9(e,n),e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return"<"+Ve.toBinaryString((t|=1<<this.bitCount)|1<<this.bitCount).substring(1)+">"},e}(_9);const v0=C9;var x9=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),E9=function(n){function e(t,r,i){var o=n.call(this,t,0,0)||this;return o.binaryShiftStart=r,o.binaryShiftByteCount=i,o}return x9(e,n),e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(0===i||31===i&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):t.appendBits(0===i?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(v0);const D9=E9;function du(n,e,t){return new v0(n,e,t)}var S9=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],I9=new v0(null,0,0),m0=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],zx=function T9(n){var e,t;try{for(var r=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),i=r.next();!i.done;i=r.next())Bn.fill(i.value,-1)}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[0][4]=0,n[1][4]=0,n[1][0]=28,n[3][4]=0,n[2][4]=0,n[2][0]=15,n}(Bn.createInt32Array(6,6)),R9=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var o=m0[this.mode][e];i=du(i,65535&o,o>>16),r+=o>>16}var s=2===e?4:5;return new n(i=du(i,t,s),e,0,r+s)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=2===this.mode?4:5;return r=du(r,zx[this.mode][e],i),new n(r=du(r,t,5),this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(4===this.mode||2===this.mode){var o=m0[r][0];t=du(t,65535&o,o>>16),i+=o>>16,r=0}var a=new n(t,r,this.binaryShiftByteCount+1,i+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===a.binaryShiftByteCount&&(a=a.endBinaryShift(e+1)),a},n.prototype.endBinaryShift=function(e){if(0===this.binaryShiftByteCount)return this;var t=this.token;return t=function A9(n,e,t){return new D9(n,e,t)}(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(m0[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],o=this.endBinaryShift(e.length).token;null!==o;o=o.getPrevious())i.unshift(o);var s=new Qt;try{for(var a=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),u=a.next();!u.done;u=a.next())u.value.appendTo(s,e)}catch(l){t={error:l}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return s},n.prototype.toString=function(){return at.format("%s bits=%d bytes=%d",S9[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(I9,0,0,0),n}();const O9=R9;var y0=function N9(n){var e=at.getCharCode(" "),t=at.getCharCode("."),r=at.getCharCode(",");n[0][e]=1;for(var i=at.getCharCode("Z"),o=at.getCharCode("A"),s=o;s<=i;s++)n[0][s]=s-o+2;n[1][e]=1;var a=at.getCharCode("z"),u=at.getCharCode("a");for(s=u;s<=a;s++)n[1][s]=s-u+2;n[2][e]=1;var c=at.getCharCode("9"),l=at.getCharCode("0");for(s=l;s<=c;s++)n[2][s]=s-l+2;n[2][r]=12,n[2][t]=13;for(var f=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],d=0;d<f.length;d++)n[3][at.getCharCode(f[d])]=d;var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(d=0;d<h.length;d++)at.getCharCode(h[d])>0&&(n[4][at.getCharCode(h[d])]=d);return n}(Bn.createInt32Array(5,256)),Wl=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P9=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=at.getCharCode(" "),t=at.getCharCode("\n"),r=Gx.singletonList(O9.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case at.getCharCode("\r"):o=s===t?2:0;break;case at.getCharCode("."):o=s===e?3:0;break;case at.getCharCode(","):o=s===e?4:0;break;case at.getCharCode(":"):o=s===e?5:0;break;default:o=0}o>0?(r=n.updateStateListForPair(r,i,o),i++):r=this.updateStateListForChar(r,i)}return Gx.min(r,function(u,c){return u.getBitCount()-c.getBitCount()}).toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,o=[];try{for(var s=Wl(e),a=s.next();!a.done;a=s.next())this.updateStateForChar(a.value,t,o)}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(o)},n.prototype.updateStateForChar=function(e,t,r){for(var i=255&this.text[t],o=y0[e.getMode()][i]>0,s=null,a=0;a<=4;a++){var u=y0[a][i];if(u>0){if(null==s&&(s=e.endBinaryShift(t)),!o||a===e.getMode()||2===a){var c=s.latchAndAppend(a,u);r.push(c)}if(!o&&zx[e.getMode()][a]>=0){var l=s.shiftAndAppend(a,u);r.push(l)}}}if(e.getBinaryShiftByteCount()>0||0===y0[e.getMode()][i]){var f=e.addBinaryShiftChar(t);r.push(f)}},n.updateStateListForPair=function(e,t,r){var i,o,s=[];try{for(var a=Wl(e),u=a.next();!u.done;u=a.next())this.updateStateForPair(u.value,t,r,s)}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(e,t,r,i){var o=e.endBinaryShift(t);if(i.push(o.latchAndAppend(4,r)),4!==e.getMode()&&i.push(o.shiftAndAppend(4,r)),3===r||4===r){var s=o.latchAndAppend(2,16-r).latchAndAppend(2,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var a=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(a)}},n.simplifyStates=function(e){var t,r,i,o,s=[];try{for(var a=Wl(e),u=a.next();!u.done;u=a.next()){var c=u.value,l=!0,f=function(v){if(v.isBetterThanOrEqualTo(c))return l=!1,"break";c.isBetterThanOrEqualTo(v)&&(s=s.filter(function(m){return m!==v}))};try{for(var d=(i=void 0,Wl(s)),h=d.next();!h.done&&"break"!==f(h.value);h=d.next());}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}l&&s.push(c)}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return s},n}();const F9=P9;var B9=function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var a,u,c,l,f,i=new F9(e).encode(),o=Ve.truncDivision(i.getSize()*t,100)+11,s=i.getSize()+o;if(r!==n.DEFAULT_AZTEC_LAYERS){if(a=r<0,(u=Math.abs(r))>(a?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new X(at.format("Illegal value %s for layers",r));var d=(c=n.totalBitsInLayer(u,a))-c%(l=n.WORD_SIZE[u]);if((f=n.stuffBits(i,l)).getSize()+o>d)throw new X("Data to large for user specified layer");if(a&&f.getSize()>64*l)throw new X("Data to large for user specified layer")}else{l=0,f=null;for(var h=0;;h++){if(h>n.MAX_NB_BITS)throw new X("Data too large for an Aztec code");if(!(s>(c=n.totalBitsInLayer(u=(a=h<=3)?h+1:h,a)))&&((null==f||l!==n.WORD_SIZE[u])&&(f=n.stuffBits(i,l=n.WORD_SIZE[u])),d=c-c%l,!(a&&f.getSize()>64*l)&&f.getSize()+o<=d))break}}var w,p=n.generateCheckWords(f,c,l),g=f.getSize()/l,v=n.generateModeMessage(a,u,g),m=(a?11:14)+4*u,_=new Int32Array(m);if(a)for(w=m,h=0;h<_.length;h++)_[h]=h;else{w=m+1+2*Ve.truncDivision(Ve.truncDivision(m,2)-1,15);var x=Ve.truncDivision(m,2),R=Ve.truncDivision(w,2);for(h=0;h<x;h++){var L=h+Ve.truncDivision(h,15);_[x-h-1]=R-L-1,_[x+h]=R+L+1}}for(var H=new lr(w),Q=(h=0,0);h<u;h++){for(var Me=4*(u-h)+(a?9:12),ge=0;ge<Me;ge++)for(var Rt=2*ge,ze=0;ze<2;ze++)p.get(Q+Rt+ze)&&H.set(_[2*h+ze],_[2*h+ge]),p.get(Q+2*Me+Rt+ze)&&H.set(_[2*h+ge],_[m-1-2*h-ze]),p.get(Q+4*Me+Rt+ze)&&H.set(_[m-1-2*h-ze],_[m-1-2*h-ge]),p.get(Q+6*Me+Rt+ze)&&H.set(_[m-1-2*h-ge],_[2*h+ze]);Q+=8*Me}if(n.drawModeMessage(H,a,w,v),a)n.drawBullsEye(H,Ve.truncDivision(w,2),5);else for(n.drawBullsEye(H,Ve.truncDivision(w,2),7),h=0,ge=0;h<Ve.truncDivision(m,2)-1;h+=15,ge+=16)for(ze=1&Ve.truncDivision(w,2);ze<w;ze+=2)H.set(Ve.truncDivision(w,2)-ge,ze),H.set(Ve.truncDivision(w,2)+ge,ze),H.set(ze,Ve.truncDivision(w,2)-ge),H.set(ze,Ve.truncDivision(w,2)+ge);var wt=new v9;return wt.setCompact(a),wt.setSize(w),wt.setLayers(u),wt.setCodeWords(g),wt.setMatrix(H),wt},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var o=t-i;o<=t+i;o++)e.set(o,t-i),e.set(o,t+i),e.set(t-i,o),e.set(t+i,o);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new Qt;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var o=Ve.truncDivision(r,2);if(t)for(var s=0;s<7;s++){var a=o-3+s;i.get(s)&&e.set(a,o-5),i.get(s+7)&&e.set(o+5,a),i.get(20-s)&&e.set(a,o+5),i.get(27-s)&&e.set(o-5,a)}else for(s=0;s<10;s++)a=o-5+s+Ve.truncDivision(s,5),i.get(s)&&e.set(a,o-7),i.get(s+10)&&e.set(o+7,a),i.get(29-s)&&e.set(a,o+7),i.get(39-s)&&e.set(o-7,a)},n.generateCheckWords=function(e,t,r){var i,o,s=e.getSize()/r,a=new Ux(n.getGF(r)),u=Ve.truncDivision(t,r),c=n.bitsToWords(e,r,u);a.encode(c,u-s);var l=t%r,f=new Qt;f.appendBits(0,l);try{for(var d=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Array.from(c)),h=d.next();!h.done;h=d.next())f.appendBits(h.value,r)}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return f},n.bitsToWords=function(e,t,r){var o,s,i=new Int32Array(r);for(o=0,s=e.getSize()/t;o<s;o++){for(var a=0,u=0;u<t;u++)a|=e.get(o*t+u)?1<<t-u-1:0;i[o]=a}return i},n.getGF=function(e){switch(e){case 4:return Vn.AZTEC_PARAM;case 6:return Vn.AZTEC_DATA_6;case 8:return Vn.AZTEC_DATA_8;case 10:return Vn.AZTEC_DATA_10;case 12:return Vn.AZTEC_DATA_12;default:throw new X("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new Qt,i=e.getSize(),o=(1<<t)-2,s=0;s<i;s+=t){for(var a=0,u=0;u<t;u++)(s+u>=i||e.get(s+u))&&(a|=1<<t-1-u);(a&o)===o?(r.appendBits(a&o,t),s--):a&o?r.appendBits(a,t):(r.appendBits(1|a,t),s--)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n}();const _0=B9;!function(){function n(){}n.prototype.encode=function(e,t,r,i){return this.encodeWithHints(e,t,r,i,null)},n.prototype.encodeWithHints=function(e,t,r,i,o){var s=p9.ISO_8859_1,a=_0.DEFAULT_EC_PERCENT,u=_0.DEFAULT_AZTEC_LAYERS;return null!=o&&(o.has(dt.CHARACTER_SET)&&(s=d9.forName(o.get(dt.CHARACTER_SET).toString())),o.has(dt.ERROR_CORRECTION)&&(a=Ve.parseInt(o.get(dt.ERROR_CORRECTION).toString())),o.has(dt.AZTEC_LAYERS)&&(u=Ve.parseInt(o.get(dt.AZTEC_LAYERS).toString()))),n.encodeLayers(e,t,r,i,s,a,u)},n.encodeLayers=function(e,t,r,i,o,s,a){if(t!==ne.AZTEC)throw new X("Can only encode AZTEC, but got "+t);var u=_0.encode(at.getBytes(e,o),s,a);return n.renderResult(u,r,i)},n.renderResult=function(e,t,r){var i=e.getMatrix();if(null==i)throw new Wr;for(var o=i.getWidth(),s=i.getHeight(),a=Math.max(t,o),u=Math.max(r,s),c=Math.min(a/o,u/s),l=(a-o*c)/2,f=(u-s*c)/2,d=new lr(a,u),h=0,p=f;h<s;h++,p+=c)for(var g=0,v=l;g<o;g++,v+=c)i.get(g,h)&&d.setRegion(v,p,c,c);return d}}();var k9=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),V9=function(n){function e(t){var r=n.call(this,t.width,t.height)||this;return r.canvas=t,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(t),r}return k9(e,n),e.makeBufferFromCanvasImageData=function(t){var r=t.getContext("2d");if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,r,i){for(var o=new Uint8ClampedArray(r*i),s=0,a=0,u=t.length;s<u;s+=4,a++){o[a]=0===t[s+3]?255:306*t[s]+601*t[s+1]+117*t[s+2]+512>>10}return o},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new X("Requested row is outside the image: "+t);var i=this.getWidth(),o=t*i;return null===r?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,o){return n.prototype.crop.call(this,t,r,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new bl(this)},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*s),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*s);r.width=a,r.height=u;var c=r.getContext("2d");if(!c)throw new Error("Could not create a Canvas Context element.");return c.translate(a/2,u/2),c.rotate(i),c.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(su);function Wx(){return typeof navigator<"u"}var Ss=function(){return Ss=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Ss.apply(this,arguments)},Dt=function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})},At=function(n,e){var r,i,o,s,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return function u(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(!(o=(o=t.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){t=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(6===c[0]&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(l){c=[6,l],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},w0=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j9={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Bi=function(){function n(e,t,r){void 0===t&&(t=new Map),void 0===r&&(r={}),this.reader=e,this.hints=t,this.options=Ss(Ss({},j9),r)}return Object.defineProperty(n.prototype,"possibleFormats",{set:function(e){this.hints.set(Qe.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),n.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},n.mediaStreamSetTorch=function(e,t){return Dt(this,void 0,void 0,function(){return At(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return r.sent(),[2]}})})},n.mediaStreamIsTorchCompatible=function(e){var t,r,i=e.getVideoTracks();try{for(var o=w0(i),s=o.next();!s.done;s=o.next())if(n.mediaStreamIsTorchCompatibleTrack(s.value))return!0}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!1},n.mediaStreamIsTorchCompatibleTrack=function(e){try{return"torch"in e.getCapabilities()}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},n.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},n.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Mt("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Mt("element with id '".concat(e,"' must be an ").concat(t," element"));return r},n.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if("string"==typeof e)return n.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},n.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if("string"==typeof e)return n.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},n.prepareVideoElement=function(e){var t=n.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.isImageLoaded=function(e){return!(!e.complete||0===e.naturalWidth)},n.createBinaryBitmapFromCanvas=function(e){var t=new V9(e),r=new sx(t);return new ix(r)},n.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},n.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},n.createCaptureCanvas=function(e){if(!e)throw new Mt("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var t=document.createElement("canvas"),r=n.getMediaElementDimensions(e),i=r.width,o=r.height;return t.style.width=i+"px",t.style.height=o+"px",t.width=i,t.height=o,t},n.tryPlayVideo=function(e){return Dt(this,void 0,void 0,function(){var t;return At(this,function(r){switch(r.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(n.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return t=r.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},n.createCanvasFromMediaElement=function(e){var t=n.createCaptureCanvas(e),r=t.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return n.drawImageOnCanvas(r,e),t},n.createBinaryBitmapFromMediaElem=function(e){var t=n.createCanvasFromMediaElement(e);return n.createBinaryBitmapFromCanvas(t)},n.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},n.listVideoInputDevices=function(){return Dt(this,void 0,void 0,function(){var e,t,r,i,o,s,a,u,f,d;return At(this,function(h){switch(h.label){case 0:if(!Wx())throw new Error("Can't enumerate devices, navigator is not present.");if(!function H9(){return!(!function U9(){return Wx()&&!!navigator.mediaDevices}()||!navigator.mediaDevices.enumerateDevices)}())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),t=[];try{for(r=w0(e),i=r.next();!i.done;i=r.next())"videoinput"===(s="video"===(o=i.value).kind?"videoinput":o.kind)&&(a=o.deviceId||o.id,u=o.label||"Video device ".concat(t.length+1),t.push({deviceId:a,label:u,kind:s,groupId:o.groupId}))}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,t]}})})},n.findDeviceById=function(e){return Dt(this,void 0,void 0,function(){var t;return At(this,function(r){switch(r.label){case 0:return[4,n.listVideoInputDevices()];case 1:return(t=r.sent())?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},n.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},n.releaseAllStreams=function(){0!==n.streamTracker.length&&n.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),n.streamTracker=[]},n.playVideoOnLoadAsync=function(e,t){return Dt(this,void 0,void 0,function(){return At(this,function(i){switch(i.label){case 0:return[4,n.tryPlayVideo(e)];case 1:return i.sent()?[2,!0]:[2,new Promise(function(o,s){var a=setTimeout(function(){n.isVideoPlaying(e)||(s(!1),e.removeEventListener("canplay",u))},t),u=function(){n.tryPlayVideo(e).then(function(c){clearTimeout(a),e.removeEventListener("canplay",u),o(c)})};e.addEventListener("canplay",u)})]}})})},n.attachStreamToVideo=function(e,t,r){return void 0===r&&(r=5e3),Dt(this,void 0,void 0,function(){var i;return At(this,function(o){switch(o.label){case 0:return i=n.prepareVideoElement(t),n.addVideoSource(i,e),[4,n.playVideoOnLoadAsync(i,r)];case 1:return o.sent(),[2,i]}})})},n._waitImageLoad=function(e){return new Promise(function(t,r){var o=setTimeout(function(){n.isImageLoaded(e)||(e.removeEventListener("load",s),r())},1e4),s=function(){clearTimeout(o),e.removeEventListener("load",s),t()};e.addEventListener("load",s)})},n.checkCallbackFnOrThrow=function(e){if(!e)throw new Mt("`callbackFn` is a required parameter, you cannot capture results without it.")},n.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},n.prototype.decode=function(e){var t=n.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},n.prototype.decodeFromCanvas=function(e){var t=n.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},n.prototype.decodeFromImageElement=function(e){return Dt(this,void 0,void 0,function(){var t;return At(this,function(r){switch(r.label){case 0:if(!e)throw new Mt("An image element must be provided.");return t=n.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeFromImageUrl=function(e){return Dt(this,void 0,void 0,function(){var t;return At(this,function(r){switch(r.label){case 0:if(!e)throw new Mt("An URL must be provided.");(t=n.prepareImageElement()).src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,r.sent()];case 3:return n.destroyImageElement(t),[7];case 4:return[2]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return Dt(this,void 0,void 0,function(){var i,o;return At(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,r)];case 3:return[2,s.sent()];case 4:throw o=s.sent(),n.disposeMediaStream(i),o;case 5:return[2]}})})},n.prototype.decodeFromStream=function(e,t,r){return Dt(this,void 0,void 0,function(){var o,a,u,c,f,d,p=this;return At(this,function(g){switch(g.label){case 0:return n.checkCallbackFnOrThrow(r),[4,n.attachStreamToVideo(e,t,this.options.tryPlayVideoTimeout)];case 1:return o=g.sent(),a=this.scan(o,r,function(){n.disposeMediaStream(e),n.cleanVideoSource(o)}),u=e.getVideoTracks(),c=Ss(Ss({},a),{stop:function(){a.stop()},streamVideoConstraintsApply:function(v,m){return Dt(this,void 0,void 0,function(){var _,w,x,L,H,Q;return At(this,function(Me){switch(Me.label){case 0:_=m?u.filter(m):u,Me.label=1;case 1:Me.trys.push([1,6,7,8]),w=w0(_),x=w.next(),Me.label=2;case 2:return x.done?[3,5]:[4,x.value.applyConstraints(v)];case 3:Me.sent(),Me.label=4;case 4:return x=w.next(),[3,2];case 5:return[3,8];case 6:return L=Me.sent(),H={error:L},[3,8];case 7:try{x&&!x.done&&(Q=w.return)&&Q.call(w)}finally{if(H)throw H.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(v){return u.find(v).getConstraints()},streamVideoSettingsGet:function(v){return u.find(v).getSettings()},streamVideoCapabilitiesGet:function(v){return u.find(v).getCapabilities()}}),n.mediaStreamIsTorchCompatible(e)&&(f=u?.find(function(v){return n.mediaStreamIsTorchCompatibleTrack(v)}),c.switchTorch=d=function(v){return Dt(p,void 0,void 0,function(){return At(this,function(m){switch(m.label){case 0:return[4,n.mediaStreamSetTorch(f,v)];case 1:return m.sent(),[2]}})})},c.stop=function(){a.stop(),d(!1)}),[2,c]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return Dt(this,void 0,void 0,function(){return At(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.decodeFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromVideoElement=function(e,t){return Dt(this,void 0,void 0,function(){var r;return At(this,function(o){switch(o.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new Mt("A video element must be provided.");return r=n.prepareVideoElement(e),[4,n.playVideoOnLoadAsync(r,this.options.tryPlayVideoTimeout)];case 1:return o.sent(),[2,this.scan(r,t)]}})})},n.prototype.decodeFromVideoUrl=function(e,t){return Dt(this,void 0,void 0,function(){var r,i;return At(this,function(a){switch(a.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new Mt("An URL must be provided.");return(r=n.prepareVideoElement()).src=e,i=function(){n.cleanVideoSource(r)},[4,n.playVideoOnLoadAsync(r,this.options.tryPlayVideoTimeout)];case 1:return a.sent(),[2,this.scan(r,t,i)]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return Dt(this,void 0,void 0,function(){var r;return At(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return Dt(this,void 0,void 0,function(){var r,i;return At(this,function(s){switch(s.label){case 0:return r=Boolean(t),[4,n.attachStreamToVideo(e,t)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return[2,s.sent()];case 4:return r||n.cleanVideoSource(i),[7];case 5:return[2]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return Dt(this,void 0,void 0,function(){return At(this,function(o){switch(o.label){case 0:return[4,this.decodeOnceFromConstraints({video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},t)];case 1:return[2,o.sent()]}})})},n.prototype.decodeOnceFromVideoElement=function(e){return Dt(this,void 0,void 0,function(){var t;return At(this,function(i){switch(i.label){case 0:if(!e)throw new Mt("A video element must be provided.");return t=n.prepareVideoElement(e),[4,n.playVideoOnLoadAsync(t,this.options.tryPlayVideoTimeout)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromVideoUrl=function(e){return Dt(this,void 0,void 0,function(){var t,r;return At(this,function(i){switch(i.label){case 0:if(!e)throw new Mt("An URL must be provided.");(t=n.prepareVideoElement()).src=e,r=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return n.cleanVideoSource(t),[7];case 4:return[2]}})})},n.prototype.scanOneResult=function(e,t,r,i){var o=this;return void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===i&&(i=!0),new Promise(function(s,a){o.scan(e,function(u,c,l){if(u)return s(u),void l.stop();if(c){if(c instanceof N&&t||c instanceof jt&&r||c instanceof j&&i)return;l.stop(),a(c)}})})},n.prototype.scan=function(e,t,r){var i=this;n.checkCallbackFnOrThrow(t);var o=n.createCaptureCanvas(e),s=o.getContext("2d");if(!s)throw new Error("Couldn't create canvas for visual element scan.");var c,a=function(){s=void 0,o=void 0},u=!1,f={stop:function(){u=!0,clearTimeout(c),a(),r&&r()}},d=function(){if(!u)try{n.drawImageOnCanvas(s,e);var h=i.decodeFromCanvas(o);t(h,void 0,f),c=setTimeout(d,i.options.delayBetweenScanSuccess)}catch(m){if(t(void 0,m,f),m instanceof jt||m instanceof j||m instanceof N)return void(c=setTimeout(d,i.options.delayBetweenScanAttempts));a(),r&&r(m)}};return d(),f},n.prototype._decodeOnLoadImage=function(e){return Dt(this,void 0,void 0,function(){return At(this,function(r){switch(r.label){case 0:return n.isImageLoaded(e)?[3,2]:[4,n._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},n.prototype.getUserMedia=function(e){return Dt(this,void 0,void 0,function(){var t;return At(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=r.sent(),n.streamTracker.push(t),[2,t]}})})},n.streamTracker=[],n}(),G9=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),$9=(function(n){G9(function e(t,r){return n.call(this,new Pl,t,r)||this},n)}(Bi),function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}()),z9=(function(n){$9(function e(t,r){return n.call(this,new As(t),t,r)||this},n)}(Bi),function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}()),W9=(function(n){z9(function e(t,r){return n.call(this,new Vl,t,r)||this},n)}(Bi),function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}()),X9=function(n){function e(t,r){var i=this,o=new Vx;return o.setHints(t),(i=n.call(this,o,t,r)||this).reader=o,i}return W9(e,n),Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(Qe.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e}(Bi),q9=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y9=(function(n){q9(function e(t,r){return n.call(this,new jl,t,r)||this},n)}(Bi),function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}()),vi=(function(n){Y9(function e(t,r){return n.call(this,new Ul,t,r)||this},n)}(Bi),"http://www.w3.org/2000/svg"),Xx=(function(){function n(e){if("string"==typeof e){var t=document.getElementById(e);if(!t)throw new Error("Could not find a Container element with '".concat(e,"'."));this.containerElement=t}else this.containerElement=e}n.prototype.write=function(e,t,r,i){if(0===e.length)throw new X("Found empty contents");if(t<0||r<0)throw new X("Requested dimensions are too small: "+t+"x"+r);var o=i&&void 0!==i.get(dt.MARGIN)?Number.parseInt(i.get(dt.MARGIN).toString(),10):n.QUIET_ZONE_SIZE,s=this.encode(i,e);return this.renderResult(s,t,r,o)},n.prototype.createSVGElement=function(e,t){var r=document.createElementNS(n.SVG_NS,"svg");return r.setAttributeNS(vi,"width",t.toString()),r.setAttributeNS(vi,"height",e.toString()),r},n.prototype.createSvgPathPlaceholderElement=function(e,t){var r=document.createElementNS(n.SVG_NS,"path");return r.setAttributeNS(vi,"d","M0 0h".concat(e,"v").concat(t,"H0z")),r.setAttributeNS(vi,"fill","none"),r},n.prototype.createSvgRectElement=function(e,t,r,i){var o=document.createElementNS(n.SVG_NS,"rect");return o.setAttributeNS(vi,"x",e.toString()),o.setAttributeNS(vi,"y",t.toString()),o.setAttributeNS(vi,"height",r.toString()),o.setAttributeNS(vi,"width",i.toString()),o.setAttributeNS(vi,"fill","#000000"),o},n.prototype.encode=function(e,t){var r=gi.L;if(e&&void 0!==e.get(dt.ERROR_CORRECTION)){var i=e.get(dt.ERROR_CORRECTION).toString();r=gi.fromString(i)}return $l.encode(t,r,e)},n.prototype.renderResult=function(e,t,r,i){var o=e.getMatrix();if(null===o)throw new Wr;var s=o.getWidth(),a=o.getHeight(),u=s+2*i,c=a+2*i,l=Math.max(t,u),f=Math.max(r,c),d=Math.min(Math.floor(l/u),Math.floor(f/c)),h=Math.floor((l-s*d)/2),p=Math.floor((f-a*d)/2),g=this.createSVGElement(l,f),v=this.createSvgPathPlaceholderElement(t,r);g.appendChild(v),this.containerElement.appendChild(g);for(var m=0,_=p;m<a;m++,_+=d)for(var w=0,x=h;w<s;w++,x+=d)if(1===o.get(w,m)){var R=this.createSvgRectElement(x,_,d,d);g.appendChild(R)}return g},n.QUIET_ZONE_SIZE=4,n.SVG_NS="http://www.w3.org/2000/svg"}(),"http://www.w3.org/2000/svg");!function(){function n(){}n.prototype.write=function(e,t,r,i){if(0===e.length)throw new X("Found empty contents");if(t<0||r<0)throw new X("Requested dimensions are too small: "+t+"x"+r);var o=gi.L,s=n.QUIET_ZONE_SIZE;if(i){if(void 0!==i.get(dt.ERROR_CORRECTION)){var a=i.get(dt.ERROR_CORRECTION).toString();o=gi.fromString(a)}void 0!==i.get(dt.MARGIN)&&(s=Number.parseInt(i.get(dt.MARGIN).toString(),10))}var u=$l.encode(e,o,i);return this.renderResult(u,t,r,s)},n.prototype.writeToDom=function(e,t,r,i,o){if("string"==typeof e){var s=document.querySelector(e);if(!s)throw new Error("Could no find the target HTML element.");e=s}var a=this.write(t,r,i,o);e instanceof HTMLElement&&e.appendChild(a)},n.prototype.renderResult=function(e,t,r,i){var o=e.getMatrix();if(null===o)throw new Wr;for(var s=o.getWidth(),a=o.getHeight(),u=s+2*i,c=a+2*i,l=Math.max(t,u),f=Math.max(r,c),d=Math.min(Math.floor(l/u),Math.floor(f/c)),h=Math.floor((l-s*d)/2),p=Math.floor((f-a*d)/2),g=this.createSVGElement(l,f),v=0,m=p;v<a;v++,m+=d)for(var _=0,w=h;_<s;_++,w+=d)if(1===o.get(_,v)){var x=this.createSvgRectElement(w,m,d,d);g.appendChild(x)}return g},n.prototype.createSVGElement=function(e,t){var r=document.createElementNS(Xx,"svg"),i=e.toString(),o=t.toString();return r.setAttribute("height",o),r.setAttribute("width",i),r.setAttribute("viewBox","0 0 "+i+" "+o),r},n.prototype.createSvgRectElement=function(e,t,r,i){var o=document.createElementNS(Xx,"rect");return o.setAttribute("x",e.toString()),o.setAttribute("y",t.toString()),o.setAttribute("height",r.toString()),o.setAttribute("width",i.toString()),o.setAttribute("fill","#000000"),o},n.QUIET_ZONE_SIZE=4}();const Z9=["preview"];class C0 extends X9{getScannerControls(){if(!this.scannerControls)throw new Error("No scanning is running at the time.");return this.scannerControls}scanFromDeviceObservable(e,t){var r=this;return pi(function*(){const i=new sr({});let o;try{o=yield r.decodeFromVideoDevice(e,t,(s,a)=>{if(!a)return void i.next({result:s});const u=a.name;u===N.name||u===jt.name||u===j.name||a.message.includes("No MultiFormat Readers were able to detect the code.")?i.next({error:a}):(i.error(a),r.scannerControls.stop(),r.scannerControls=void 0)}),r.scannerControls={...o,stop(){o.stop(),i.complete()}}}catch(s){i.error(s),r.scannerControls?.stop(),r.scannerControls=void 0}return i.asObservable()})()}}let K9=(()=>{class n{constructor(){this.timeBetweenScans=500,this.delayBetweenScanSuccess=500,this.previewFitMode="cover",this._ready=!1,this.autostarted=new Ue,this.autostarting=new Ue,this.torchCompatible=new Ue(!1),this.scanSuccess=new Ue,this.scanFailure=new Ue,this.scanError=new Ue,this.scanComplete=new Ue,this.camerasFound=new Ue,this.camerasNotFound=new Ue,this.permissionResponse=new Ue(!0),this.hasDevices=new Ue,this.deviceChange=new Ue,this._enabled=!0,this._hints=new Map,this.autofocusEnabled=!0,this.autostart=!0,this.formats=[ne.QR_CODE],this.hasNavigator=typeof navigator<"u",this.isMediaDevicesSupported=this.hasNavigator&&!!navigator.mediaDevices}get codeReader(){return this._codeReader}set device(t){this._ready?this.isAutostarting?console.warn("Avoid setting a device during auto-start."):this.isCurrentDevice(t)?console.warn("Setting the same device is not allowed."):this.hasPermission?this.setDevice(t):console.warn("Permissions not set yet, waiting for them to be set to apply device change."):this._devicePreStart=t}get device(){return this._device}get formats(){return this.hints.get(Qe.POSSIBLE_FORMATS)}set formats(t){if("string"==typeof t)throw new Error("Invalid formats, make sure the [formats] input is a binding.");const r=t.map(o=>this.getBarcodeFormatOrFail(o)),i=this.hints;i.set(Qe.POSSIBLE_FORMATS,r),this.hints=i}get hints(){return this._hints}set hints(t){this._hints=t,this.codeReader?.setHints(this._hints)}set videoConstraints(t){const r=this.codeReader?.getScannerControls();r&&r?.streamVideoConstraintsApply(t)}set isAutostarting(t){this._isAutostarting=t,this.autostarting.next(t)}get isAutostarting(){return this._isAutostarting}set torch(t){try{this.getCodeReader().getScannerControls().switchTorch(t)}catch{}}set enable(t){this._enabled=Boolean(t),this._enabled?this.device?this.scanFromDevice(this.device.deviceId):this.init():(this.reset(),C0.releaseAllStreams())}get enabled(){return this._enabled}get tryHarder(){return this.hints.get(Qe.TRY_HARDER)}set tryHarder(t){const r=this.hints;t?r.set(Qe.TRY_HARDER,!0):r.delete(Qe.TRY_HARDER),this.hints=r}askForPermission(){var t=this;return pi(function*(){if(!t.hasNavigator)return console.error("@zxing/ngx-scanner","Can't ask permission, navigator is not present."),t.setPermission(null),t.hasPermission;if(!t.isMediaDevicesSupported)return console.error("@zxing/ngx-scanner","Can't get user media, this is not supported."),t.setPermission(null),t.hasPermission;let r,i;try{r=yield t.getAnyVideoDevice(),i=!!r}catch(o){return t.handlePermissionException(o)}finally{t.terminateStream(r)}return t.setPermission(i),i})()}getAnyVideoDevice(){return navigator.mediaDevices.getUserMedia({video:!0})}terminateStream(t){t&&t.getTracks().forEach(r=>r.stop()),t=void 0}init(){var t=this;return pi(function*(){if(!t.autostart)return console.warn("Feature 'autostart' disabled. Permissions and devices recovery has to be run manually."),t.initAutostartOff(),void(t._ready=!0);yield t.initAutostartOn(),t._ready=!0})()}initAutostartOff(){this.isAutostarting=!1,this.updateVideoInputDevices(),this._device&&this._devicePreStart&&this.setDevice(this._devicePreStart)}initAutostartOn(){var t=this;return pi(function*(){let r;t.isAutostarting=!0;try{r=yield t.askForPermission()}catch(i){return void console.error("Exception occurred while asking for permission:",i)}if(r){const i=yield t.updateVideoInputDevices();yield t.autostartScanner([...i])}t.isAutostarting=!1,t.autostarted.next()})()}isCurrentDevice(t){return t?.deviceId===this._device?.deviceId}ngOnDestroy(){this.reset(),C0.releaseAllStreams()}ngOnInit(){this.init()}scanStop(){this._scanSubscription&&(this.codeReader?.getScannerControls().stop(),this._scanSubscription?.unsubscribe(),this._scanSubscription=void 0),this.torchCompatible.next(!1)}scanStart(){if(this._scanSubscription)throw new Error("There is already a scan process running.");if(!this._device)throw new Error("No device defined, cannot start scan, please define a device.");this.scanFromDevice(this._device.deviceId)}restart(){this._codeReader=void 0;const t=this._reset();t&&(this.device=t)}updateVideoInputDevices(){var t=this;return pi(function*(){const r=(yield Bi.listVideoInputDevices())||[],i=r&&r.length>0;return t.hasDevices.next(i),t.camerasFound.next([...r]),i||t.camerasNotFound.next(null),r})()}autostartScanner(t){var r=this;return pi(function*(){const o=t.find(({label:s})=>/back|tr\xe1s|rear|traseira|environment|ambiente/gi.test(s))||t.pop();if(!o)throw new Error("Impossible to autostart, no input devices available.");yield r.setDevice(o),r.deviceChange.next(o)})()}dispatchScanSuccess(t){this.scanSuccess.next(t.getText())}dispatchScanFailure(t){this.scanFailure.next(t)}dispatchScanError(t){this.scanError.observed||(console.error(`zxing scanner component: ${t.name}`,t),console.warn("Use the `(scanError)` property to handle errors like this!")),this.scanError.next(t)}dispatchScanComplete(t){this.scanComplete.next(t)}handlePermissionException(t){let r;switch(console.error("@zxing/ngx-scanner","Error when asking for permission.",t),t.name){case"NotSupportedError":console.warn("@zxing/ngx-scanner",t.message),r=null,this.hasDevices.next(null);break;case"NotAllowedError":console.warn("@zxing/ngx-scanner",t.message),r=!1,this.hasDevices.next(!0);break;case"NotFoundError":console.warn("@zxing/ngx-scanner",t.message),r=null,this.hasDevices.next(!1),this.camerasNotFound.next(t);break;case"NotReadableError":console.warn("@zxing/ngx-scanner","Couldn't read the device(s)'s stream, it's probably in use by another app."),r=null,this.hasDevices.next(!1),this.camerasNotFound.next(t);break;default:console.warn("@zxing/ngx-scanner","I was not able to define if I have permissions for camera or not.",t),r=null}return this.setPermission(r),this.permissionResponse.error(t),r}getBarcodeFormatOrFail(t){return"string"==typeof t?ne[t.trim().toUpperCase()]:t}getCodeReader(){return this._codeReader||(this._codeReader=new C0(this.hints,{delayBetweenScanAttempts:this.timeBetweenScans,delayBetweenScanSuccess:this.delayBetweenScanSuccess})),this._codeReader}scanFromDevice(t){var r=this;return pi(function*(){const i=r.previewElemRef.nativeElement,o=r.getCodeReader(),s=yield o.scanFromDeviceObservable(t,i);if(!s)throw new Error("Undefined decoding stream, aborting.");if(r._scanSubscription=s.subscribe(d=>r._onDecodeResult(d.result,d.error),d=>r._onDecodeError(d),()=>{}),r._scanSubscription.closed)return;const f=typeof o.getScannerControls().switchTorch<"u";r.torchCompatible.next(f)})()}_onDecodeError(t){this.dispatchScanError(t)}_onDecodeResult(t,r){t?this.dispatchScanSuccess(t):this.dispatchScanFailure(r),this.dispatchScanComplete(t)}_reset(){if(!this._codeReader)return;const t=this._device;return this.device=void 0,this._codeReader=void 0,t}reset(){this._reset(),this.deviceChange.emit(null)}setDevice(t){var r=this;return pi(function*(){r.scanStop(),r._device=t||void 0,r._device||Bi.cleanVideoSource(r.previewElemRef.nativeElement),r._enabled&&t&&(yield r.scanFromDevice(t.deviceId))})()}setPermission(t){this.hasPermission=t,this.permissionResponse.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Mn({type:n,selectors:[["zxing-scanner"]],viewQuery:function(t,r){if(1&t&&Ty(Z9,7),2&t){let i;oh(i=function sh(){return function bT(n,e){return n[19].queries[e].queryList}(B(),yg())}())&&(r.previewElemRef=i.first)}},inputs:{autofocusEnabled:"autofocusEnabled",timeBetweenScans:"timeBetweenScans",delayBetweenScanSuccess:"delayBetweenScanSuccess",autostart:"autostart",previewFitMode:"previewFitMode",device:"device",formats:"formats",videoConstraints:"videoConstraints",torch:"torch",enable:"enable",tryHarder:"tryHarder"},outputs:{autostarted:"autostarted",autostarting:"autostarting",torchCompatible:"torchCompatible",scanSuccess:"scanSuccess",scanFailure:"scanFailure",scanError:"scanError",scanComplete:"scanComplete",camerasFound:"camerasFound",camerasNotFound:"camerasNotFound",permissionResponse:"permissionResponse",hasDevices:"hasDevices",deviceChange:"deviceChange"},decls:6,vars:2,consts:[["preview",""]],template:function(t,r){1&t&&(k(0,"video",null,0)(2,"p"),G(3," Your browser does not support this feature, please try to upgrade it. "),V(),k(4,"p"),G(5," Seu navegador n\xe3o suporta este recurso, por favor tente atualiz\xe1-lo. "),V()()),2&t&&Hd("object-fit",r.previewFitMode)},styles:["[_nghost-%COMP%]{display:block}video[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain}"],changeDetection:0}),n})(),Q9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=yn({imports:[jh,kC]}),n})();class hu{constructor(e){this.commonService=e,this.allowedFormats=[ne.QR_CODE],this.userdata=this.commonService.userData,this.eventData=this.commonService.eventData}scanSuccessHandler(e){if(!e.includes("|"))return void alert("Invalid QR");if(e.split("|")[0]!=this.eventData.name)return void alert("Mismatched events");const t=e.split("|")[1];this.eventData.reg.includes(t)?alert("Registerd"):alert("Not register for the event")}}hu.\u0275fac=function(e){return new(e||hu)(F(cr))},hu.\u0275cmp=Mn({type:hu,selectors:[["app-scan"]],decls:15,vars:3,consts:[[1,"d-flex","flex-column","p-5","h-100","text-center"],[1,"display-4","mb-2"],[1,"fs-2"],[1,"my-1"],[1,"fs-2","mb-4"],[1,"d-flex","mx-auto",2,"height","250px","width","250px"],[1,"mx-auto",3,"formats","scanSuccess"],[1,"mt-auto"],["href","https://supersu-man.github.io/",1,"fw-bold"]],template:function(e,t){1&e&&(k(0,"div",0)(1,"label",1),G(2,"Scan"),V(),k(3,"label",2),G(4),V(),k(5,"label",3),G(6,"presents"),V(),k(7,"label",4),G(8),V(),k(9,"div",5)(10,"zxing-scanner",6),Bt("scanSuccess",function(i){return t.scanSuccessHandler(i)}),V()(),k(11,"label",7),G(12,"App brought to you by"),V(),k(13,"a",8),G(14,"Sumanth Perambuduri"),V()()),2&e&&(Ce(4),on(t.eventData.club_name),Ce(4),on(t.eventData.name),Ce(2),je("formats",t.allowedFormats))},dependencies:[K9],styles:["[_nghost-%COMP%]   zxing-scanner[_ngcontent-%COMP%]  video{height:250px;width:250px;border-radius:15px}input[_ngcontent-%COMP%]{border:0px!important;box-shadow:none!important}input[_ngcontent-%COMP%]:checked{background-color:#bbb}"]});const J9=[{path:"",redirectTo:"events",pathMatch:"full"},{path:"about",component:nu},{path:"add-event",component:Ja},{path:"events",component:tu},{path:":event/login",component:ru,canActivate:[$r]},{path:":event/dashboard",component:eu,canActivate:[$r]},{path:":event/scan",component:hu,canActivate:[$r]},{path:":event/register",component:iu,canActivate:[$r]},{path:":event/registrations",component:ou,canActivate:[$r]}];class Is{}function ek(n,e){1&n&&Lt(0,"router-outlet")}function tk(n,e){1&n&&(k(0,"div",2),Lt(1,"div",3),V())}Is.\u0275fac=function(e){return new(e||Is)},Is.\u0275mod=Rn({type:Is}),Is.\u0275inj=yn({imports:[L2.forRoot(J9),L2]});class pu{constructor(e){this.commonService=e,this.title="registro",this.eventData={}}ngOnInit(){this.commonService.eventDataUpdated.subscribe({next:e=>{this.eventData=e,console.log(e)}})}}pu.\u0275fac=function(e){return new(e||pu)(F(cr))},pu.\u0275cmp=Mn({type:pu,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","h-100 d-flex",4,"ngIf"],[1,"h-100","d-flex"],[1,"m-auto","spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(It(0,ek,1,0,"router-outlet",0),It(1,tk,2,0,"div",1)),2&e&&(je("ngIf",t.eventData),Ce(1),je("ngIf",!t.eventData))},dependencies:[li,vp]});class bs{}bs.\u0275fac=function(e){return new(e||bs)},bs.\u0275mod=Rn({type:bs,bootstrap:[pu]}),bs.\u0275inj=yn({imports:[KO,Is,c6,HP,kC,Q9,m6]}),ZO().bootstrapModule(bs).catch(n=>console.error(n))},901:Ie=>{"use strict";var b={single_source_shortest_paths:function(M,D,S){var C={},E={};E[D]=0;var T,O,P,$,ue,q,A=b.PriorityQueue.make();for(A.push(D,0);!A.empty();)for(P in $=(T=A.pop()).cost,ue=M[O=T.value]||{})ue.hasOwnProperty(P)&&(q=$+ue[P],(typeof E[P]>"u"||E[P]>q)&&(E[P]=q,A.push(P,q),C[P]=O));if(typeof S<"u"&&typeof E[S]>"u"){var Ge=["Could not find a path from ",D," to ",S,"."].join("");throw new Error(Ge)}return C},extract_shortest_path_from_predecessor_list:function(M,D){for(var S=[],C=D;C;)S.push(C),C=M[C];return S.reverse(),S},find_path:function(M,D,S){var C=b.single_source_shortest_paths(M,D,S);return b.extract_shortest_path_from_predecessor_list(C,S)},PriorityQueue:{make:function(M){var C,D=b.PriorityQueue,S={};for(C in M=M||{},D)D.hasOwnProperty(C)&&(S[C]=D[C]);return S.queue=[],S.sorter=M.sorter||D.default_sorter,S},default_sorter:function(M,D){return M.cost-D.cost},push:function(M,D){this.queue.push({value:M,cost:D}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Ie.exports=b},419:Ie=>{"use strict";Ie.exports=function(M){for(var D=[],S=M.length,C=0;C<S;C++){var E=M.charCodeAt(C);if(E>=55296&&E<=56319&&S>C+1){var A=M.charCodeAt(C+1);A>=56320&&A<=57343&&(E=1024*(E-55296)+A-56320+65536,C+=1)}E<128?D.push(E):E<2048?(D.push(E>>6|192),D.push(63&E|128)):E<55296||E>=57344&&E<65536?(D.push(E>>12|224),D.push(E>>6&63|128),D.push(63&E|128)):E>=65536&&E<=1114111?(D.push(E>>18|240),D.push(E>>12&63|128),D.push(E>>6&63|128),D.push(63&E|128)):D.push(239,191,189)}return new Uint8Array(D).buffer}},259:(Ie,b,M)=>{const D=M(695),S=M(465),C=M(210),E=M(334);function A(T,O,P,$,ue){const Pe=[].slice.call(arguments,1),q=Pe.length,oe="function"==typeof Pe[q-1];if(!oe&&!D())throw new Error("Callback required as last argument");if(!oe){if(q<1)throw new Error("Too few arguments provided");return 1===q?(P=O,O=$=void 0):2===q&&!O.getContext&&($=P,P=O,O=void 0),new Promise(function(we,Ge){try{const Ct=S.create(P,$);we(T(Ct,O,$))}catch(Ct){Ge(Ct)}})}if(q<2)throw new Error("Too few arguments provided");2===q?(ue=P,P=O,O=$=void 0):3===q&&(O.getContext&&typeof ue>"u"?(ue=$,$=void 0):(ue=$,$=P,P=O,O=void 0));try{const we=S.create(P,$);ue(null,T(we,O,$))}catch(we){ue(we)}}b.create=S.create,b.toCanvas=A.bind(null,C.render),b.toDataURL=A.bind(null,C.renderToDataURL),b.toString=A.bind(null,function(T,O,P){return E.render(T,P)})},695:Ie=>{Ie.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},221:(Ie,b,M)=>{const D=M(792).getSymbolSize;b.getRowColCoords=function(C){if(1===C)return[];const E=Math.floor(C/7)+2,A=D(C),T=145===A?26:2*Math.ceil((A-13)/(2*E-2)),O=[A-7];for(let P=1;P<E-1;P++)O[P]=O[P-1]-T;return O.push(6),O.reverse()},b.getPositions=function(C){const E=[],A=b.getRowColCoords(C),T=A.length;for(let O=0;O<T;O++)for(let P=0;P<T;P++)0===O&&0===P||0===O&&P===T-1||O===T-1&&0===P||E.push([A[O],A[P]]);return E}},424:(Ie,b,M)=>{const D=M(16),S=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function C(E){this.mode=D.ALPHANUMERIC,this.data=E}C.getBitsLength=function(A){return 11*Math.floor(A/2)+A%2*6},C.prototype.getLength=function(){return this.data.length},C.prototype.getBitsLength=function(){return C.getBitsLength(this.data.length)},C.prototype.write=function(A){let T;for(T=0;T+2<=this.data.length;T+=2){let O=45*S.indexOf(this.data[T]);O+=S.indexOf(this.data[T+1]),A.put(O,11)}this.data.length%2&&A.put(S.indexOf(this.data[T]),6)},Ie.exports=C},118:Ie=>{function b(){this.buffer=[],this.length=0}b.prototype={get:function(M){const D=Math.floor(M/8);return 1==(this.buffer[D]>>>7-M%8&1)},put:function(M,D){for(let S=0;S<D;S++)this.putBit(1==(M>>>D-S-1&1))},getLengthInBits:function(){return this.length},putBit:function(M){const D=Math.floor(this.length/8);this.buffer.length<=D&&this.buffer.push(0),M&&(this.buffer[D]|=128>>>this.length%8),this.length++}},Ie.exports=b},425:Ie=>{function b(M){if(!M||M<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=M,this.data=new Uint8Array(M*M),this.reservedBit=new Uint8Array(M*M)}b.prototype.set=function(M,D,S,C){const E=M*this.size+D;this.data[E]=S,C&&(this.reservedBit[E]=!0)},b.prototype.get=function(M,D){return this.data[M*this.size+D]},b.prototype.xor=function(M,D,S){this.data[M*this.size+D]^=S},b.prototype.isReserved=function(M,D){return this.reservedBit[M*this.size+D]},Ie.exports=b},663:(Ie,b,M)=>{const D=M(419),S=M(16);function C(E){this.mode=S.BYTE,"string"==typeof E&&(E=D(E)),this.data=new Uint8Array(E)}C.getBitsLength=function(A){return 8*A},C.prototype.getLength=function(){return this.data.length},C.prototype.getBitsLength=function(){return C.getBitsLength(this.data.length)},C.prototype.write=function(E){for(let A=0,T=this.data.length;A<T;A++)E.put(this.data[A],8)},Ie.exports=C},655:(Ie,b,M)=>{const D=M(866),S=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],C=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];b.getBlocksCount=function(A,T){switch(T){case D.L:return S[4*(A-1)+0];case D.M:return S[4*(A-1)+1];case D.Q:return S[4*(A-1)+2];case D.H:return S[4*(A-1)+3];default:return}},b.getTotalCodewordsCount=function(A,T){switch(T){case D.L:return C[4*(A-1)+0];case D.M:return C[4*(A-1)+1];case D.Q:return C[4*(A-1)+2];case D.H:return C[4*(A-1)+3];default:return}}},866:(Ie,b)=>{b.L={bit:1},b.M={bit:0},b.Q={bit:3},b.H={bit:2},b.isValid=function(S){return S&&typeof S.bit<"u"&&S.bit>=0&&S.bit<4},b.from=function(S,C){if(b.isValid(S))return S;try{return function M(D){if("string"!=typeof D)throw new Error("Param is not a string");switch(D.toLowerCase()){case"l":case"low":return b.L;case"m":case"medium":return b.M;case"q":case"quartile":return b.Q;case"h":case"high":return b.H;default:throw new Error("Unknown EC Level: "+D)}}(S)}catch{return C}}},114:(Ie,b,M)=>{const D=M(792).getSymbolSize;b.getPositions=function(E){const A=D(E);return[[0,0],[A-7,0],[0,A-7]]}},78:(Ie,b,M)=>{const D=M(792),E=D.getBCHDigit(1335);b.getEncodedBits=function(T,O){const P=T.bit<<3|O;let $=P<<10;for(;D.getBCHDigit($)-E>=0;)$^=1335<<D.getBCHDigit($)-E;return 21522^(P<<10|$)}},339:(Ie,b)=>{const M=new Uint8Array(512),D=new Uint8Array(256);(function(){let C=1;for(let E=0;E<255;E++)M[E]=C,D[C]=E,C<<=1,256&C&&(C^=285);for(let E=255;E<512;E++)M[E]=M[E-255]})(),b.log=function(C){if(C<1)throw new Error("log("+C+")");return D[C]},b.exp=function(C){return M[C]},b.mul=function(C,E){return 0===C||0===E?0:M[D[C]+D[E]]}},449:(Ie,b,M)=>{const D=M(16),S=M(792);function C(E){this.mode=D.KANJI,this.data=E}C.getBitsLength=function(A){return 13*A},C.prototype.getLength=function(){return this.data.length},C.prototype.getBitsLength=function(){return C.getBitsLength(this.data.length)},C.prototype.write=function(E){let A;for(A=0;A<this.data.length;A++){let T=S.toSJIS(this.data[A]);if(T>=33088&&T<=40956)T-=33088;else{if(!(T>=57408&&T<=60351))throw new Error("Invalid SJIS character: "+this.data[A]+"\nMake sure your charset is UTF-8");T-=49472}T=192*(T>>>8&255)+(255&T),E.put(T,13)}},Ie.exports=C},667:(Ie,b)=>{b.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function D(S,C,E){switch(S){case b.Patterns.PATTERN000:return(C+E)%2==0;case b.Patterns.PATTERN001:return C%2==0;case b.Patterns.PATTERN010:return E%3==0;case b.Patterns.PATTERN011:return(C+E)%3==0;case b.Patterns.PATTERN100:return(Math.floor(C/2)+Math.floor(E/3))%2==0;case b.Patterns.PATTERN101:return C*E%2+C*E%3==0;case b.Patterns.PATTERN110:return(C*E%2+C*E%3)%2==0;case b.Patterns.PATTERN111:return(C*E%3+(C+E)%2)%2==0;default:throw new Error("bad maskPattern:"+S)}}b.isValid=function(C){return null!=C&&""!==C&&!isNaN(C)&&C>=0&&C<=7},b.from=function(C){return b.isValid(C)?parseInt(C,10):void 0},b.getPenaltyN1=function(C){const E=C.size;let A=0,T=0,O=0,P=null,$=null;for(let ue=0;ue<E;ue++){T=O=0,P=$=null;for(let Pe=0;Pe<E;Pe++){let q=C.get(ue,Pe);q===P?T++:(T>=5&&(A+=T-5+3),P=q,T=1),q=C.get(Pe,ue),q===$?O++:(O>=5&&(A+=O-5+3),$=q,O=1)}T>=5&&(A+=T-5+3),O>=5&&(A+=O-5+3)}return A},b.getPenaltyN2=function(C){const E=C.size;let A=0;for(let T=0;T<E-1;T++)for(let O=0;O<E-1;O++){const P=C.get(T,O)+C.get(T,O+1)+C.get(T+1,O)+C.get(T+1,O+1);(4===P||0===P)&&A++}return 3*A},b.getPenaltyN3=function(C){const E=C.size;let A=0,T=0,O=0;for(let P=0;P<E;P++){T=O=0;for(let $=0;$<E;$++)T=T<<1&2047|C.get(P,$),$>=10&&(1488===T||93===T)&&A++,O=O<<1&2047|C.get($,P),$>=10&&(1488===O||93===O)&&A++}return 40*A},b.getPenaltyN4=function(C){let E=0;const A=C.data.length;for(let O=0;O<A;O++)E+=C.data[O];return 10*Math.abs(Math.ceil(100*E/A/5)-10)},b.applyMask=function(C,E){const A=E.size;for(let T=0;T<A;T++)for(let O=0;O<A;O++)E.isReserved(O,T)||E.xor(O,T,D(C,O,T))},b.getBestMask=function(C,E){const A=Object.keys(b.Patterns).length;let T=0,O=1/0;for(let P=0;P<A;P++){E(P),b.applyMask(P,C);const $=b.getPenaltyN1(C)+b.getPenaltyN2(C)+b.getPenaltyN3(C)+b.getPenaltyN4(C);b.applyMask(P,C),$<O&&(O=$,T=P)}return T}},16:(Ie,b,M)=>{const D=M(406),S=M(699);b.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},b.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},b.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},b.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},b.MIXED={bit:-1},b.getCharCountIndicator=function(A,T){if(!A.ccBits)throw new Error("Invalid mode: "+A);if(!D.isValid(T))throw new Error("Invalid version: "+T);return T>=1&&T<10?A.ccBits[0]:T<27?A.ccBits[1]:A.ccBits[2]},b.getBestModeForData=function(A){return S.testNumeric(A)?b.NUMERIC:S.testAlphanumeric(A)?b.ALPHANUMERIC:S.testKanji(A)?b.KANJI:b.BYTE},b.toString=function(A){if(A&&A.id)return A.id;throw new Error("Invalid mode")},b.isValid=function(A){return A&&A.bit&&A.ccBits},b.from=function(A,T){if(b.isValid(A))return A;try{return function C(E){if("string"!=typeof E)throw new Error("Param is not a string");switch(E.toLowerCase()){case"numeric":return b.NUMERIC;case"alphanumeric":return b.ALPHANUMERIC;case"kanji":return b.KANJI;case"byte":return b.BYTE;default:throw new Error("Unknown mode: "+E)}}(A)}catch{return T}}},783:(Ie,b,M)=>{const D=M(16);function S(C){this.mode=D.NUMERIC,this.data=C.toString()}S.getBitsLength=function(E){return 10*Math.floor(E/3)+(E%3?E%3*3+1:0)},S.prototype.getLength=function(){return this.data.length},S.prototype.getBitsLength=function(){return S.getBitsLength(this.data.length)},S.prototype.write=function(E){let A,T,O;for(A=0;A+3<=this.data.length;A+=3)T=this.data.substr(A,3),O=parseInt(T,10),E.put(O,10);const P=this.data.length-A;P>0&&(T=this.data.substr(A),O=parseInt(T,10),E.put(O,3*P+1))},Ie.exports=S},106:(Ie,b,M)=>{const D=M(339);b.mul=function(C,E){const A=new Uint8Array(C.length+E.length-1);for(let T=0;T<C.length;T++)for(let O=0;O<E.length;O++)A[T+O]^=D.mul(C[T],E[O]);return A},b.mod=function(C,E){let A=new Uint8Array(C);for(;A.length-E.length>=0;){const T=A[0];for(let P=0;P<E.length;P++)A[P]^=D.mul(E[P],T);let O=0;for(;O<A.length&&0===A[O];)O++;A=A.slice(O)}return A},b.generateECPolynomial=function(C){let E=new Uint8Array([1]);for(let A=0;A<C;A++)E=b.mul(E,new Uint8Array([1,D.exp(A)]));return E}},465:(Ie,b,M)=>{const D=M(792),S=M(866),C=M(118),E=M(425),A=M(221),T=M(114),O=M(667),P=M(655),$=M(636),ue=M(88),Pe=M(78),q=M(16),oe=M(33);function be(te,de,re){const Z=te.size,Se=Pe.getEncodedBits(de,re);let he,ee;for(he=0;he<15;he++)ee=1==(Se>>he&1),te.set(he<6?he:he<8?he+1:Z-15+he,8,ee,!0),te.set(8,he<8?Z-he-1:he<9?15-he-1+1:15-he-1,ee,!0);te.set(Z-8,8,1,!0)}function Kt(te,de,re,Z){let Se;if(Array.isArray(te))Se=oe.fromArray(te);else{if("string"!=typeof te)throw new Error("Invalid data");{let hr=de;if(!hr){const it=oe.rawSplit(te);hr=ue.getBestVersionForData(it,re)}Se=oe.fromString(te,hr||40)}}const he=ue.getBestVersionForData(Se,re);if(!he)throw new Error("The amount of data is too big to be stored in a QR Code");if(de){if(de<he)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+he+".\n")}else de=he;const ee=function ve(te,de,re){const Z=new C;re.forEach(function(Te){Z.put(Te.mode.bit,4),Z.put(Te.getLength(),q.getCharCountIndicator(Te.mode,te)),Te.write(Z)});const ee=8*(D.getSymbolTotalCodewords(te)-P.getTotalCodewordsCount(te,de));for(Z.getLengthInBits()+4<=ee&&Z.put(0,4);Z.getLengthInBits()%8!=0;)Z.putBit(0);const _e=(ee-Z.getLengthInBits())/8;for(let Te=0;Te<_e;Te++)Z.put(Te%2?17:236,8);return function Ot(te,de,re){const Z=D.getSymbolTotalCodewords(de),he=Z-P.getTotalCodewordsCount(de,re),ee=P.getBlocksCount(de,re),Te=ee-Z%ee,hr=Math.floor(Z/ee),it=Math.floor(he/ee),gu=it+1,vu=hr-it,Xl=new $(vu);let Ts=0;const Tn=new Array(ee),Ms=new Array(ee);let mo=0;const Nt=new Uint8Array(te.buffer);for(let Vi=0;Vi<ee;Vi++){const yo=Vi<Te?it:gu;Tn[Vi]=Nt.slice(Ts,Ts+yo),Ms[Vi]=Xl.encode(Tn[Vi]),Ts+=yo,mo=Math.max(mo,yo)}const mt=new Uint8Array(Z);let ce,Hn,mu=0;for(ce=0;ce<mo;ce++)for(Hn=0;Hn<ee;Hn++)ce<Tn[Hn].length&&(mt[mu++]=Tn[Hn][ce]);for(ce=0;ce<vu;ce++)for(Hn=0;Hn<ee;Hn++)mt[mu++]=Ms[Hn][ce];return mt}(Z,te,de)}(de,re,Se),_e=D.getSymbolSize(de),Te=new E(_e);return function we(te,de){const re=te.size,Z=T.getPositions(de);for(let Se=0;Se<Z.length;Se++){const he=Z[Se][0],ee=Z[Se][1];for(let _e=-1;_e<=7;_e++)if(!(he+_e<=-1||re<=he+_e))for(let Te=-1;Te<=7;Te++)ee+Te<=-1||re<=ee+Te||te.set(he+_e,ee+Te,_e>=0&&_e<=6&&(0===Te||6===Te)||Te>=0&&Te<=6&&(0===_e||6===_e)||_e>=2&&_e<=4&&Te>=2&&Te<=4,!0)}}(Te,de),function Ge(te){const de=te.size;for(let re=8;re<de-8;re++){const Z=re%2==0;te.set(re,6,Z,!0),te.set(6,re,Z,!0)}}(Te),function Ct(te,de){const re=A.getPositions(de);for(let Z=0;Z<re.length;Z++){const Se=re[Z][0],he=re[Z][1];for(let ee=-2;ee<=2;ee++)for(let _e=-2;_e<=2;_e++)te.set(Se+ee,he+_e,-2===ee||2===ee||-2===_e||2===_e||0===ee&&0===_e,!0)}}(Te,de),be(Te,re,0),de>=7&&function ye(te,de){const re=te.size,Z=ue.getEncodedBits(de);let Se,he,ee;for(let _e=0;_e<18;_e++)Se=Math.floor(_e/3),he=_e%3+re-8-3,ee=1==(Z>>_e&1),te.set(Se,he,ee,!0),te.set(he,Se,ee,!0)}(Te,de),function xe(te,de){const re=te.size;let Z=-1,Se=re-1,he=7,ee=0;for(let _e=re-1;_e>0;_e-=2)for(6===_e&&_e--;;){for(let Te=0;Te<2;Te++)if(!te.isReserved(Se,_e-Te)){let hr=!1;ee<de.length&&(hr=1==(de[ee]>>>he&1)),te.set(Se,_e-Te,hr),he--,-1===he&&(ee++,he=7)}if(Se+=Z,Se<0||re<=Se){Se-=Z,Z=-Z;break}}}(Te,ee),isNaN(Z)&&(Z=O.getBestMask(Te,be.bind(null,Te,re))),O.applyMask(Z,Te),be(Te,re,Z),{modules:Te,version:de,errorCorrectionLevel:re,maskPattern:Z,segments:Se}}b.create=function(de,re){if(typeof de>"u"||""===de)throw new Error("No input text");let Se,he,Z=S.M;return typeof re<"u"&&(Z=S.from(re.errorCorrectionLevel,S.M),Se=ue.from(re.version),he=O.from(re.maskPattern),re.toSJISFunc&&D.setToSJISFunction(re.toSJISFunc)),Kt(de,Se,Z,he)}},636:(Ie,b,M)=>{const D=M(106);function S(C){this.genPoly=void 0,this.degree=C,this.degree&&this.initialize(this.degree)}S.prototype.initialize=function(E){this.degree=E,this.genPoly=D.generateECPolynomial(this.degree)},S.prototype.encode=function(E){if(!this.genPoly)throw new Error("Encoder not initialized");const A=new Uint8Array(E.length+this.degree);A.set(E);const T=D.mod(A,this.genPoly),O=this.degree-T.length;if(O>0){const P=new Uint8Array(this.degree);return P.set(T,O),P}return T},Ie.exports=S},699:(Ie,b)=>{const M="[0-9]+";let S="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";S=S.replace(/u/g,"\\u");const C="(?:(?![A-Z0-9 $%*+\\-./:]|"+S+")(?:.|[\r\n]))+";b.KANJI=new RegExp(S,"g"),b.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),b.BYTE=new RegExp(C,"g"),b.NUMERIC=new RegExp(M,"g"),b.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const E=new RegExp("^"+S+"$"),A=new RegExp("^"+M+"$"),T=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");b.testKanji=function(P){return E.test(P)},b.testNumeric=function(P){return A.test(P)},b.testAlphanumeric=function(P){return T.test(P)}},33:(Ie,b,M)=>{const D=M(16),S=M(783),C=M(424),E=M(663),A=M(449),T=M(699),O=M(792),P=M(901);function $(ye){return unescape(encodeURIComponent(ye)).length}function ue(ye,be,xe){const ve=[];let Ot;for(;null!==(Ot=ye.exec(xe));)ve.push({data:Ot[0],index:Ot.index,mode:be,length:Ot[0].length});return ve}function Pe(ye){const be=ue(T.NUMERIC,D.NUMERIC,ye),xe=ue(T.ALPHANUMERIC,D.ALPHANUMERIC,ye);let ve,Ot;return O.isKanjiModeEnabled()?(ve=ue(T.BYTE,D.BYTE,ye),Ot=ue(T.KANJI,D.KANJI,ye)):(ve=ue(T.BYTE_KANJI,D.BYTE,ye),Ot=[]),be.concat(xe,ve,Ot).sort(function(te,de){return te.index-de.index}).map(function(te){return{data:te.data,mode:te.mode,length:te.length}})}function q(ye,be){switch(be){case D.NUMERIC:return S.getBitsLength(ye);case D.ALPHANUMERIC:return C.getBitsLength(ye);case D.KANJI:return A.getBitsLength(ye);case D.BYTE:return E.getBitsLength(ye)}}function Ct(ye,be){let xe;const ve=D.getBestModeForData(ye);if(xe=D.from(be,ve),xe!==D.BYTE&&xe.bit<ve.bit)throw new Error('"'+ye+'" cannot be encoded with mode '+D.toString(xe)+".\n Suggested mode is: "+D.toString(ve));switch(xe===D.KANJI&&!O.isKanjiModeEnabled()&&(xe=D.BYTE),xe){case D.NUMERIC:return new S(ye);case D.ALPHANUMERIC:return new C(ye);case D.KANJI:return new A(ye);case D.BYTE:return new E(ye)}}b.fromArray=function(be){return be.reduce(function(xe,ve){return"string"==typeof ve?xe.push(Ct(ve,null)):ve.data&&xe.push(Ct(ve.data,ve.mode)),xe},[])},b.fromString=function(be,xe){const Ot=function we(ye){const be=[];for(let xe=0;xe<ye.length;xe++){const ve=ye[xe];switch(ve.mode){case D.NUMERIC:be.push([ve,{data:ve.data,mode:D.ALPHANUMERIC,length:ve.length},{data:ve.data,mode:D.BYTE,length:ve.length}]);break;case D.ALPHANUMERIC:be.push([ve,{data:ve.data,mode:D.BYTE,length:ve.length}]);break;case D.KANJI:be.push([ve,{data:ve.data,mode:D.BYTE,length:$(ve.data)}]);break;case D.BYTE:be.push([{data:ve.data,mode:D.BYTE,length:$(ve.data)}])}}return be}(Pe(be,O.isKanjiModeEnabled())),Kt=function Ge(ye,be){const xe={},ve={start:{}};let Ot=["start"];for(let Kt=0;Kt<ye.length;Kt++){const te=ye[Kt],de=[];for(let re=0;re<te.length;re++){const Z=te[re],Se=""+Kt+re;de.push(Se),xe[Se]={node:Z,lastCount:0},ve[Se]={};for(let he=0;he<Ot.length;he++){const ee=Ot[he];xe[ee]&&xe[ee].node.mode===Z.mode?(ve[ee][Se]=q(xe[ee].lastCount+Z.length,Z.mode)-q(xe[ee].lastCount,Z.mode),xe[ee].lastCount+=Z.length):(xe[ee]&&(xe[ee].lastCount=Z.length),ve[ee][Se]=q(Z.length,Z.mode)+4+D.getCharCountIndicator(Z.mode,be))}}Ot=de}for(let Kt=0;Kt<Ot.length;Kt++)ve[Ot[Kt]].end=0;return{map:ve,table:xe}}(Ot,xe),te=P.find_path(Kt.map,"start","end"),de=[];for(let re=1;re<te.length-1;re++)de.push(Kt.table[te[re]].node);return b.fromArray(function oe(ye){return ye.reduce(function(be,xe){const ve=be.length-1>=0?be[be.length-1]:null;return ve&&ve.mode===xe.mode?(be[be.length-1].data+=xe.data,be):(be.push(xe),be)},[])}(de))},b.rawSplit=function(be){return b.fromArray(Pe(be,O.isKanjiModeEnabled()))}},792:(Ie,b)=>{let M;const D=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];b.getSymbolSize=function(C){if(!C)throw new Error('"version" cannot be null or undefined');if(C<1||C>40)throw new Error('"version" should be in range from 1 to 40');return 4*C+17},b.getSymbolTotalCodewords=function(C){return D[C]},b.getBCHDigit=function(S){let C=0;for(;0!==S;)C++,S>>>=1;return C},b.setToSJISFunction=function(C){if("function"!=typeof C)throw new Error('"toSJISFunc" is not a valid function.');M=C},b.isKanjiModeEnabled=function(){return typeof M<"u"},b.toSJIS=function(C){return M(C)}},406:(Ie,b)=>{b.isValid=function(D){return!isNaN(D)&&D>=1&&D<=40}},88:(Ie,b,M)=>{const D=M(792),S=M(655),C=M(866),E=M(16),A=M(406),O=D.getBCHDigit(7973);function $(q,oe){return E.getCharCountIndicator(q,oe)+4}function ue(q,oe){let we=0;return q.forEach(function(Ge){const Ct=$(Ge.mode,oe);we+=Ct+Ge.getBitsLength()}),we}b.from=function(oe,we){return A.isValid(oe)?parseInt(oe,10):we},b.getCapacity=function(oe,we,Ge){if(!A.isValid(oe))throw new Error("Invalid QR Code version");typeof Ge>"u"&&(Ge=E.BYTE);const be=8*(D.getSymbolTotalCodewords(oe)-S.getTotalCodewordsCount(oe,we));if(Ge===E.MIXED)return be;const xe=be-$(Ge,oe);switch(Ge){case E.NUMERIC:return Math.floor(xe/10*3);case E.ALPHANUMERIC:return Math.floor(xe/11*2);case E.KANJI:return Math.floor(xe/13);default:return Math.floor(xe/8)}},b.getBestVersionForData=function(oe,we){let Ge;const Ct=C.from(we,C.M);if(Array.isArray(oe)){if(oe.length>1)return function Pe(q,oe){for(let we=1;we<=40;we++)if(ue(q,we)<=b.getCapacity(we,oe,E.MIXED))return we}(oe,Ct);if(0===oe.length)return 1;Ge=oe[0]}else Ge=oe;return function P(q,oe,we){for(let Ge=1;Ge<=40;Ge++)if(oe<=b.getCapacity(Ge,we,q))return Ge}(Ge.mode,Ge.getLength(),Ct)},b.getEncodedBits=function(oe){if(!A.isValid(oe)||oe<7)throw new Error("Invalid QR Code version");let we=oe<<12;for(;D.getBCHDigit(we)-O>=0;)we^=7973<<D.getBCHDigit(we)-O;return oe<<12|we}},210:(Ie,b,M)=>{const D=M(355);b.render=function(A,T,O){let P=O,$=T;typeof P>"u"&&(!T||!T.getContext)&&(P=T,T=void 0),T||($=function C(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),P=D.getOptions(P);const ue=D.getImageWidth(A.modules.size,P),Pe=$.getContext("2d"),q=Pe.createImageData(ue,ue);return D.qrToImageData(q.data,A,P),function S(E,A,T){E.clearRect(0,0,A.width,A.height),A.style||(A.style={}),A.height=T,A.width=T,A.style.height=T+"px",A.style.width=T+"px"}(Pe,$,ue),Pe.putImageData(q,0,0),$},b.renderToDataURL=function(A,T,O){let P=O;return typeof P>"u"&&(!T||!T.getContext)&&(P=T,T=void 0),P||(P={}),b.render(A,T,P).toDataURL(P.type||"image/png",(P.rendererOpts||{}).quality)}},334:(Ie,b,M)=>{const D=M(355);function S(A,T){const O=A.a/255,P=T+'="'+A.hex+'"';return O<1?P+" "+T+'-opacity="'+O.toFixed(2).slice(1)+'"':P}function C(A,T,O){let P=A+T;return typeof O<"u"&&(P+=" "+O),P}b.render=function(T,O,P){const $=D.getOptions(O),ue=T.modules.size,Pe=T.modules.data,q=ue+2*$.margin,oe=$.color.light.a?"<path "+S($.color.light,"fill")+' d="M0 0h'+q+"v"+q+'H0z"/>':"",we="<path "+S($.color.dark,"stroke")+' d="'+function E(A,T,O){let P="",$=0,ue=!1,Pe=0;for(let q=0;q<A.length;q++){const oe=Math.floor(q%T),we=Math.floor(q/T);!oe&&!ue&&(ue=!0),A[q]?(Pe++,q>0&&oe>0&&A[q-1]||(P+=ue?C("M",oe+O,.5+we+O):C("m",$,0),$=0,ue=!1),oe+1<T&&A[q+1]||(P+=C("h",Pe),Pe=0)):$++}return P}(Pe,ue,$.margin)+'"/>',ye='<svg xmlns="http://www.w3.org/2000/svg" '+($.width?'width="'+$.width+'" height="'+$.width+'" ':"")+'viewBox="0 0 '+q+" "+q+'" shape-rendering="crispEdges">'+oe+we+"</svg>\n";return"function"==typeof P&&P(null,ye),ye}},355:(Ie,b)=>{function M(D){if("number"==typeof D&&(D=D.toString()),"string"!=typeof D)throw new Error("Color should be defined as hex string");let S=D.slice().replace("#","").split("");if(S.length<3||5===S.length||S.length>8)throw new Error("Invalid hex color: "+D);(3===S.length||4===S.length)&&(S=Array.prototype.concat.apply([],S.map(function(E){return[E,E]}))),6===S.length&&S.push("F","F");const C=parseInt(S.join(""),16);return{r:C>>24&255,g:C>>16&255,b:C>>8&255,a:255&C,hex:"#"+S.slice(0,6).join("")}}b.getOptions=function(S){S||(S={}),S.color||(S.color={});const E=S.width&&S.width>=21?S.width:void 0;return{width:E,scale:E?4:S.scale||4,margin:typeof S.margin>"u"||null===S.margin||S.margin<0?4:S.margin,color:{dark:M(S.color.dark||"#000000ff"),light:M(S.color.light||"#ffffffff")},type:S.type,rendererOpts:S.rendererOpts||{}}},b.getScale=function(S,C){return C.width&&C.width>=S+2*C.margin?C.width/(S+2*C.margin):C.scale},b.getImageWidth=function(S,C){const E=b.getScale(S,C);return Math.floor((S+2*C.margin)*E)},b.qrToImageData=function(S,C,E){const A=C.modules.size,T=C.modules.data,O=b.getScale(A,E),P=Math.floor((A+2*E.margin)*O),$=E.margin*O,ue=[E.color.light,E.color.dark];for(let Pe=0;Pe<P;Pe++)for(let q=0;q<P;q++){let oe=4*(Pe*P+q),we=E.color.light;Pe>=$&&q>=$&&Pe<P-$&&q<P-$&&(we=ue[T[Math.floor((Pe-$)/O)*A+Math.floor((q-$)/O)]?1:0]),S[oe++]=we.r,S[oe++]=we.g,S[oe++]=we.b,S[oe]=we.a}}}},Ie=>{Ie(Ie.s=838)}]);